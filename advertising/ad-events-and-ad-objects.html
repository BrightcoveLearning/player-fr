---
title: Événements publicitaires et objets publicitaires
parent: Advertising
description: 'This document explains and demonstrates the use of a common set of ad events and ad objects implemented in les <em>videojs-contrib-ads</em> brancher.'
---

<article class="bcls-article">
  <h1>Événements publicitaires et objets publicitaires</h1>
  <summary>{{ page.description }}</summary>
  <section id="Overview" class="bcls-section">
    <h2>Présentation</h2>
    <p>Le <em>videojs-contrib-ads</em>, située dans le <a href="https://github.com/videojs/videojs-contrib-ads">videojs/videojs-contrib-annonces</a> Le référentiel GitHub fournit des fonctionnalités communes nécessaires aux bibliothèques de publicités vidéo et aux intégrations de publicités vidéo, réduisant ainsi le code que vous devez écrire pour votre intégration publicitaire spécifique.</p>
    <p>Ces événements et objets sont implémentés dans les plugins FreeWheel et IMA3 fournis par Brightcove. Ces mêmes événements et objets sont implémentés dans les plugins SSAI, à l'exception de ce qui suit:</p>
    <ul>
      <li><code translate="No">player.ads.pod</code> interface</li>
      <li><code translate="No">player.ads.provider</code> objet</li>
    </ul>
  </section>
  <section id="events" class="bcls-section">
    <h2>Événements publicitaires</h2>
    <p>Chaque fournisseur d'annonces peut émettre un ensemble unique d'événements. En règle générale, ces événements sont utilisés pour suivre l'état de la lecture des annonces à des fins de métrique et pour créer des interfaces utilisateur personnalisées. Il est suggéré de mettre en œuvre les événements suivants pour encourager l'uniformité et permettre aux interfaces utilisateur personnalisées et aux fournisseurs d'analyse de rester indépendants du fournisseur de publicité.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:30%">Événement</th>
          <th style="width:70%">Expédié lorsque :</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">ads-request</code></td>
          <td>Les données de l'annonce sont demandées</td>
        </tr>
        <tr>
          <td><code translate="No">ads-load</code></td>
          <td>Les données d'annonce sont disponibles suite à une demande d'annonce</td>
        </tr>
        <tr>
          <td><code translate="No">ads-pod-started</code></td>
          <td>Un groupe d'annonces linéaire a démarré</td>
        </tr>
        <tr>
          <td><code translate="No">ads-pod-ended</code></td>
          <td>Un pod d'annonces linéaire est terminé</td>
        </tr>
        <tr>
          <td><code translate="No">ads-allpods-completed</code></td>
          <td>Toutes les annonces linéaires sont terminées</td>
        </tr>
        <tr>
          <td><code translate="No">ads-ad-started</code></td>
          <td>La lecture de l'annonce commence</td>
        </tr>
        <tr>
          <td><code translate="No">ads-ad-ended</code></td>
          <td>La lecture de l'annonce est terminée</td>
        </tr>
        <tr>
          <td><code translate="No">ads-first-quartile</code></td>
          <td>La tête de lecture de l'annonce traverse le premier quartile</td>
        </tr>
        <tr>
          <td><code translate="No">ads-midpoint</code></td>
          <td>La tête de lecture de l'annonce croise le point médian</td>
        </tr>
        <tr>
          <td><code translate="No">ads-third-quartile</code></td>
          <td>La tête de lecture de l'annonce traverse le troisième quartile</td>
        </tr>
        <tr>
          <td><code translate="No">ads-pause</code></td>
          <td>L'annonce est mise en veille</td>
        </tr>
        <tr>
          <td><code translate="No">ads-play</code></td>
          <td>L'annonce est reprise</td>
        </tr>
        <tr>
          <td><code translate="No">ads-volumechange</code></td>
          <td>Le volume des annonces a été modifié</td>
        </tr>
        <tr>
          <td><code translate="No">ads-click</code></td>
          <td>L'annonce a été cliquée</td>
        </tr>
      </tbody>
    </table>
    <p>Ces événements peuvent être écoutés à partir de l'objet joueur. Vous trouverez ci-dessous le code pour écouter le <code translate="No">ads-ad-started</code> objet, ainsi qu'une capture d'écran de ce à quoi ressemble l'objet passé au gestionnaire d'événements.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  ...
  <span class="bcls-highlight">myPlayer.on('ads-ad-started',function( evt ){</span>
    console.log('ads-ad-started event passed to event handler', evt);
  });</code></pre>
    <figure class="bcls-figure"><img class="bcls-image" alt="ad event object" src="/assets/images/advertising/event-object.png" /></figure>
  </section>
  <section id="adobjects" class="bcls-section">
    <h2>Objets publicitaires</h2>
    <p>Comme vous le voyez, l'objet événement passé au gestionnaire d'événements n'est pas très instructif. Pour cette raison, il existe deux objets que vous pouvez exploiter à partir desquels vous pouvez collecter plus d'informations sur les annonces, ils sont <strong translate="No">player.ads.ad</strong> et <strong translate="No">player.ads.pod</strong>.</p>
    <aside class="bcls-aside bcls-aside--information">
      <p >Remarque : Si vous ne connaissez pas le terme <code translate="No">ad pod</code> , c'est une séquence d'annonces linéaires qui sont lues l'une après l'autre. Les pauses publicitaires à la télévision sont des exemples de pods. Les pods sont couramment utilisés dans les vidéos longues pour créer une expérience publicitaire similaire à celle de la télévision.</p>
    </aside>
    <p>Sur la capture d'écran ci-dessous, vous voyez le <strong translate="No">player.ads.ad</strong> l'objet contient des informations sur l'annonce <code translate="No">type</code> et <code translate="No">duration</code> de l'annonce, entre autres détails.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="player ads" src="/assets/images/advertising/player-ads-ad-object.png" /></figure>
    <p>Les <strong translate="No">player.ads.pod</strong> l'objet contient des informations similaires à <strong>player.ads.ad</strong> , avec l'ajout du nombre d'annonces dans le pod. La première capture d'écran ci-dessous montre un pod d'annonces avec une seule annonce, tandis que la seconde montre un pod avec trois annonces.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="ads pod object" src="/assets/images/advertising/player-ads-pod-object.png" /></figure>
    <figure class="bcls-figure"><img class="bcls-image" alt="multiple ads pod" src="/assets/images/advertising/ad-pod-multiple-ads.png" /></figure>
    <aside class="bcls-aside bcls-aside--information">
      <p>Notes sur l'objet:</p>
      <ul>
        <li>
          <p >Tout sauf <code translate="No">player.ads.provider.type</code> n'est pas défini pendant la lecture du contenu.</p>
        </li>
        <li>
          <p >Le type d'annonce doit être l'un des <code translate="No">PREROLL</code> , <code translate="No">MIDROLL</code> ou <code translate="No">POSTROLL</code></p>
        </li>
      </ul>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="Googles_AdsManager">Gestionnaire d'annonces Google</h2>
    <p>Il existe des méthodes et des propriétés disponibles auprès de Google <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager">google.ima.AdsManager</a> Interface. Vous pouvez utiliser les propriétés/méthodes de l'interface qui récupèrent des informations. Il n'est pas conseillé d'utiliser les méthodes qui effectuent des actions, comme <code translate="No">destroy </code> , <code translate="No">setAutoPlayAdBreaks </code> et <code translate="No">stop </code>. Par exemple, une méthode que vous pouvez utiliser est illustrée ici :</p>
    <h3>AdsManager.getRemainingTime</h3>
    <p>Type: <code translate="No">google.ima.AdsManager.getRemainingTime </code></p>
    <p>Usage: <code translate="No">myPlayer.ima3.adsManager.getRemainingTime() </code></p>
    <p>L'appel de cette méthode renvoie le temps restant pour l'annonce en cours. Si une annonce n'est pas disponible ou a terminé la lecture, elle renvoie -1. Pour plus d'informations, consultez Google <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager#getRemainingTime">document</a> sur la méthode.</p>
  </section>
</article>