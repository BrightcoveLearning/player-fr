---
title: Affichage d'annonces à l'aide de points de repère d'annonce
parent: Advertising
description: In this document, you will learn how to use the IMA3 plugin and ad cue points to display ads.
---

<article class="bcls-article">
  <h1>Affichage des annonces à l'aide de points de repère</h1>
  <summary>{{ page.description }}</summary>
  <section id="Example_player" class="bcls-section">
    <h2>Exemple de lecteur</h2>
    <p>Ce qui suit montre un joueur montrant une publicité à un point de repère créé à la deuxième marque de la vidéo.</p>
    <iframe src="https://players.brightcove.net/1752604059001/rkptuIjul_default/index.html?videoId=5318598744001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="640" height="360"></iframe>
  </section>
  <section id="Instructional_video" class="bcls-section">
    <h2>Vidéo pédagogique</h2>
    <p>Ce qui suit est une vidéo d'instructions qui vous guide tout au long du processus d'utilisation des points de repère publicitaire pour lire des publicités pendant la lecture vidéo.</p>
    <iframe src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5353307007001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="800" height="450"></iframe>
  </section>
  <section id="Playing_a_video_non-fullscreen" class="bcls-section">
    <h2>Présentation de la mise</h2>
    <p>Pour lire des annonces basées sur des points de repère publicitaires dans la vidéo, vous devrez effectuer les opérations suivantes:</p>
    <ul>
      <li>Dans les studios <strong>MÉDIAS</strong> module, créez le (s) point (s) publicitaire (s) dans la vidéo au (x) moment (s) souhaité (s).</li>
      <li>Obtenez / créez un tag VAST qui diffusera les publicités souhaitées sur la vidéo lorsqu'un point de repère déclenche une demande.</li>
      <li>Assurez-vous que <strong>IMA3</strong> Le plugin est chargé dans le lecteur. Dans ce document, vous verrez deux façons d'effectuer cette tâche.</li>
      <li>Configurer le <strong>IMA3</strong> plugin pour utiliser des points de repère publicitaire.</li>
    </ul>
  </section>
  <section id="Create_ad_cue_points" class="bcls-section">
    <h2>Créer des points de repère publicitaire</h2>
    <p>Vous utilisez Studio's <strong>MÉDIAS</strong> module pour ajouter des points de repère publicitaire à une vidéo. Cliquez sur une vidéo, puis effectuez les tâches suivantes:</p>
    <ol>
      <li>Juste en dessous de la vidéo, cliquez sur le <strong>Ad Cue Point</strong> bouton.</li>
      <li>Entrez l'heure à laquelle vous souhaitez que le point de repère soit distribué.</li>
      <li>Met le <strong>Type</strong> à <strong>un d</strong>.</li>
      <li>Donnez un nom au point de repère.</li>
    </ol>
    <figure class="bcls-figure"><img class="bcls-image" alt="Create cue point in Studio" src="/assets/images/advertising/studio-create-cue-point.png" /></figure>
    <p>Vous pouvez ajouter plusieurs points de repère. Pour plus d'informations sur l'utilisation des points de repère dans Studio, consultez le <a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">Utilisation des points de repère dans le module multimédia</a> document.</p>
  </section>
  <section id="Create/obtain_a_VAST_tag" class="bcls-section">
    <h2>Créer / obtenir une balise VAST</h2>
    <p>Lors de la configuration du plugin IMA3, vous devrez fournir une URL vers un emplacement d'une balise VAST. La balise VAST diffuse l'annonce pour que le joueur la joue. Dans cet exemple, une balise VAST statique (qui est en fait une URL vers un document XML VAST) est utilisée. Vous souhaiterez peut-être utiliser un serveur publicitaire pour choisir au hasard parmi plusieurs annonces à afficher. Quoi qu'il en soit, le plugin IMA3 devra pointer vers une balise VAST valide.</p>
    <p>Pour ce document, une balise VAST statique sera utilisée pour lire une seule publicité. Le XML VAST se présente comme suit:</p>
    <pre class="line-numbers">
      <code class="language-html" translate="No">&lt;VAST version="3.0"&gt;
        &lt;Ad id="1"&gt;
          &lt;InLine&gt;
            &lt;AdSystem version="1.0"&gt;Test Ad Server&lt;/AdSystem&gt;
            &lt;AdTitle&gt;
              &lt;![CDATA[ Portals ]]&gt;
            &lt;/AdTitle&gt;
            &lt;Description&gt;
              &lt;![CDATA[ Demo ad number 6 ]]&gt;
            &lt;/Description&gt;
            &lt;Error&gt;
              &lt;![CDATA[ ]]&gt;
            &lt;/Error&gt;
            &lt;Creatives&gt;
              &lt;Creative&gt;
                &lt;Linear&gt;
                  &lt;Duration&gt;00:00:8&lt;/Duration&gt;
                  &lt;TrackingEvents/&gt;
                  &lt;AdParameters&gt;
                    &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
                  &lt;/AdParameters&gt;
                  &lt;VideoClicks/&gt;
                  &lt;MediaFiles&gt;
                    &lt;MediaFile type="video/mp4" width="1280" height="720" delivery="progressive" id="2" bitrate="4316" minBitrate="320" maxBitrate="320" scalable="true" maintainAspectRatio="true"&gt;
                      &lt;![CDATA[
                        http://solutions.brightcove.com/bcls/ads/bc-ads/bcls-ad-6-5seconds.mp4
                      ]]&gt;
                    &lt;/MediaFile&gt;
                  &lt;/MediaFiles&gt;
                &lt;/Linear&gt;
              &lt;/Creative&gt;
            &lt;/Creatives&gt;
            &lt;Extensions&gt;
              &lt;Extension&gt;
                &lt;xml&gt;data&lt;/xml&gt;
              &lt;/Extension&gt;
            &lt;/Extensions&gt;
          &lt;/InLine&gt;
        &lt;/Ad&gt;
      &lt;/VAST&gt;</code></pre>
  </section>
  <section id="Studio_implementation" class="bcls-section">
    <h2>Implémentation Studio</h2>
    <p>Vous pouvez utiliser Studio pour configurer des points de repère publicitaire. À partir d'un niveau élevé, vous effectuez les opérations suivantes:</p>
    <ul>
      <li>Configurez le plugin IMA3 à l'aide du <strong>La publicité</strong> section dans le <strong>JOUEURS</strong> module.</li>
      <li>Publiez votre lecteur.</li>
    </ul>
    <p>Voici les étapes détaillées qui effectuent la mise en place:</p>
    <ol class="bcls-tasklist">
      <li>Ouvrez le <strong>JOUEURS</strong> module et créez un nouveau lecteur ou localisez le lecteur auquel vous souhaitez ajouter une publicité de point de repère.</li>
      <li>Cliquez sur le lien correspondant au lecteur pour ouvrir ses propriétés.</li>
      <li>Cliquez sur <strong>Publicité</strong> dans le menu de navigation de gauche.</li>
      <li>Vérifier la <strong>Activer côté client (IMA)</strong> case à cocher.</li>
      <li>Fournir le <strong>Tag publicitaire</strong>.</li>
      <li>Du <strong>Demander des annonces</strong> déroulant, sélectionnez <strong>Au point de repère</strong> , comme indiqué ici:
        <figure class="bcls-figure"><img class="bcls-image" alt="Plugin configuration in Studio" src="/assets/images/advertising/studio-plugin-setup.png" /></figure>
      </li>
      <li>Cliquez sur <strong>Save</strong>.</li>
      <li>Pour publier le lecteur, cliquez sur <strong>Publier et intégrer &gt; Publier les modifications</strong>.</li>
      <li>Pour fermer la boîte de dialogue ouverte, cliquez sur <strong>Fermer</strong>.</li>
      <li>Revenir au <strong>MÉDIAS</strong> module et publiez une vidéo avec des points de repère publicitaire à l'aide du lecteur nouvellement configuré.</li>
    </ol>
  </section>
  <section id="Plugin_configuration" class="bcls-section">
    <h2>Configuration du plugin</h2>
    <p>Il y a des paramètres de configuration que vous devez apporter au plugin IMA3 pour utiliser correctement les points de repère publicitaire. Il s'agit de :</p>
    <ul>
      <li><code translate="No">useMediaCuePoints</code> doit être réglé sur <code translate="No">true</code></li>
      <li><code translate="No">requestMode</code> doit être défini sur la chaîne <code translate="No">oncue</code></li>
      <li><code translate="No">serverUrl</code> doit être défini sur une balise VAST valide</li>
    </ul>
    <p>Pour plus de détails sur ces options, consultez le <a href="/plugins/advertising-ima3-plugin.html#Options">Publicité avec le plugin IMA3</a> document <strong>Options</strong> section.</p>
  </section>
  <section id="In-page_embed_implementation" class="bcls-section">
    <h2>Implémentation d'intégration dans la page</h2>
    <p>Vous pouvez également mettre en œuvre des points de repère publicitaire à l'aide du code du lecteur intégré dans la page. Dans le code ci-dessous, le plugin IMA3 est chargé et configuré le tout dans la page HTML.</p>
    <p>Le code suivant est l'implémentation réelle:</p>
    <ul>
      <li>Lignes 7 à 12 : Donnez un style à la taille du lecteur.</li>
      <li>Ligne 13 : Lien vers le CSS du plugin IMA3.</li>
      <li>Lignes 19-27: Le code d'édition du joueur, avec l'ajout d'un <code translate="No">id</code> attribut, qui sera utilisé dans le JavaScript.</li>
      <li>Ligne 29: Incluez le JavaScript du plugin IMA3.</li>
      <li>Lignes 32-33, 40: Code standard pour attendre que le code du joueur soit prêt à interagir, et attribuer une variable à l'objet joueur.</li>
      <li>Lignes 34-38: Attribuez aux options requises leurs valeurs prescrites.</li>
      <li>Ligne 39 : Appeler le <code translate="No">ima3</code> plugin, en passant les options en paramètre.</li>
    </ul>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"&gt;

&lt;/head&gt;

&lt;body&gt;

  &lt;video-js id="myPlayerID"
    data-video-id="4607746980001"
    data-account="1507807800001"
    data-player="rkNxoBMOe"
    data-embed="default"
    data-application-id
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/rkNxoBMOe_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this,
      <span class="bcls-highlight">options = {
        useMediaCuePoints: true,
        requestMode: 'oncue',
        serverUrl: "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml"
      };
      myPlayer.ima3(options);</span>
    });
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Known_issues">Problèmes connus</h2>
    <ul>
      <li>Lorsque vous nommez vos points de repère dans Studio, comme indiqué dans le <strong>Créer des points de repère publicitaire</strong> ci-dessus, n'utilisez PAS d'accolades et de guillemets doubles dans le nom. Cela entraînera un formatage incorrect du VMAP généré dynamiquement.</li>
    </ul>
  </section>
</article>