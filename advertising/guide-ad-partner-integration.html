---
title: 'Guide : Intégration des partenaires publicitaires'
parent: Advertising
description: This document describes functionality you can implement if you wish to integrate your advertising system with Brightcove Player.
---

<article class="bcls-article">
  <h1>Guide : Intégration des partenaires publicitaires</h1>
  <summary>{{ page.description }}</summary>
  <section id="Overview" class="bcls-section">
    <h2>Présentation</h2>
    <p>Si votre système publicitaire est conforme à Google IMA3, par exemple, vous n'avez pas besoin de ces informations mais pouvez simplement utiliser le plugin existant pour IMA3, documenté dans le <a href="/plugins/advertising-ima3-plugin.html">Publicité avec le guide du plugin IMA3</a>.</p>
    <p>Si vous avez déterminé que vous avez besoin de cette fonctionnalité, ce contenu explique le cadre de l'API publicitaire nécessaire pour les intégrations publicitaires avec Brightcove Player. Vous pouvez voir deux implémentations de ce framework que Brightcove a produites, celles de Google IMA3 et FreeWheel (documents de référence présentés dans le paragraphe suivant).</p>
    <p>Encore une fois, ce document n'est PAS destiné aux clients souhaitant utiliser un cadre publicitaire existant avec leurs vidéos. Les documents les plus adaptés à ces clients sont:</p>
    <ul>
      <li><a href="/plugins/advertising-ima3-plugin.html">Publicité avec le plugin IMA3</a></li>
      <li><a href="/plugins/advertising-freewheel-plugin.html">Publicité avec le plugin FreeWheel</a></li>
      <li><a href="/plugins/implementing-server-side-ads-brightcove-player.html">Implémentation d'annonces côté serveur avec Brightcove Player</a></li>
    </ul>
  </section>
  <section id="frameworkfunctionality" class="bcls-section">
    <h2>Fonctionnalité du cadre publicitaire</h2>
    <p>Brightcove fournit un cadre d'API publicitaire comme base pour les plugins publicitaires personnalisés. Le framework fournit des fonctionnalités communes nécessaires aux bibliothèques de publicités vidéo fonctionnant avec Brightcove Player, réduisant ainsi le code que vous devez écrire pour votre intégration publicitaire. Le framework est fourni en tant que projet open source sur lequel vous pouvez construire. Le code du projet est disponible depuis le référentiel GitHub <a href="https://github.com/videojs/videojs-contrib-ads">videojs-contrib-ads</a>.</p>
    <p>Le cadre publicitaire permet aux partenaires publicitaires de:</p>
    <ul>
      <li>Ayez un contrôle total sur l'expérience publicitaire (c'est-à-dire, l'apparence et le comportement du joueur pendant la lecture des publicités).</li>
      <li>Travaillez avec des serveurs publicitaires personnalisés ou propriétaires.</li>
      <li>Gérez les détails de mise en œuvre des annonces de bas niveau, comme déterminer quand les demandes d'annonces sont effectuées et comment les créations sont mises en mémoire tampon.</li>
      <li>Interagissez facilement avec les fournisseurs d'analyse vidéo et l'écosystème Brightcove Player.</li>
    </ul>
  </section>
  <section id="baseknowledge" class="bcls-section">
    <h2>Connaissance de base</h2>
    <p>Pour utiliser et développer le cadre de l'API publicitaire, vous aurez besoin d'une compréhension approfondie de l'architecture du plugin Brightcove Player. Les documents suivants fournissent ces connaissances:</p>
    <ul>
      <li><a href="/plugins/overview-brightcove-player-plugins.html">Vue d'ensemble : Plugins Player</a></li>
      <li><a href="/coding-topics/pass-data-plugin.html">Transmettre les données au plugin</a></li>
      <li><a href="/coding-topics/localizing-plugins.html">Localisation des plugins</a></li>
    </ul>
    <p>Si nécessaire pour vous, un aperçu rapide de la publicité vidéo du point de vue de Brightcove peut être trouvé ici:</p>
    <ul>
      <li><a href="/getting-started/learning-guide-video-advertising.html">Guide d'apprentissage : Publicité vidéo</a></li>
    </ul>
  </section>
  <section id="using" class="bcls-section">
    <h2>Utilisation du framework</h2>
    <p>Les sections suivantes fournissent des détails sur l'utilisation du framework.</p>
    <h3>Inclure les ressources du framework</h3>
    <p>Pour utiliser le plugin, vous devez d'abord vous assurer d'inclure le CSS et JavaScript pour le plugin.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;link rel="stylesheet" href="//mypath/videojs.ads.css"&gt;
&lt;script src="//mypath/videojs.ads.js"&gt;&lt;/script&gt;</code></pre>
    <p>Une fois le JavaScript inclus, vous pouvez appeler la fonction pour initialiser le cadre publicitaire.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('loadedmetadata', function(){
    var myPlayer = this;
    // Initialize the ad framework
    <span class="bcls-highlight">myPlayer.ads();</span>
  });
&lt;/script&gt;</code></pre>
    <aside class="bcls-aside bcls-aside--tip">Remarque : Tandis que le <code translate="No">ready()</code> est utilisée pour indiquer que le lecteur est chargé et prêt, le <code translate="No">loadedmetadata</code> L'événement est utilisé pour indiquer que le contenu du lecteur, comme les publicités, est prêt à interagir. Ici, nous utilisons également le <code translate="No">one()</code> afin que notre fonction soit exécutée la première fois que le plugin est chargé et non à chaque fois qu'une vidéo est chargée. Pour plus de détails, consultez le <a href="/coding-topics/player-events.html">Événements de joueur</a> document.</aside>
    <h3>Options de configuration</h3>
    <p>Il existe un certain nombre d'options de configuration disponibles pour le framework. Par exemple, il y a un <code translate="No">timeout</code> option. Pour définir cette option, vous utiliserez le code suivant:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('loadedmetadata', function(){
    var myPlayer = this;
    // Initialize the ad framework
    myPlayer.ads({
      "timeout": 3000
    });
  });
&lt;/script&gt;</code></pre>
    <p>Ce tableau fournit une liste des options:</p>
    <aside class="bcls-aside bcls-aside--information">Remarque : Pour plus de détails sur les options de configuration, consultez le <a href="https://github.com/videojs/videojs-contrib-ads">https://github.com/videojs/videojs-contrib-ads</a> Dépôt GitHub.</aside>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:15%">Option</th>
          <th style="width:15%">Type</th>
          <th style="width:15%">Par défaut</th>
          <th style="width:55%">Description</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">timeout</code></td>
          <td>nombre</td>
          <td>5 000</td>
          <td>Durée maximale d'attente pour qu'une mise en œuvre d'annonce s'initialise avant la lecture, en millisecondes</td>
        </tr>
        <tr>
          <td><code translate="No">prerollTimeout</code></td>
          <td>nombre</td>
          <td>1 000</td>
          <td>Durée maximale d'attente pour qu'une mise en œuvre d'annonce lance un prélancement, en millisecondes</td>
        </tr>
        <tr>
          <td><code translate="No">postrollTimeout</code></td>
          <td>nombre</td>
          <td>100</td>
          <td>Durée maximale d'attente pour qu'une mise en œuvre d'annonce lance un posttroll, en millisecondes</td>
        </tr>
        <tr>
          <td><code translate="No">debug</code></td>
          <td>booléen</td>
          <td>faux</td>
          <td>Si debug est défini sur true, le plugin d'annonces affichera des informations supplémentaires sur son état actuel pendant la lecture</td>
        </tr>
      </tbody>
    </table>
    <h3>Événements</h3>
    <p>Les événements suivants sont regroupés en deux types différents. Les groupements et leurs descriptions suivent.</p>
    <aside class="bcls-aside bcls-aside--information">Remarque : Pour plus de détails sur les événements du cadre, consultez le <a href="https://github.com/videojs/videojs-contrib-ads">https://github.com/videojs/videojs-contrib-ads</a> Dépôt GitHub.</aside>
    <p>le <code translate="No">adstart</code> et <code translate="No">adend</code> les événements sont déclenchés par le framework en réponse aux appels de méthode de l'intégrateur publicitaire. Ces événements ne doivent pas être déclenchés directement par l'intégrateur publicitaire.</p>
    <table class="table-styles">
      <thead>
        <tr>
          <th style="width:20%">Événement</th>
          <th style="width:80%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>adstart</td>
          <td>Le lecteur est entré en mode de lecture d'annonces linéaires</td>
        </tr>
        <tr>
          <td>Adend</td>
          <td>Le lecteur est revenu du mode de lecture d'annonces linéaires</td>
        </tr>
      </tbody>
    </table>
    <p>le <code translate="No">adskip</code> et <code translate="No">adtimeout</code> Les événements sont des événements facultatifs que l'intégrateur publicitaire peut choisir de déclencher pour indiquer que le joueur doit ignorer une opportunité de pré-roll ou de post-roll.</p>
    <table class="table-styles">
      <thead>
        <tr>
          <th style="width:20%">Événement</th>
          <th style="width:80%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>adskip</td>
          <td>Le joueur ignore une opportunité publicitaire linéaire et la lecture du contenu doit reprendre immédiatement</td>
        </tr>
        <tr>
          <td>adtimeout</td>
          <td>Un délai d'attente géré par le plugin a expiré et le contenu vidéo normal a commencé à jouer</td>
        </tr>
      </tbody>
    </table>
    <h3>Paramètres d'exécution</h3>
    <p>Une fois le plugin initialisé, il existe une propriété que vous pouvez utiliser pour modifier son comportement.</p>
    <aside class="bcls-aside bcls-aside--information">Remarque : Pour plus de détails sur les paramètres d'exécution du framework, consultez le <a href="https://github.com/videojs/videojs-contrib-ads">https://github.com/videojs/videojs-contrib-ads</a> Dépôt GitHub.</aside>
    <table class="table-styles">
      <thead>
        <tr>
          <th style="width:20%">Propriété</th>
          <th style="width:80%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>contentSrc</td>
          <td>Cette propriété est utilisée pour déterminer le moment où une nouvelle vidéo se charge afin que le lecteur puisse être réinitialisé à l'état «se préparer à afficher un pré-lancement». Les fournisseurs d'annonces n'interagiraient généralement pas avec elle, mais un auteur de plug-in qui souhaitait modifier la source vidéo pour implémenter un sélecteur de rendu, par exemple, pourrait modifier le <code translate="No">contentSrc</code> de sorte qu'un preroll n'a pas été lancé lorsqu'un changement de rendu s'est produit.</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="example" class="bcls-section">
    <h2>Exemples</h2>
    <h3>Exemple d'implémentation</h3>
    <p>La section des exercices pratiques du <a href="/plugins/advertising-ima3-plugin.html#Implement_using_Players_module_advertising_section">Publicité avec le guide du plugin IMA3</a> vous guide à travers une mise en œuvre simple de l'utilisation d'un plugin pour la publicité IMA3.</p>
    <h3>Intégration de pseudo-code</h3>
    <p>Voici le pseudo code de ce à quoi pourrait ressembler une intégration publicitaire de base. Cet exemple montre une seule annonce pré-roll avant chaque vidéo de contenu et démontre les points d'interaction offerts par le plugin d'annonces. Ce n'est pas réellement un exemple exécutable, car il a besoin de plus d'informations comme spécifié dans les commentaires de code.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('loadedmetadata', function(){
    var player = this;
    player.ads(); // initialize the ad framework

    // request ads whenever there's new video content
    player.on('contentupdate', function(){
      // fetch ad inventory asynchronously, then ...
      player.trigger('adsready');
    });

    player.on('readyforpreroll', function() {
      player.ads.startLinearAdMode();
      // play your linear ad content
      player.src('http://url/to/your/ad.content');
      player.one('durationchange', function(){
        player.play();
      });
      // when all your linear ads have finished...
      player.one('ended', function() {
        player.ads.endLinearAdMode();
      });
    });
  });
&lt;/script&gt;</code></pre>
  </section>
  <section id="faq" class="bcls-section">
    <h2>FAQ</h2>
    <p class="bcls-question">Comment un plugin publicitaire peut-il accéder aux métadonnées multimédias?</p>
    <p class="bcls-answer">Pour les clients Video Cloud, le plugin accédera aux métadonnées via le <a href="/references/video-metadata-mediainfo.html">mediainfo</a> objet, qui sera rempli avec les métadonnées définies dans Video Cloud. Les clients Brightcove Player seront responsables de remplir le <a href="/references/video-metadata-mediainfo.html">objet mediainfo manuellement</a> car ils utiliseront un CMS non-Video Cloud.</p>
    <p class="bcls-question">Comment les options peuvent-elles être spécifiées pour un plugin publicitaire?</p>
    <p class="bcls-answer">Les options de plug-in peuvent être spécifiées dans Studio <strong>Joueurs&gt; Plugins</strong> section. Le lecteur avec le plugin contenant des options peut être publié en utilisant un iframe ou un code incorporé dans la page, mais les options du plugin contiennent des informations statiques (par exemple, une description). Vous pouvez transmettre des données dynamiques au plugin en utilisant la technique indiquée dans le <a href="/coding-topics/pass-data-plugin.html">Passer des données au plug-in</a> document.</p>
    <p class="bcls-question">Comment un plugin publicitaire devrait-il prendre en charge les publicités Flash?</p>
    <p class="bcls-answer">Brightcove recommande d'intégrer un lecteur d'annonces basé sur Flash dans le cadre de la mise en œuvre de votre plugin publicitaire et de superposer ce lecteur sur le contenu lorsque le lecteur est en mode d'annonce linéaire.</p>
    <p class="bcls-question">Comment les points de repère peuvent-ils déclencher des annonces mid-roll?</p>
    <p class="bcls-answer">Au changement de signal, appelez <code translate="No">startLinearAdMode()</code> pour commencer le midroll. Pour plus d'informations sur l'écoute et le réglage des points de repère, <a href="/advertising/displaying-ads-using-ad-cue-points.html">Utilisation des points de repère</a> document.</p>
  </section>
</article>