---
title: 'Démarrage du saut : Annonce d'enchères d'en-tête'
parent: Advertising
description: Enter values for the two form fields below to see header bidding in action using your player and video. (If you choose not to input your data, demo data is supplied.) The sample uses the AppNexus header bidding Fonctionnalité.</p>
  <p>Sous le lecteur, le code de l'implémentation du lecteur est affiché pour que vous puissiez copier et utiliser.
---

<article class="bcls-article">
<h1>Démarrage du saut : Annonce d'enchères d'en-tête</h1>
<summary>{{ page.description }}</summary>
<script async src="//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js">
</script>
<style type="text/css">
.video-js { width: 640px; height: 360px; } .bcls-code { color: #111; font-family: 'Source Code Pro', monospace; padding: 1em; width: 90%; min-height: 5em; background-color: #cfcfcf; font-size: 1rem; } .bcls-bouton { padding: .5em; background-color: #64AAB2; border: 1px black solid; border-radius: .5em; color: black; cursor: pointer; } ensemble de champs { color: #64AAB2; border: 1px #64AAB2 solid; border-radius: .5em; } code { color: #E4B842; font-family: 'Source Code Pro', monospace; }
</style>
<link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet" />
<div id="inputFields" class="input-fields">
  <h3>Informations sur le compte</h3>
  <div id="accountInfo">
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <td>ID de compte Video Cloud :</td>
          <td><input id="accountID" type="text" size="60" value="1507807800001" /></td>
        </tr>
        <tr>
          <td>ID de la vidéo :</td>
          <td><input id="videoID" type="text" size="60" value="5622718636001" /></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<p>
  <button id="buildPlayer" class="bcls-button" onclick="addPlayer()">Construire le joueur</button>
</p>
<h3>Lecteur</h3>
<div style="width: 640px;height: 360px;">
  <div id="placeHolder" style="width: 640px;height: 360px;background-color: #cfcfcf;">&nbsp;</div>
</div>
<h3>Code de publication</h3>
<p>
  <button id="copyCode" class="bcls-button" onclick="copyCode()">Copier le code dans le presse-papiers</button>
</p>
<div>
  <textarea id="publishingCode" class="bcls-code" style="width: 100%;height: 420px" onclick="this.select()"></textarea>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify-css.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify-html.min.js"></script><!-- custom script --><script type="text/JavaScript">
  var myPlayer, playerHTML, displayPlayerHTML, playerScript, publishingCode = document.getElementById('publishingCode'), accountID = document.getElementById('accountID'), videoID = document.getElementById('videoID'), configOptions = {} ; var pbjs = pbjs || {} ; pbjs.que = pbjs.que || [] ; iosDevice = !! navigateur.plateforme.match(/iPhone|iPod|iPad/); // Construisez le lecteur et placez-le dans le DOM HTML function addPlayer() { configOptions.accountID = accountID.value; configOptions.videoID = videoID.value; console.log('configOptions', configOptions); // Construire dynamiquement l'élément vidéo du lecteur, mais seulement partiellement afin qu'il n'instancier pas playerHTML = '<video-js id=\"myPlayerID\" data-embed=\"default\" class=\"video-js\" controls></video-js>'; // Injectez le code du lecteur dans le DOM document.getElementById('placeHolder').innerHTML = playerHTML; // Ajoutez et exécutez la balise de script du lecteur playerScript = document.createElement('script'); playerScript.src = "//players.brightcove.net/" + configOptions.accountID + "/default_default/index.min.js" ; document.body.appendChild(playerScript); playerScript.onload = loadIMA; } fonction loadIMA() { ima = document.createElement('script'); ima.src = '//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js'; document.head.appendChild(ima); ima.onload = headerBidding; } en-tête de fonctionBidding() { // Instantiate player and immediately after call ima3 method myPlayerID.setAttribute('data-account', configOptions.accountID); myPlayerID.setAttribute('data-player', 'default'); myPlayerID.setAttribute('data-video-id', configOptions.videoID); myPlayer = bc(document.getElementById("myPlayerID")); console.log('**********calling IMA3 plugin next'); myPlayer.ima3({ serverUrl: getServerUrl, debug: true, timeout: 5000, ima3SdkSettings: { "disableCustomPlaybackForIOS10Plus": true } }); //À PARTIR DU CODE D'ENCHÈRE DE L'EN-TÊTE, fonction getServerUrl (rappel) { var videoAdUnit = { code: 'video1', mediaTypes: { video: { playerSize: [640, 480], context: 'instream' } }, offres : [{ bidder: 'appnexus', params: { placementId: iosDevice ? 13239390 : 13232361, video: { skipppable: true, playback_method: ['auto_play_sound_off'] } } }] } ; pbjs.que.push(fonction () { pbjs.addAdUnits(videoAdUnit); pbjs.setConfig({ debug: true, cache: { url: 'https://prebid.adnxs.com/pbc/v1/cache' } }); pbjs.requestBids({ bidsBackHandler: function (bids) { var videoUrl = pbjs.adServers.dfp.buildVideoUrl({ adUnit: videoAdUnit, params: { iu: '/19968336/prebid_cache_video_adunit', cust_params: { section: 'blog', anotherKey: 'anotherValue' } , sortie : 'vast'  } }); callback(videoUrl); } }); }); } ; myPlayer.ready(function () { console.log('**********in player ready'); myPlayer.on("ima3error", function () { console.log("There was an ima3 error."); }); }); buildHTML(); } function buildHTML() { var htmlText1, htmlText2, jsText, allFormattedCode; htmlText1 = '<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>Vidéo Prébid — Brightcove Player</title> <script async src="//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js">\\&lt; /scénario\\&gt; <link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"> \ n </head> <body> <h1>Vidéo de pré-enchère - Brightcove Player</h1> \\n'; displayPlayerHTML = '<video-js id="myPlayerID" data-account="' + configOptions.accountID + '" data-player="default" data-video-id="' + configOptions.videoID + '" data-embed="default" data-application-id class="video-js" playsinline controls width="640" height="480"></video-js>'; htmlText1 += displayPlayerHTML; htmlText1 += playerScript.outerHTML; htmlText1 += '<script src="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js">\&lt;/script \ &gt;' ; HTMLText1 += '<script>'; jsText = ' var pbjs = pbjs || {} ; pbjs.que = pbjs.que || [] ; iosDevice = !! navigateur.plateforme.match(/iPhone|iPod|iPad/); fonction getServerUrl (rappel) { var videoAdUnit = { code: "video1", mediaTypes: { video: { playerSize: [640, 480], context: "instream" } }, offres : [{ bidder: "appnexus", params: { placementId: iosDevice ? 13239390 : 13232361, video: { skipppable: true, playback_method: ["auto_play_sound_off"] } } }] } ; pbjs.que.push(fonction () { pbjs.addAdUnits(videoAdUnit); pbjs.setConfig({ debug: true, cache: { url: "https://prebid.adnxs.com/pbc/v1/cache" } }); pbjs.requestBids({ bidsBackHandler: function (bids) { var videoUrl = pbjs.adServers.dfp.buildVideoUrl({ adUnit: videoAdUnit, params: { iu: "/19968336/prebid_cache_video_adunit", cust_params: { section: "blog", anotherKey: "anotherValue" } , sortie : "vast" } }); callback(videoUrl); } }); }); } ; bc("myPlayerID").ima3({ serverUrl: getServerUrl, debug: true, timeout: 5000, ima3SdkSettings: { "disableCustomPlaybackForIOS10Plus": true } }); var myPlayer = videojs.getPlayer("myPlayerID"); myPlayer.ready(function() { myPlayer.on("ima3error", function () { console.log("There was an ima3 error."); }); });'; htmlText2 = '\\&lt;/script\\&gt; </body> </html>'; HTMLText1 = html_beautify (HTMLText1, { "indent_size": 2 }) ; JSTExt = js_beautify (JSTExt, { "indent_size": 2, "indent_level": 10 }) ; HTMLText2 = html_beautify (HTMLText2, { "indent_size": 2 }) ; AllFormattedCode = HTMLText1 +' \ n' + JSTExt + '\ n' + HTMLText2 ; PublishingCode.TextContent = AllFormattedCode ;} fonction CopyCode () { publishingCode.select(); document.execCommand('copy'); }
</script>
    </article>