---
title: 'Exemple de lecteur Brightcove : Contrôle du volume horizontal'
description: '<aside class="bcls-aside bcls-aside--warning">Ce document contient des informations sur le skin Brightcove Player 1.x (graphite), pas le skin le plus récent. Cette transition vers la nouvelle peau a eu lieu la deuxième semaine de décembre 2015. Pour la version la plus récente du document, consultez <a href="/styling/customizing-player-appearance.html">ce document</a>.</aside>
    <p>Dans cette rubrique, vous apprendrez à modifier le volume et à désactiver les boutons de la barre de contrôle du lecteur Brightcove. Dans cet exemple, vous allez masquer la commande de volume verticale et la remplacer par une commande horizontale.</p>'
parent: Code Samples
---

<article class="bcls-article">
  <h1>Exemple de lecteur Brightcove : Contrôle du volume horizontal</h1>
  <summary>
    
  </summary>
  <style type="text/css">
iframe { width: 640px; height: 360px; }
</style>
  <aside class="bcls-aside bcls-aside--information">Cet exemple et le code associé sont fournis comme guide pour le développement de votre production. Le code n'est pas certifié pour une utilisation en production ni officiellement pris en charge.</aside>

  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Séquence de développement</h2></summary> 
      <p>Voici la séquence de développement recommandée :</p>
      <ol>
        <li>Utilisez l'implémentation du lecteur intégré In-Page pour tester les fonctionnalités de votre lecteur, de votre plugin et de votre CSS (si CSS est nécessaire)</li>
        <li>Placez le JavaScript et le CSS du plugin dans des fichiers séparés pour des tests locaux</li>
        <li>Déployez le code du plugin et le CSS sur votre serveur une fois que vous avez corrigé des erreurs.</li>
        <li>Utilisez Studio pour ajouter le plugin et le CSS à votre lecteur</li>
        <li>Remplacez l'implémentation du lecteur intégré dans la page si vous déterminez que l'implémentation iframe est mieux adaptée (détaillée dans la section suivante)</li>
      </ol>
      <p>Pour plus de détails sur ces étapes, consultez la section <a href="/coding-topics/step-step-plugin-development.html">étape par étape : </a> Guide de développement de plug-ins.</p>
      <h3>Intégrer iFrame ou In-Page</h3>
      <p>Lorsque vous développez des améliorations pour Brightcove Player, vous devrez décider si le code convient le mieux à l'implémentation intégrée iframe ou In-Page. La recommandation des meilleures pratiques consiste à créer un plugin à utiliser avec une implémentation iframe. Les avantages de l'utilisation du lecteur iframe sont les suivants :</p>
      <ul>
        <li>Aucune collision avec JavaScript et/ou CSS existants</li>
        <li>Réactif automatiquement</li>
        <li>L'iframe facilite l'utilisation dans les applications de médias sociaux (ou lorsque la vidéo devra « voyager » dans d'autres applications)</li>
      </ul>
      <p>Bien que l'intégration du lecteur d'intégration dans la page puisse être plus complexe, il y a des moments où vous planifiez votre code autour de cette implémentation. Pour généraliser, cette approche est préférable lorsque la page contenante doit communiquer avec le lecteur. En particulier, voici quelques exemples :</p>
      <ul>
        <li>Le code dans la page contenant doit écouter et agir sur les événements du joueur</li>
        <li>Le lecteur utilise des styles de la page contenante</li>
        <li>L'iframe entraînera l'échec de la logique de l'application, comme une redirection à partir de la page contenant</li>
      </ul>
      <p>Même si votre implémentation finale n'utilise pas le code iframe, vous pouvez toujours utiliser le code intégré In-Page avec un plugin pour votre JavaScript et un fichier séparé pour votre CSS. Cela encapsule votre logique afin que vous puissiez facilement l'utiliser dans plusieurs joueurs.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="Select_implementation">Sélectionner la mise</h2>
    <p>Dans cet exemple, vous testerez avec le code incorporé sur la page, puis vous ajouterez les fichiers CSS et JavaScript au lecteur. Ensuite, vous déploierez le plugin. Avec le plugin de volume horizontal ajouté au lecteur, vous pouvez utiliser l'implémentation iframe.</p>
  </section>
  <section class="bcls-section">
    <h2 id="API_resources_used">Ressources API utilisées</h2>
    <p>Les sections suivantes détaillent les ressources utilisées à partir de diverses API.</p>
    <h3>Méthodes de l'API Brightcove Player</h3>
    <ul>
      <li><code translate="No">control_bar.addChild()</code></li>
      <li><code translate="No">control_bar.removeChild()</code></li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="The_player">Le joueur</h2>
    <p>Dans le lecteur ci-dessous, notez que la barre de contrôle du volume horizontale remplace la barre de contrôle verticale par défaut.</p>
    <iframe style="width: 640px;height: 360px;" src="//players.brightcove.net/1752604059001/b42edc12-2ac9-48a9-92bc-fbdb5ca9aed7_default/index.html?videoId=4172255216001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>
  </section>
  <!-- id="player" -->
  
  <section class="bcls-section">
    <h2 id="How_it_works">Fonctionnement</h2>
    <p>Les sections suivantes expliquent le lecteur, le JavaScript et le code CSS utilisés dans l'exemple.</p>
    <h3>Créer le joueur</h3>
    <p>Pour créer un lecteur et lui attribuer une vidéo, procédez comme suit :</p>
    <ul>
      <li>Dans le module <strong>Joueurs</strong> , créez un nouveau joueur ou utilisez un joueur existant.</li>
      <li><span class="video-cloud-only">Dans le <strong>Médias</strong> module, sélectionnez une vidéo et publiez-la avec ce lecteur.</span><span class="player-only">Attribuez du contenu vidéo au lecteur et publiez-le.</span></li>
      <li>Copiez le code d'intégration In-Page et collez-le dans un nouveau fichier HTML.</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Pour plus d'informations sur la façon d'obtenir ce code d'intégration, consultez la section <a href="/getting-started/step-step-brightcove-player.html">étape par étape : </a> Document Brightcove Player.</aside>
    <h3>Le code du joueur</h3>
    <p>Votre code d'intégration sur la page doit ressembler à ceci:</p>
    <pre class="line-numbers" data-start="44">
<code class="language-html" translate="No">    &lt;video-js id="video_1"
      width="640px" height="360px"
      data-video-id="4172255216001"
      data-account="1752604059001"
      data-player="default"
      data-embed="default"
      class="video-js" controls&gt;&lt;/video-js&gt;
    &lt;script src="//players.brightcove.net/1752604059001/default_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
    <h3>La feuille de style</h3>
    <p>Cet exemple utilise des styles CSS pour Brightcove Player.</p>
    <ul>
      <li>
        <p>Lignes 9-22: Définissez l'ordre des éléments dans la barre de contrôle. Cet exemple place la commande de sourdine et la commande de volume après la barre de progression, mais avant le bouton plein écran.</p>
        <aside class="bcls-aside bcls-aside--information">Remarque : la barre de contrôle utilise un conteneur flexible pour mettre en page ses éléments. Par défaut, les éléments flexibles sont disposés tels qu'ils apparaissent dans le code source HTML. Le CSS <code translate="No">order</code> La propriété vous permet de contrôler la position des éléments flex. Pour les navigateurs plus anciens, vous devez inclure des propriétés de commande préfixées supplémentaires.</aside>
        <p>Pour plus d'informations sur la définition de l'ordre des icônes de la barre de contrôle, consultez le <a href="/styling/customizing-player-appearance.html#Controlbar_icon_manipulation">Personnaliser l'apparence du joueur</a> document.</p>
      </li>
      <li>Lignes 24-26: Supprimez l'ombre par défaut autour du contrôle du volume pour mieux correspondre à la barre de progression.</li>
      <li>Lignes 27-34: Réglez la hauteur et la couleur d'arrière-plan du contrôle du volume.</li>
      <li>Lignes 36 à 38 : Ajoutez un remplissage à droite du contrôle du volume pour vous assurer qu'il ne chevauche pas le bouton plein écran.</li>
    </ul>
    <pre class="line-numbers" data-start="7">
<code class="language-css" translate="No">    &lt;style type="text/css"&gt;
        /* Order of controls in bar, should flow in before fullscreen button.  */
        .vjs-mute-control {
          order: 7;
          -webkit-box-ordinal-group: 7;
          -moz-box-ordinal-group: 7;
          -webkit-order: 7;
          -ms-flex-order: 7;
        }
        .vjs-volume-control {
          order: 8;
          -webkit-box-ordinal-group: 8;
          -moz-box-ordinal-group: 8;
          -webkit-order: 8;
          -ms-flex-order: 8;
        }
        /* Better match progress bar */
        .video-js.video-js .vjs-volume-bar:before {
          box-shadow:none;
        }
        .video-js.video-js .vjs-volume-bar,
        .video-js.video-js .vjs-volume-bar:before,
        .video-js.video-js .vjs-volume-level {
          height: 4px;
        }
        .video-js.video-js .vjs-volume-handle {
          background-color: initial;
        }
        /* Additional padding to reduce inadvertently covering the fullscreen button */
        .vjs-volume-control {
          padding-right: 5px;
        }
    &lt;/style&gt;</code></pre>
    <h3 id="jscode">Le code JavaScript</h3>
    <p>Ajoutez le code JavaScript suivant à votre code de page.</p>
    <ul>
      <li>Ligne 57 : Obtient une référence au lecteur lorsqu'il est prêt.</li>
      <li>Ligne 59 : Obtient une référence à la barre de contrôle du lecteur.</li>
      <li>Ligne 60 : Obtient une référence au bouton de menu de volume.</li>
      <li>
        <p>Lignes 61-62: Ajoutez le bouton de sourdine et les éléments de contrôle du volume à la barre de contrôle.</p>
        <aside class="bcls-aside bcls-aside--information">Remarque : Par défaut, les éléments flex dans la barre de contrôle sont disposés tels qu'ils apparaissent dans le code source HTML. Pour les navigateurs plus anciens, comme IE9, l'ordre dans lequel vous ajoutez ces éléments est important. Ici, nous ajoutons le bouton mute en dernier, pour qu'il apparaisse à gauche du contrôle du volume.</aside> <aside class="bcls-aside bcls-aside--information">Noter la <code translate="No">MuteToggle</code> et <code translate="No">VolumeControl</code> les cours peuvent être trouvés dans le <a href="https://docs.brightcove.com/brightcove-player/current-release/index.html">Index des API du lecteur Brightcove</a>.</aside>
      </li>
      <li>Ligne 63 : Supprime le bouton de menu de volume par défaut de la barre de contrôle.</li>
    </ul>
    <pre class="line-numbers" data-start="53">
<code class="language-html" translate="No">    &lt;script id="pageScript" type="text/javascript"&gt;
        var myPlayer;

        videojs.getPlayer('video_1').ready(function(){
            myPlayer = this;

            var control_bar = myPlayer.controlBar;
            var vmb = control_bar.volumeMenuButton;
            control_bar.addChild('VolumeControl');
            control_bar.addChild('MuteToggle');
            control_bar.removeChild(vmb);
        });
    &lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Use_a_plugin">Utilisez un plugin</h2>
    <p>Il est recommandé d'utiliser un plugin afin de pouvoir facilement ajouter cette fonctionnalité à plusieurs joueurs.</p>
    <h3>Créez le fichier CSS</h3>
    <p>Déplacez les styles CSS dans un fichier et placez-le dans une URL accessible sur Internet.</p>
    <ol class="bcls-tasklist">
      <li>Créez un nouveau fichier pour vos styles CSS. Dans ce cas, nommez-le <code translate="No">horizontal-volume.css</code>.</li>
      <li>dans le <code translate="No">&lt;head&gt;</code> section de votre fichier HTML, ajoutez le lien suivant pour inclure votre fichier CSS nouvellement créé.
        <pre class="line-numbers" data-start="91">
<code class="language-html" translate="No">&lt;link href="horizontal-volume.css" rel="stylesheet"&gt; </code></pre>
      </li>
      <li>Parcourez la page HTML. Vous devriez voir le contrôle de volume horizontal, sauf que maintenant vos styles ont été supprimés de la page HTML.</li>
    </ol>
    <h3>Créez le fichier JavaScript</h3>
    <p>Déplacez le code JavaScript du plugin dans un fichier et placez-le dans une URL accessible sur Internet.</p>
    <ul>
      <li>Créez un nouveau fichier pour le code JavaScript de votre plugin. Dans ce cas, nommez-le <code translate="No">horizontal-volume.js</code>.</li>
      <li>Coupez et collez le code JavaScript de votre fichier HTML principal dans ce nouveau fichier.</li>
      <li>Lignes 77,85: Enveloppez votre code JavaScript en utilisant le <code translate="No">videojs.registerPlugin()</code> fonction. Le premier argument, <code translate="No">horizontalVolume</code> , est le nom du plugin.</li>
      <li>Ligne 78: Obtient une référence à votre joueur.</li>
      <li>Le reste est votre code JavaScript qui a été examiné dans une section précédente.</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Remarque : Ligne 85 : A un point-virgule à la fin du code JavaScript du plugin qui est requis.</aside>
    <pre class="line-numbers" data-start="74">
<code class="language-javascript" translate="No">/**
 * Horizontal Volume
 */
videojs.registerPlugin('horizontalVolume', function() {
    var myPlayer = this,
    control_bar = myPlayer.controlBar,
    vmb = control_bar.volumeMenuButton;

    control_bar.addChild('VolumeControl');
    control_bar.addChild('MuteToggle');
    control_bar.removeChild(vmb);
});</code></pre>
    <ol class="bcls-tasklist">
      <li>Dans le fichier HTML, ajoutez le code suivant juste en dessous des <code translate="No">&lt;script&gt;</code> balises existantes. Ce code inclut le fichier JavaScript, puis appelle la méthode définie dans ce code JavaScript.
        <pre class="line-numbers" data-start="93">
<code class="language-html" translate="No">&lt;script type="text/javascript" src="horizontal-volume.js"&gt;&lt;/script&gt;
&lt;script&gt;videojs.getPlayer('video_1').horizontalVolume();&lt;/script&gt;</code></pre>
      </li>
      <li>Parcourez la page HTML. Vous devriez voir le contrôle de volume horizontal, sauf que maintenant votre code JavaScript a été supprimé de la page HTML.</li>
    </ol>
    <h3>Déployer le plugin et le CSS</h3>
    <p>Pour déployer le plug-in du bouton de superposition à l'aide du module Lecteurs, procédez comme suit:</p>
    <ol class="bcls-tasklist">
      <li>Dans le nouveau Video Cloud Studio, ouvrez le <strong>Joueurs</strong> module et localisez le lecteur.</li>
      <li>Cliquez sur le lien du lecteur pour ouvrir les propriétés de celui-ci.</li>
      <li>Allez dans la section <strong>Plugins</strong> et cliquez sur <strong>Edit</strong>.</li>
      <li>Pour le <strong>URL JavaScript</strong> , entrez l'URL qui spécifie l'emplacement où vous avez enregistré le JavaScript de votre plugin.
      </li>
      <li>Pour le <strong>URL CSS</strong> , entrez l'URL qui spécifie l'emplacement où vous avez enregistré le CSS de votre plugin.
      </li>
      <li>Pour le <strong>Nom</strong> , entrer <strong>horizontalVolume</strong>.</li>
      <li>Ce plugin n'a pas d'options, vous pouvez donc laisser la section des options du plugin vide.
      </li>
      <li>Cliquez sur <strong>Enregistrer,</strong> puis sur <strong>Publier</strong> le lecteur.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Use_iframe">Utiliser iframe</h2>
    <p>Il est recommandé d'utiliser l'implémentation du lecteur iframe. Si cela est possible pour cet exemple, remplacez l'implémentation incorporée sur la page par l'implémentation iframe.</p>
    <ol class="bcls-tasklist">
      <li><span class="video-cloud-only">dans le <strong>Médias</strong> module, sélectionnez une vidéo et publiez-la avec ce lecteur.</span><span class="player-only">Revenir au <strong>Joueurs</strong> module.</span></li>
      <li>
        <p>Copiez le code d'intégration iframe et collez-le dans un nouveau fichier HTML. Votre code doit ressembler à ceci :</p>
        <pre class="line-numbers" data-start="99">
<code class="language-html" translate="No">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Brightcove Player: Horizontal Volume - iframe&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;iframe style='width: 640px;height: 360px;' src='//players.brightcove.net/1752604059001/b42edc12-2ac9-48a9-92bc-fbdb5ca9aed7_default/index.html?videoId=4172255216001' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
      </li>
      <li>Parcourez la page HTML. Vous devriez voir le plugin fonctionner correctement.</li>
    </ol>
  </section>
</article>