---
title: 'Exemple de lecteur Brightcove : Lecteur Outstream (publicité uniquement)'
description: 'Dans cette rubrique, vous apprendrez à créer un lecteur outstream (publicité uniquement) pour les publicités IMA3 sans contenu vidéo normal.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">Aperçu</h2>
    <aside class="bcls-aside bcls-aside--information">Cet exemple et le code associé sont fournis comme guide pour le développement de votre production. Le code n'est pas certifié pour une utilisation en production ni officiellement pris en charge.</aside>
    <p>Cet exemple de lecteur de publicité Outstream vous montre comment charger dynamiquement le lecteur Brightcove dans une page Web contenant d'autres éléments non vidéo. L'annonce vidéo est le seul contenu lu par le lecteur. Le lecteur se développe généralement dans la mise en page, comme indiqué dans cet exemple, mais peut également apparaître dans une zone spéciale de la page ou sous forme de superposition. Le lecteur disparaît une fois la lecture de l'annonce terminée.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Player_example">Exemple de lecteur</h2>
    <!-- UPDATE description -->
    
    <p>Cet exemple fournit des fonctions d'aide JavaScript qui montrent comment ajuster dynamiquement la taille d'un <code translate="No">&lt;div&gt;</code> dans le DOM de la page, injectez-y le Brightcove Player, chargez et lisez une annonce, puis supprimez le lecteur. L'annonce diffusée est configurée à partir d'un tag d'emplacement publicitaire ou dans un document XML VAST. Le lecteur est configuré pour la lecture automatique et mis en sourdine par défaut, ce qui est la seule façon dont il fonctionnera dans certains navigateurs. Vous pouvez modifier ces paramètres si vous le souhaitez.</p>
    <p>Cet exemple peut être utilisé tel quel ou peut être copié et modifié pour fonctionner avec votre conception de page personnalisée.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="667" data-theme-id="34967" data-slug-hash="QqVOMG" data-default-tab="result" data-user="bcls1969" data-embed-version="2" data-pen-title="18065-ad-only-plugin" class="codepen">Voir le stylo <a href="https://codepen.io/team/bcls1969/pen/QqVOMG/">18065-plugin-ad-only</a> par Brightcove Learning Services (<a href="https://codepen.io/team/rcrooks1969">bcls1969</a> ) sur <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Code source</h3>
          <p>Voir le <a href="https://github.com/BrightcoveLearning/18065-ad-only-plugin">solution complète sur GitHub</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">Utilisation du CodePen</h2></summary>
      <p>Voici quelques conseils pour utiliser efficacement le CodePen ci-dessus :</p>
      <ul>
        <li>Basculez l'affichage réel du lecteur en cliquant sur le bouton <strong translate="No">Résultat</strong> bouton.</li>
        <li>Clique le <strong translate="No">HTML/CSS/JS</strong> pour afficher UN des types de code.</li>
        <li>Plus loin dans ce document, la logique, le flux et le style utilisés dans l'application seront discutés dans la configuration <a href="#Player/HTML_configuration">Plateur/HTML</a>, le flux <a href="#Application_flow">d'application</a> et le style de <a href="#Application_styling">l'application.</a> sections. La meilleure façon de suivre les informations contenues dans ces sections est de :
          <ol>
            <li>Clique le <strong translate="No">MODIFIER SUR CODEPEN</strong> dans le CodePen et avoir le code disponible dans un navigateur/onglet de navigateur.</li>
            <li>Dans CodePen, réglez le code que vous souhaitez afficher. Vous pouvez modifier la largeur de différentes sections de code dans CodePen.</li>
            <li>Voir le <a href="#Player/HTML_configuration">Configuration du lecteur/HTML</a> , <a href="#Application_flow">Flux de candidature</a> et/ou <a href="#Application_styling">Style d'application</a> sections dans un autre navigateur/onglet de navigateur. Vous serez maintenant en mesure de suivre les explications du code et en même temps voir le code.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <!-- <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Development sequence</h2></summary> 
      <p>Here is the recommended development sequence:</p>
      <ol>
        <li>Use the In-Page embed player implementation to test the functionality of your player, plugin and CSS (if CSS is needed)</li>
        <li>Put the plugin's JavaScript and CSS into separate files for local testing</li>
        <li>Deploy the plugin code and CSS to your server once you have worked out any errors</li>
        <li>Use Studio to add the plugin and CSS to your player</li>
        <li>Replace the In-Page embed player implementation if you determine that the iframe implementation is a better fit (detailed in next section)</li>
      </ol>
      <p>For details about these steps, review the <a href="/coding-topics/step-step-plugin-development.html">Step-by-Step: Plugin Development</a> guide.</p>
      <h3>iframe or In-Page embed</h3>
      <p>When developing enhancements for the Brightcove Player you will need to decide if the code is a best fit for the iframe or In-Page embed implementation. The best practice recommendation is to build a plugin for use with an iframe implementation. The advantages of using the iframe player are:</p>
      <ul>
        <li>No collisions with existing JavaScript and/or CSS</li>
        <li>Automatically responsive</li>
        <li>The iframe eases use in social media apps (or whenever the video will need to "travel" into other apps)</li>
      </ul>
      <p>Although integrating the In-Page embed player can be more complex, there are times when you will plan your code around that implementation. To generalize, this approach is best when the containing page needs to communicate to the player. Specifically, here are some examples:</p>
      <ul>
        <li>Code in the containing page needs to listen for and act on player events</li>
        <li>The player uses styles from the containing page</li>
        <li>The iframe will cause app logic to fail, like a redirect from the containing page</li>
      </ul>
      <p>Even if your final implementation does not use the iframe code, you can still use the In-Page embed code with a plugin for your JavaScript and a separate file for your CSS. This encapsulates your logic so that you can easily use it in multiple players.</p>
    </details>
  </section> -->
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Flux d'application</h2>
    <p>La logique de base derrière cette application est :</p>
    <ul>
      <li>
        <p>Cet exemple montre une page Web de style article texte avec un <code translate="No">&lt;div&gt;</code> élément placé dans l'article. Après qu'un minuteur se soit éteint, ce div caché est développé et le lecteur y apparaît.</p>
        <aside class="bcls-aside bcls-aside--tip">Vous pouvez modifier cet exemple pour réagir à d'autres conditions plutôt qu'à une minuterie, par exemple le défilement de l'utilisateur qui affiche une certaine section de la page.</aside>
      </li>
      <li>Le lecteur utilise VAST en ligne pour lire une annonce. Vous pouvez commenter ceci et annuler le commentaire de la section des tags d'emplacement publicitaire si vous souhaitez utiliser un tag d'emplacement publicitaire adsResponse.</li>
      <li>Lorsque la lecture des publicités est terminée, le lecteur est déchargé et supprimé du DOM.</li>
    </ul>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Configuration du lecteur/HTML</h2>
    <p>Cette section détaille toute configuration spéciale nécessaire lors de la création du lecteur. En outre, d'autres éléments HTML qui doivent être ajoutés à la page, au-delà du code d'implémentation du lecteur intégré dans la page, sont décrits.</p>
    <h3>Configuration du joueur</h3>
    <p>Aucune configuration spéciale n'est requise pour le lecteur Brightcove que vous créez pour cet exemple.</p>
    <h3>Autres HTML</h3>
    <p>Dans votre fichier HTML, vous incluez les éléments suivants:</p>
    <ol class="bcls-tasklist">
      <li>UNE <code translate="No">&lt;div&gt;</code> élément avec un <code translate="No">id</code> attribut attribué à une valeur de votre choix. Le code JavaScript créera votre Brightcove Player dans ce <code translate="No">&lt;div&gt;</code> élément.
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;div id="adPlayerDiv"&gt;&lt;/div&gt;</code></pre>
      </li>
      <li>
        <p>Le fichier JavaScript associé à votre Brightcove Player. Il devrait ressembler à ceci :</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script src="https://players.brightcove.net/<span class="bcls-input">your account id</span>/default_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
      <li>
        <p>Les fichiers JavaScript et CSS du plugin IMA3. Ceci est destiné à l'intégration d'annonces avec le SDK IMA3 HTML5 de Google.</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"/&gt;
&lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;</code></pre>
        <aside class="bcls-aside bcls-aside--tip">Vous pouvez obtenir un temps de chargement un peu plus rapide si vous incluez ces fichiers dans la configuration de votre lecteur. Pour plus de détails, consultez le <a href="#Load_time_optimization">Optimisation du temps de chargement</a> section.</aside>
      </li>
      <li>
        <p>La bibliothèque d'aide nommée <strong>adonly.js</strong>. Vous pouvez utiliser ce fichier non modifié car il est hébergé à partir de l'origine du lecteur de Brightcove et servi sur CDN. Si vous le souhaitez, vous pouvez utiliser ce code JavaScript comme guide pour créer votre propre script de chargement et l'héberger sur votre propre serveur. Ce fichier peut également être inclus dans la configuration de votre lecteur.</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script src="https://players.brightcove.net/3723496277001/files/adonly.js"&gt;&lt;/script&gt;</code></pre>
        <p>Une version minifiée hébergée sur CDN est également disponible si vous choisissez de l'inclure directement dans votre page.</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script src="https://players.brightcove.net/3723496277001/files/adonly.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
    </ol>
    <p>&nbsp;</p>
  </section>
  <section class="bcls-section">
    <h2 id="Public_functions">Fonctions publiques</h2>
    <p>le <strong>adonly.js</strong> la bibliothèque a deux fonctions publiques qu'elle expose:</p>
    <ul>
      <li><code translate="No">expandAndInjectAdOnlyPlayer()</code>: Développe un <code translate="No">&lt;div&gt;</code> et y injecte un lecteur publicitaire uniquement.</li>
      <li><code translate="No">injectAdOnlyPlayer()</code>: Injecte un lecteur publicitaire uniquement dans un <code translate="No">&lt;div&gt;</code> (sans animation).</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Options">Options</h2>
    <p>le <code translate="No">expandAndInjectAdOnlyPlayer()</code> La fonction prend les paramètres suivants:</p>
    <ul>
      <li><code translate="No">muted</code>
        <ul>
          <li>Facultatif. Valeurs : <strong>vrai</strong>, <strong>faux</strong>. Valeur par défaut : <strong>true</strong></li>
        </ul>
      </li>
      <li><code translate="No">autoplay</code>
        <ul>
          <li>Facultatif. Valeurs : <strong>vrai</strong>, <strong>faux</strong>. Valeur par défaut : <strong>true</strong></li>
        </ul>
      </li>
      <li><code translate="No">adTag</code>
        <ul>
          <li>Le tag d'emplacement publicitaire</li>
        </ul>
      </li>
      <li><code translate="No">adsResponse</code>
        <ul>
          <li>Chaîne VAST en ligne. S'il est fourni, il remplace le tag d'emplacement publicitaire. Soit l'adTag ou adsResponse doit être fourni</li>
        </ul>
      </li>
      <li><code translate="No">div</code>
        <ul>
          <li>La division dans laquelle vous souhaitez que le lecteur d'annonces soit injecté</li>
        </ul>
      </li>
      <li><code translate="No">height</code>
        <ul>
          <li>La hauteur en pixels à laquelle vous souhaitez étendre le div</li>
        </ul>
      </li>
      <li><code translate="No">animationDuration</code>
        <ul>
          <li>Combien de temps en ms faut-il pour animer l'expansion de la hauteur div</li>
        </ul>
      </li>
    </ul>
    <p>le <code translate="No">injectAdOnlyPlayer()</code> La fonction prend les mêmes paramètres sauf pour la hauteur et la durée de l'animation.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Style d'application</h2>
    <p>Cet exemple utilise le style CSS fourni par le plugin IMA3.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Code du plugin</h2>
    <p>Cet exemple utilise du code JavaScript déjà créé en tant que plug-in. Vous pouvez voir ce code dans le référentiel GitHub correspondant de ce document: <a href="https://github.com/BrightcoveLearning/18065-ad-only-plugin/blob/master/plugin/adonly.js">adonly.js</a>.</p>
    <!-- <p>Normally when converting the JavaScript into a Brightcove Player plugin nominal changes are needed. One required change is to replace the standard use of the <code translate="No">ready()</code> method with the code that defines a plugin.</p>

          <p>Here is the very commonly used start to JavaScript code that will work with the player:</p>

          <pre class="line-numbers">
                  <code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
                    var myPlayer = this;
                    ...
                  });</code></pre>

          <p>You will change the first line to use the standard syntax to start a Brightcove Player plugin:</p>

          <pre class="line-numbers">
                  <code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
                    var myPlayer = this;
                    ...
                  });</code></pre>

          <p>As mentioned earlier, you can see the plugin's JavaScript code in this document's corresponding GitHub repo: <a href="https://github.com/BrightcoveLearning/18190-hyperlinked-company-logo/blob/master/plugin/company-logo.js">company-logo.js</a>.</p> --></section>
  <section class="bcls-section">
    <h2 id="Load_time_optimization">Optimisation du temps de chargement</h2>
    <p>Cet exemple utilise un Brightcove Player et inclut le plug-in IMA pendant l'exécution. Vous pouvez utiliser cet exemple tel quel, mais en modifiant le code de lecteur de votre compte.</p>
    <p>Pour optimiser légèrement le temps de chargement, vous devez inclure le plugin IMA dans la configuration du lecteur. Pour ce faire, consultez les documents suivants:</p>
    <ul>
      <li><a href="/plugins/brightcove-player-plugins.html">Plugins de lecteur Brightcove</a></li>
      <li><a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuration des plugins de lecteur</a></li>
    </ul>
  </section>
</article>