---
title: 'Vue d'ensemble : API de lecteur'
parent: Coding Topics
description: The Brightcove Player API allows you to interact with the video through JavaScript, whether the browser is playing the video through HTML5 video, Flash, or any other supported playback technologies.
---

<article class="bcls-article">
  <h1>Vue d'ensemble : API de lecteur</h1>
  <summary>{{ page.description }}</summary>
  <section id="Referencing_the_player" class="bcls-section">
    <h2>Référencer le joueur</h2>
    <p>Pour utiliser les fonctions de l'API, vous devez accéder à l'objet lecteur. C'est simple. Vous devez simplement vous assurer que votre tag vidéo possède un identifiant. L'exemple de code d'intégration a un ID de <code translate="No">myPlayerID</code> , et l'objet joueur sera conservé dans le <code translate="No">myPlayer</code> variable. Si vous avez plusieurs vidéos sur une page, assurez-vous que chaque tag vidéo a un identifiant unique.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer('myPlayerID');</code></pre>
  </section>
  <section class="bcls-section" id="waittilready">
    <h2>Méthode prête pour le joueur</h2>
    <p>Le temps nécessaire à Video.js pour configurer la vidéo et l'API varie en fonction de plusieurs facteurs, tels que la vitesse de connexion. Pour cette raison, nous voulons utiliser le lecteur <code translate="No">ready()</code> méthode pour déclencher tout code nécessitant l'API du joueur.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').<span class="bcls-highlight">ready(function() {</span>
  var myPlayer = this;

  // EXAMPLE: Handle an event
  myPlayer.on('loadstart',doLoadstart);

});</code></pre>
    <aside class="bcls-aside bcls-aside--information">Le code juste au-dessus combine en fait à la fois les <code translate="No">getPlayer()</code> et <code translate="No">ready()</code> méthodes dans la première ligne de code unique. Vous attribuez ensuite le <code translate="No">myPlayer</code> variable la valeur <code translate="No">this</code> , qui est l'instance du joueur. Si vous le souhaitez, vous pouvez également utiliser l'alternative présentée ici, mais le code ci-dessus est plus courant.
      <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer('myPlayerID');
<span class="bcls-highlight">myPlayer.ready</span>(function(){

  // EXAMPLE: Handle an event
  myPlayer.on('loadstart',doLoadstart);

});</code></pre>
    </aside>
    <h3>Prêt pour le lecteur vs vidéo dans le lecteur prêt</h3>
    <p>D'après ce qui a été rapporté dans ce document, vous pourriez penser qu'il s'agit d'une utilisation sûre de l'API:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  // Play the video in the player
  myPlayer.play()
});</code></pre>
    <p>Le problème selon lequel le simple fait que le lecteur est prêt pour l'interaction ne garantit PAS que la vidéo du lecteur est chargée et prête à être lue, dans cet exemple. Pour cette raison, vous devrez utiliser le <code translate="No">loadedmetadata</code> événement qui garantit que la vidéo est prête à être lue. Le code apparaîtrait comme suit:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  // Play the video in the player
  myPlayer.on('loadedmetadata',function(){
    myPlayer.play();
  })
});</code></pre>
    <p>Si vous appelez le <code translate="No">play()</code> est la seule tâche à effectuer dans la fonction et vous n'allez pas interagir avec le joueur d'une autre manière, ce code pourrait être simplifié à ceci (pas besoin d'utiliser le <code translate="No">ready()</code> méthode):</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  myPlayer.play();
});</code></pre>
  </section>
  <section class="bcls-section" id="methods">
    <h2>Méthodes API</h2>
    <p>Maintenant que vous avez accès à un lecteur prêt, vous pouvez contrôler la vidéo, obtenir des valeurs ou répondre aux événements vidéo. Les noms des fonctions API Video.js suivent les <a href="https://html.spec.whatwg.org/#the-video-element">API multimédia HTML5</a>. La principale différence est que les fonctions getter / setter sont utilisées pour les propriétés vidéo.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">// setting a property on a bare HTML5 video element
myVideoElement.currentTime = "120";

// setting a property on a Video.js player
myPlayer.currentTime(120);</code></pre>
    <p>La liste complète des méthodes et des événements de l'API du lecteur se trouve dans le <a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html">documentation de l'API player</a>.</p>
  </section>
</article>