---
title: Événements de joueur
parent: Coding Topics
description: In this topic, you will learn about the various types of events associated with Brightcove Player.
---

<article class="bcls-article">
  <h1>Événements joueur</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Overview">Présentation</h2>
    <p>Le Brightcove Player a de nombreux événements pour vous permettre de contrôler la lecture vidéo. Cette rubrique fournit une vue d'ensemble des différents types d'événements.</p>
    <p>Une liste complète des événements Brightcove Player se trouve dans le <a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#toc120__anchor">API Player Methods / Events</a> document de référence. Ce document reflète les événements qui font partie du code réel qui compose le lecteur.</p>
  </section>
  <section class="bcls-section">
    <h2 id="mediaevents">Événements médiatiques</h2>
    <p>le <a href="https://html.spec.whatwg.org/multipage/">Norme de vie HTML</a> document est une excellente ressource pour obtenir des informations sur le développement de HTML et les API nécessaires aux applications Web. Il s'agit d'un document «vivant» tenu à jour par le groupe de travail sur la technologie des applications hypertextes Web (WHATWG), qui est une communauté croissante de personnes intéressées par l'évolution du Web.</p>
    <p>Le Brightcove Player s'exécute au-dessus du framework HTML, ce qui déclenche les éléments suivants <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#mediaevents">Événements médiatiques</a>.</p>
    <p>Voici quelques termes associés aux événements de ce document:</p>
    <h3>bloqué</h3>
    <p>Un MediaController est considéré comme bloqué si la lecture a été <a href="//dev.w3.org/html5/spec-preview/media-elements.html#paused-media-controller">mis en pause</a>. Un élément multimédia est bloqué si son contrôleur est un <a href="//dev.w3.org/html5/spec-preview/media-elements.html#blocked-media-controller">contrôleur multimédia bloqué</a>.</p>
    <h3>MediaController</h3>
    <p>UNE <a href="//dev.w3.org/html5/spec-preview/media-elements.html#mediacontroller">MediaController</a> est un objet qui coordonne la lecture de plusieurs éléments multimédias.</p>
    <h3>élément média</h3>
    <p>UNE <a href="//dev.w3.org/html5/spec-preview/media-elements.html#media-element">élément média</a> présente des données audio, ou des données vidéo et audio, à l'utilisateur.</p>
    <h3>esclave</h3>
    <p>Par défaut, chaque élément multimédia n'a pas <code translate="No">MediaController</code>. Lorsque des éléments multimédias sont associés à un <code translate="No">MediaController</code> , on dit qu'ils sont <a href="//dev.w3.org/html5/spec-preview/media-elements.html#slaved-media-elements">esclave</a> au contrôleur. Le contrôleur modifie la vitesse de lecture et le volume de chacun des éléments multimédias qui lui sont asservis. Si l'un des éléments asservis cale de manière inattendue, le contrôleur arrêtera les autres éléments asservis.</p>
  </section>
  <section class="bcls-section">
    <h2 id="bufferingandqosevents">Événements de mise en mémoire tampon et de QoS</h2>
    <p>Voici un sous-ensemble d'événements liés à la mise en mémoire tampon et à la qualité de service (QoS):</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 40%;" scope="col"><strong>Nom de l'événement</strong></th>
          <th style="width: 60%;" scope="col"><strong>Description</strong></th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-progress">progress</a></code></td>
          <td>Mise en mémoire tampon (chargement) des données vidéo</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-waiting">waiting</a></code></td>
          <td>Attendre momentanément les données vidéo demandées</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-stalled">stalled</a></code></td>
          <td>Tampon bloqué</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-error">error</a></code></td>
          <td>Une erreur s'est produite lors du chargement de la vidéo</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-playing">playing</a></code></td>
          <td>La lecture a repris après une pause ou un délai de téléchargement</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-ratechange">ratechange</a></code></td>
          <td>La vitesse de lecture a changé (peut être manuelle ou automatique)</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--warning">Dans Edge Windows 10, le <code translate="No">waiting</code> l'événement n'est jamais distribué lorsqu'il y a une mise en mémoire tampon.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="startupevents">Événements de démarrage</h2>
    <p>Un certain nombre d'événements se produisent lorsque le lecteur est initialisé et se prépare à lire une vidéo. Ils sont répertoriés ici dans l'ordre où ils seront expédiés:</p>
    <ul>
      <li>
        <p>:<code translate="No">loadstart</code> Envoyé lorsque le lecteur est initialisé, et s'il est réinitialisé dans le cas de lui donner une nouvelle source à jouer</p>
        <aside class="bcls-aside bcls-aside--tip">Depuis le <code translate="No">loadstart</code> événement peut se produire avant que le lecteur ne soit prêt, il est recommandé de définir l'écouteur d'événement pour cet événement avant d'appeler le lecteur <code translate="No">ready()</code> fonction. Voir le CodePen ci-dessous.</aside>
      </li>
      <li>:<code translate="No">loadedmetadata</code> Envoyé lorsque le joueur dispose des informations de durée et de dimension initiales, en d'autres termes, lorsque le premier segment est téléchargé. Pour les vidéos en direct, le <code translate="No">loadedmetadata</code> l'événement ne sera pas diffusé tant que l'utilisateur n'aura pas cliqué sur jouer En effet, les vidéos en direct ne commencent pas à télécharger des segments tant que l'utilisateur ne clique pas sur la lecture.</li>
      <li>:<code translate="No">loadeddata</code> Envoyé lorsque le lecteur a téléchargé des données à la position de lecture actuelle</li>
    </ul>
    <p>Le CodePen suivant montre les événements de démarrage écoutés et distribués. Notez que si vous passez la souris sur CodePen, vous pouvez cliquer sur le bouton <strong>REDIFFUSION</strong> bouton situé en bas à droite pour voir à nouveau l'envoi des événements. Si vous souhaitez tester le code, cliquez sur le bouton <strong>Modifier sur CODEPEN</strong> lien dans l'en-tête pour passer à l'environnement d'édition. Vous pouvez cliquer sur le <strong>JS</strong> bouton pour voir le JavaScript qui ajoute les écouteurs d'événements.</p>
    <p data-height="400" data-theme-id="14832" data-slug-hash="jPrdQm" data-default-tab="result" data-user="bcls" class="codepen">Voir le stylo <a href="http://codepen.io/team/bcls/pen/jPrdQm/">Démo des événements de démarrage</a> par Brightcove Learning Services (<a href="https://codepen.io/team/rcrooks1969">@bcls</a> ) sur <a href="http://codepen.io">CodePen</a>.</p>
    <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
    <aside class="bcls-aside bcls-aside--information">Remarque : Il est possible qu'au premier chargement de cette page, vous ne verrez pas le <code translate="No">loadstart</code> un événement. En effet, cet événement pourrait être distribué avant que CodePen ne soit entièrement rendu sur la page. Clique le <strong>REDIFFUSION</strong> et vous verrez les trois événements envoyés.</aside>
    <h3>méthode ready ()</h3>
    <p>le <code translate="No">ready()</code> La méthode a une double personnalité en ce qu'elle ressemble à un événement, mais vous l'utilisez comme une méthode. Cette méthode / cet événement signifie que le joueur est prêt à recevoir des commandes.</p>
    <p>le <code translate="No">ready()</code> diffère des écouteurs d'événements en ce que si la <code translate="No">ready</code> l'événement s'est déjà produit, il déclenchera le <code translate="No">ready()</code> méthode immédiatement. Vous verrez souvent la méthode utilisée comme suit pour fournir le point de départ du développement avec Brightcove Player:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function(){
  var myPlayer = this;
});</code></pre>
    <aside class="bcls-aside bcls-aside--tip">Remarque : Il est important de comprendre que si le lecteur doit changer de technologie de lecture, disons de HTML à Flash, pour lire une vidéo, le <code translate="No">ready</code> Les gestionnaires d'événements de méthode/événement seront réexécutés une fois que la nouvelle technologie de lecture sera opérationnelle.</aside>
    <h3>ready () vs on ('sharedmetadata', ...)</h3>
    <p>Notez que l'utilisation <code translate="No">ready()</code> fonctionne correctement si vous souhaitez interagir avec le lecteur, par exemple ajouter un plugin par programmation. Si vous souhaitez interagir immédiatement avec la vidéo, utilisez par exemple <code translate="No">play()</code> , l'extrait de code ci-dessus ne fonctionnera pas toujours correctement. Une meilleure approche serait d'écouter les <code translate="No">loadedmetadata</code> pour interagir avec la vidéo, par exemple:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  myPlayer.play();
});</code></pre>
    <p>En résumé, pour interagir avec le joueur, vous pouvez utiliser ceci:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready()</code></pre>
    <p>Si vous souhaitez interagir immédiatement avec la vidéo dans le lecteur, utilisez ceci:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){})</code></pre>
    <aside class="bcls-aside bcls-aside--information">Remarque : La raison pour laquelle vous devez attendre le <code translate="No">loadedmetadata</code> L'événement à envoyer est qu'il garantit que le catalogue a eu le temps de récupérer la vidéo avant qu'elle n'essaye de jouer.</aside>
  </section>
  <section id="fullscreenEvents">
    <h2 class="bcls-section">Événements plein écran</h2>
    <p>UNE <code translate="No">fullscreenchange</code> L'événement est émis par le lecteur lorsqu'il est basculé vers ou depuis le mode plein écran. Le même événement est diffusé, que le joueur passe en plein écran ou revienne en mode normal, s'il est important pour vous de savoir ce qui s'est passé, utilisez le <code translate="No">player.isFullscreen()</code> méthode pour déterminer si le lecteur est actuellement en mode plein écran.</p>
    <p>Le Codepen ci-dessous illustre comment procéder.</p>
    <p data-height="766" data-theme-id="14832" data-slug-hash="JGEdEd" data-default-tab="result" data-user="bcls" class="codepen">Voir le stylo <a href="http://codepen.io/team/bcls/pen/JGEdEd/">Événements plein écran du lecteur Brightcove</a> par Brightcove Learning Services (<a href="http://codepen.io/bcls">@bcls</a> ) sur <a href="http://codepen.io">CodePen</a>.</p>
    <script async src="//assets.codepen.io/assets/embed/ei.js"></script></section>
  <section class="bcls-section">
    <h2 id="adevents">Événements publicitaires</h2>
    <p>Pour inclure des bibliothèques de publicités et des fonctionnalités dans votre lecteur, vous pouvez utiliser le <a href="/plugins/advertising-ima3-plugin.html">Plug-in IMA3</a> ou la <a href="/plugins/advertising-freewheel-plugin.html">Plugin FreeWheel</a>. Ceci est construit au-dessus du <a href="https://github.com/videojs/videojs-contrib-ads/blob/master/README.md">cadre des annonces videojs</a> (videojs-contrib-ads). Ces deux plugins publicitaires peuvent diffuser les événements publicitaires indiqués dans le tableau suivant. Chacun a également des événements spécifiques à la mise en œuvre.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:35%">Événement</th>
          <th style="width:65%">Expédié lorsque :</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>demande d'annonces</td>
          <td>Sur demande et données publicitaires.</td>
        </tr>
        <tr>
          <td>ads-load</td>
          <td>Lorsque des données publicitaires sont disponibles suite à une demande d'annonce.</td>
        </tr>
        <tr>
          <td>ads-ad-démarré</td>
          <td>Une annonce a commencé à être diffusée.</td>
        </tr>
        <tr>
          <td>annonces ad-terminées</td>
          <td>Une annonce a fini de jouer.</td>
        </tr>
        <tr>
          <td>ads-pause</td>
          <td>Une annonce est suspendue.</td>
        </tr>
        <tr>
          <td>ads-play</td>
          <td>Une annonce est reprise à partir d'une pause.</td>
        </tr>
        <tr>
          <td>annonces premier quartile</td>
          <td>L'annonce a joué 25 % de sa durée totale.</td>
        </tr>
        <tr>
          <td>ads-milieu</td>
          <td>L'annonce a diffusé 50 % de sa durée totale.</td>
        </tr>
        <tr>
          <td>ads-troisième quartile</td>
          <td>L'annonce a diffusé 75 % de sa durée totale.</td>
        </tr>
        <tr>
          <td>ads-clic</td>
          <td>Un spectateur a cliqué sur l'annonce en lecture.</td>
        </tr>
        <tr>
          <td>ads-volumechange</td>
          <td>Le volume de l'annonce en lecture a été modifié.</td>
        </tr>
        <tr>
          <td>ads-pod-started</td>
          <td>La première annonce d'un espace publicitaire linéaire (un groupe d'annonces séquencé) a démarré.</td>
        </tr>
        <tr>
          <td>ads-pod-terminés</td>
          <td>La dernière annonce d'un espace publicitaire linéaire (un groupe d'annonces séquencé) est terminée.</td>
        </tr>
        <tr>
          <td>ads-allpods-terminé</td>
          <td>Toutes les annonces linéaires ont fini de jouer.</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="bc-catalog-error" class="bcls-section">
    <h2>Événement bc-catalog-error</h2>
    <p>Il est possible que la gestion des erreurs dans la <code translate="No">ready()</code> section normale du bloc de script puisse causer des problèmes. Par exemple, il peut arriver que l' <code translate="No">bc-catalog-error</code> événement soit distribué avant que le joueur soit prêt, et si vous écoutez l'erreur dans la <code translate="No">ready()</code> section, vous ne serez pas en mesure de gérer l'erreur. Ce problème peut se produire lorsque vous utilisez le géofiltrage, une vidéo n'est pas publiée, une vidéo est hors de la plage de planification ou dans un autre compte. Pour une discussion complète et des exemples de manipulation du <code translate="No">bc-catalog-error</code> événement, voir le <a href="/references/player-catalog.html">Catalogue des joueurs</a> document.</p>
  </section>
  <section id="progresstimeupdate" class="bcls-section">
    <h2>progression et mise à jour du temps</h2>
    <p>Une confusion peut survenir quant aux différences entre les <code translate="No">progress</code> et <code translate="No">timeupdate</code> événements. Le Brightcove Player s'appuie sur la vidéo HTML5, et dans cette norme, le <code translate="No">progress</code> l'événement est envoyé lorsque le navigateur télécharge des données. le <code translate="No">timeupdate</code> L'événement est distribué lorsque la position de lecture actuelle a changé.</p>
    <p>Cela peut prêter à confusion pour les utilisateurs du Smart Player de Brightcove, car dans cette API, le <code translate="No">progress</code> l'événement fait quoi <code translate="No">timeupdate</code> fait dans l'API Brightcove Player.</p>
  </section>
  <section id="section-name" class="bcls-section">
    <h2>Attention lors de la suppression des écouteurs timeupdate</h2>
    <p>Dans certains cas, vous souhaiterez peut-être supprimer un écouteur d'événement que vous avez ajouté au <code translate="No">timeupdate</code> un événement. Un cas d'utilisation est présenté dans le <a href="/code-samples/brightcove-player-sample-register-play-after-preview.html">Exemple de lecteur Brightcove: Inscription pour jouer après l'aperçu</a> document. Dans cette situation, vous souhaitez que le lecteur se mette en pause dans une certaine période et <code translate="No">timeupdate</code> pour le contrôle de l'heure, puis utilisez une définition de fonction de gestionnaire d'événements anonyme. Vous ne souhaitez mettre en pause qu'une fois, vous devez donc supprimer l'écouteur d'événements. Vous ne voulez PAS simplement faire:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.off('timeupdate');</code></pre>
    <p>Bien sûr, cela supprime TOUS les écouteurs d'événements <code translate="No">timeupdate</code> , et parmi d'autres problèmes, cela empêchera la minuterie d'avancer. Ce qui doit être fait est de créer une fonction en utilisant la syntaxe de définition de fonction normale (une déclaration de fonction), puis de supprimer JUSTE le seul écouteur d'événement. Le code abrégé est affiché ici:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No"> // Add the event handler
myPlayer.on('timeupdate', timeupdateHandler);

// Handle the event then remove JUST this event listener on timeupdate
function timeupdateHandler(evt) {
  ...
  myPlayer.off('timeupdate', timeupdateHandler);
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="analytics_events">Événements analytiques</h2>
    <p>Un événement est déclenché chaque fois qu'une balise est envoyée au collecteur de données Analytics. Vous pouvez écouter n'importe quelle balise ou des balises spécifiques.</p>
    <h3>Écoutez toutes les balises</h3>
    <p>Vous pouvez suivre toutes les balises d'analyse envoyées en écoutant le <code translate="No">analytics_request</code> un événement:</p>
<pre class="line-numbers"><code class="language-javascript" translate="No">player.on('analytics_request', function(e) {
  videojs.log('sent a(n) ' + e.params.event + ' beacon!', e.params);
});</code></pre>
    <h3>Écoutez des balises spécifiques</h3>
    <p>Vous pouvez suivre les balises d'analyse spécifiques envoyées en écoutant le <code translate="No">analytics_request_<span class="bcls-input">{beacon_name}</span></code> un événement.</p>
    <p><code translate="No">{beacon_name}</code> est le nom de l'un des événements du lecteur qui sont envoyés au collecteur de données. Pour une liste complète de ces événements, consultez le <a href="https://apis.support.brightcove.com/data-collection/references/reference.html#tag/Events">Référence de l'API de collecte de données</a>.</p>
    <h4>Exemple</h4>
<pre class="line-numbers"><code class="language-javascript" translate="No">player.on('analytics_request_video_impression', function(e) {
  videojs.log('sent an impression beacon!', e.params);
});</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="No_support_for_method_chaining">Pas de prise en charge du chaînage de méthodes</h2>
    <p>Depuis la version 6 de la méthode Brightcove Player, le chaînage avec des événements n'est plus pris en charge. Cela signifie que vous NE POUVEZ PAS faire ceci:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on(event, function () {})
.on(event, function () {})
.on(event, function () {})
.on(event, function () {});</code></pre>
  </section>
</article>