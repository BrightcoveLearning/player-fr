---
title: 'Étape par étape : Générateur de plugins Video.js'
parent: Coding Topics
description: In this topic, you will learn how to use the video.js plugin generator to create and test plugins for the Brightcove Player.
---

<article class="bcls-article">
  <h1>Étape par étape : Générateur de plug-in Video.js</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <p>Le générateur de plugins video.js crée les fichiers et dossiers nécessaires pour créer un plugin conventionnel. Il comprend un environnement de test afin que vous puissiez facilement voir vos modifications lorsque vous développez votre plugin. Il génère même les fichiers de plug-in finaux que vous pouvez utiliser lorsque vous êtes prêt à le publier.</p>
    <aside class="bcls-aside bcls-aside--information">Il s'agit d'un projet Open Source et non officiellement pris en charge par Brightcove. Comme il est utilisé par de nombreux développeurs, il est généralement tenu à jour.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Overview">Présentation</h2>
    <p>Dans cette rubrique, vous allez effectuer les tâches suivantes :</p>
    <ul>
      <li><a href="#Setup_your_environment">Configurez votre environnement</a></li>
      <li><a href="#Create_the_plugin_foundation">Créer la fondation du plugin</a></li>
      <li><a href="#View_the_source_files">Afficher les fichiers source</a></li>
      <li><a href="#Test_your_plugin">Testez votre plugin</a></li>
      <li><a href="#Edit_the_JavaScript_file">Modifier le fichier JavaScript</a></li>
      <li><a href="#Edit_the_CSS_file">Editez le fichier CSS</a></li>
      <li><a href="#Build_your_plugin">Construisez votre plugin</a></li>
      <li><a href="#Pass_data_to_your_plugin">Transmettez des données à votre plugin</a></li>
      <li><a href="#Recommendations">Recommandations</a></li>
      <li><a href="#Resources">Ressources</a></li>
    </ul>
    <p>Pour obtenir un aperçu vidéo, voir les éléments suivants :</p>
    <p>
      <iframe src="//players.brightcove.net/20318290001/S1icdlw9g_default/index.html?playlistId=5341117557001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="800" height="450"></iframe>
    </p>
  </section>
  <section class="bcls-section">
    <h2 id="Setup_your_environment">Configurez votre environnement</h2>
    <p>Pour configurer votre environnement pour exécuter le générateur de plugins, procédez comme suit:</p>
    <ol class="bcls-tasklist">
      <li>
        <p>Si vous ne l'avez pas déjà, téléchargez et installez le <a href="https://nodejs.org/en/">Runtime JavaScript Node.js</a>. Cela inclut npm, qui est un écosystème de packages qui comprend une grande collection de bibliothèques open source.</p>
        <aside class="bcls-aside bcls-aside--tip">Utilisez le <strong>Recommandé pour la plupart des utilisateurs</strong> version de Node.js.</aside>
      </li>
      <li>Créez un dossier local sur votre ordinateur. Pour cet exemple, nous en créerons un nommé <strong>tester</strong>. C'est là que les fichiers du générateur et vos fichiers de plugins iront. <aside class="bcls-aside bcls-aside--tip">Pour éviter les problèmes d'autorisation, il est généralement préférable de placer ce dossier dans le répertoire racine de l'utilisateur.</aside>
      </li>
      <li>Revoir le <strong>LISEZ-MOI</strong> informations pour le <a href="https://github.com/videojs/generator-videojs-plugin">générateur de plugin video.js</a>. dans le <strong>docs</strong> dossier, ouvrez et examinez le <a href="https://github.com/videojs/generator-videojs-plugin/blob/master/docs/conventions.md">Conventions du plugin video.js</a>. Ce document décrit les règles recommandées pour créer votre plugin.</li>
      <li>Ouvrez l'application Terminal dans le dossier que vous avez créé à une étape précédente. Pour cet exemple, ouvrez l'application Terminal dans le <strong>tester</strong> dossier.</li>
      <li>
        <p>Dans l'application Terminal, installez le générateur de plugins avec Yeoman:</p>
        <pre>
<code class="language-javascript" translate="No">$ npm install -g yo generator-videojs-plugin</code></pre>
        <p>Le générateur de plugins video.js utilise un générateur Yeoman, qui est un outil d'échafaudage pour configurer les bases de tout projet. Cela configure les fichiers et dossiers de base. Vous n'avez pas besoin de comprendre Yeoman. Il vous suffit de l'installer avec le générateur de plugins.</p>
        <!-- <aside class="bcls-aside bcls-aside--tip">If you are having permission issues, you may try using (super user do): <code translate="No">sudo npm</code></aside> --></li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Create_the_plugin_foundation">Créer la fondation du plugin</h2>
    <p>Dans cette section, vous allez créer les dossiers et fichiers de base pour votre plugin.</p>
    <ol class="bcls-tasklist">
      <li>
        <p>Dans le terminal, exécutez la commande suivante :</p>
        <pre>
<code class="language-javascript" translate="No">$ yo videojs-plugin</code></pre>
        <aside class="bcls-aside bcls-aside--tip">Vous pouvez exécuter cette commande autant de fois que vous le souhaitez. Ceci est utile si vous décidez d'ajouter une option à votre plugin après avoir travaillé dessus. L'outil se souviendra de vos sélections précédentes, mais vous devrez peut-être écraser certains fichiers.</aside>
      </li>
      <li>
        <p>Ensuite, on vous posera une série de questions sur les détails de votre plugin. Voici une liste des options ainsi qu'une brève description de chacune.</p>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th style="width:20%">Option</th>
              <th style="width:60%">Description</th>
              <th style="width:20%">Valeurs pour cet exemple</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td>Portée du package</td>
              <td><strong>Facultatif</strong>: Cela n'est nécessaire que si vous prévoyez de publier votre plugin dans une organisation npm privée. Vous pouvez utiliser le nom de votre entreprise ici ou le laisser vide.</td>
              <td>Vide</td>
            </tr>
            <tr>
              <td>Nom du plugin</td>
              <td>Donnez un nom à votre plugin. Entrer le nom <strong>démo</strong> crée un plugin nommé <strong>videojs-demo</strong>.</td>
              <td>démo</td>
            </tr>
            <tr>
              <td>Description</td>
              <td>Entrez une description pour votre plugin.</td>
              <td>Ceci est une démo</td>
            </tr>
            <tr>
              <td>Auteur</td>
              <td>Le format du nom et de l'adresse e-mail n'est pas obligatoire, mais est utilisé pour renseigner le <strong>auteur</strong> champ dans le <strong><a href="https://docs.npmjs.com/files/package.json#people-fields-author-contributors">package.json</a></strong> fichier. Le générateur essaiera de deviner ces valeurs en fonction de votre configuration git, mais vous pouvez les modifier.</td>
              <td>[votre nom] &lt;votre adresse e-mail&gt;</td>
            </tr>
            <tr>
              <td>License (Licence)</td>
              <td>Sélectionnez l'une des options de licence. Pour vos plugins privés, vous pouvez sélectionner <strong>Sans licence</strong>.</td>
              <td>Sans licence</td>
            </tr>
            <tr>
              <td>Plugin de base ou avancé</td>
              <td>Le plugin de base basé sur des fonctions est une simple fonction JavaScript. Si vous avez écrit un plugin Video.js dans le passé, vous devez être familiarisé avec le concept de base du plugin.<br />
                <br />
                Le plugin avancé basé sur les classes a été introduit avec Video.js 6. Ce type de plugin commence par une classe JavaScript, qui est une fonction constructeur.<br />
                <br />
                Pour plus de détails, consultez le <a href="https://github.com/videojs/Video.js/blob/master/docs/guides/plugins.md">Plugins Video.js</a> la documentation lisez-moi.</td>
              <td>Plugin de base (basé sur les fonctions)</td>
            </tr>
            <tr>
              <td>Outillage CSS</td>
              <td>Sélectionnez oui, si vous souhaitez inclure le style CSS. Cela générera un fichier CSS.</td>
              <td>Oui</td>
            </tr>
            <tr>
              <td>Outils de documentation</td>
              <td>Si oui, le générateur inclut JSDoc et fournit une commande pour générer la documentation.</td>
              <td>Non</td>
            </tr>
            <tr>
              <td>Chaînes internationalisées</td>
              <td>Ceci est utile si vous souhaitez traduire du texte dans différentes langues. L'outil n'offre pas de traduction automatique, mais il convertit les fichiers du format JSON video.js en JavaScript. Ensuite, vous pouvez créer des langages comme vous le feriez pour video.js et les faire compiler dans la sortie de votre plugin.</td>
              <td>Non</td>
            </tr>
            <tr>
              <td>Lint a changé les fichiers</td>
              <td>Inclure un outil de peluchage appelé standard videojs. Ce processus vérifie votre code pour certaines erreurs courantes.</td>
              <td>Oui</td>
            </tr>
            <tr>
              <td>Avant Git push</td>
              <td>Cela vous donne la possibilité d'empêcher le transfert vers un référentiel git si les vérifications sélectionnées échouent. La vérification de la qualité du code est un bon moyen d'éviter de pousser du code qui n'est pas conforme aux normes.</td>
              <td>Non</td>
            </tr>
          </tbody>
        </table>
        <p>Voici à quoi ressemble la sortie avec les valeurs définies pour cet exemple:</p>
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Option values" src="/assets/images/coding-topics/sbs-videojs-option-values.png" />
          <figcaption class="bcls-caption--image">Valeurs des options</figcaption>
        </figure>
      </li>
      <li>Lorsque la configuration est terminée, vous verrez plusieurs messages. Il peut y avoir des messages d'avertissement, mais aucune erreur.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Setup complete" src="/assets/images/coding-topics/sbs-videojs-setup-complete.png" />
          <figcaption class="bcls-caption--image">Configuration terminée</figcaption>
        </figure>
        <p>Notez que le nom du plugin est <strong>videojs-demo</strong>.</p>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="View_the_source_files">Afficher les fichiers source</h2>
    <p>Dans cette section, nous passerons en revue les fichiers source créés par le générateur videojs.</p>
    <ol class="bcls-tasklist">
      <li>
        <p>Dans un éditeur, ouvrez le dossier supérieur où vous avez placé votre projet de plugin. Ouvrez le <strong>src</strong> dossier. Vous trouverez ici les éléments suivants:</p>
        <ul>
          <li>UNE <strong>plugin.js</strong> fichier. Ce fichier contient le code de votre plugin.</li>
          <li>UNE <strong>plugin.css</strong> fichier, si vous avez sélectionné <strong>Oui</strong> à l'option d'outillage CSS.</li>
        </ul>
      </li>
      <li>(Si vous n'avez pas sélectionné <strong>Oui</strong> à l'option d'outils CSS, vous pouvez ignorer cette étape.) Ouvrez le <strong>src&gt; plugin.css</strong> fichier.
        <!-- <aside class="bcls-aside bcls-aside--tip">You will make your coding changes in this SASS file, but a CSS file will be created for distribution. If you are not familiar with SASS, don't worry. Since CSS is a subset of SASS, you can also use CSS in this file.</aside> -->
        
        <p>Votre code doit ressembler à ce qui suit :</p>
        <!-- <ul>
		<li>Lines 6-8: add the <code translate="No">vjs-demo</code> class to the player.</li>
	</ul> -->
        
        <pre class="line-numbers">
<code class="language-javascript" translate="No">/* Note: all vars must be defined here, there are no "local" vars */
  :root {
    --main-color: red;
    --base-font-size: 9;
    --font-size: 7;
  }

  .video-js {

    &amp;.vjs-demo {
      /* This class is added to the video.js element by the plugin by default. */
      display: block;

      &amp; .remove-me, &amp; .remove-me-too, &amp;.finally-remove-me {
        /* examples of postcss syntax, you probably want to remove this */

        color: var(--main-color);

        /**
         * Note that you have to use calc and multiply by a value with a unit
         * prepending the unit like `var(--base-font-size)px` or
         * `calc(10 * var(--base-font-size)em` will NOT work!
         */
        font-size: calc(var(--font-size) * 8 * var(--base-font-size) * 1px);

      }
    }
  }</code></pre>
      </li>
      <li>Ouvrez le <strong>src&gt; plugin.js</strong> fichier. <aside class="bcls-aside bcls-aside--tip">Le générateur utilise ES6, qui est la dernière version de JavaScript. En savoir plus sur les nouvelles fonctionnalités de <a href="http://es6-features.org/#Constants">ECMAScript 6</a>. Le générateur traduit votre code ES6 en code ES5 afin que votre code de distribution s'exécute sur la majorité des navigateurs.</aside>
        <p>Votre code doit ressembler à ce qui suit :</p>
        <ul>
          <li>Lignes 25-27: appelez le <code translate="No">onPlayerReady()</code> fonction, lorsque le lecteur est prêt. Ici, vous pouvez passer des variables dans votre plugin en utilisant le <code translate="No">options</code> objet.</li>
          <li>Ligne 26: ajoute le <code translate="No">vjs-demo</code> classe à votre joueur. Par défaut, c'est la seule chose que fait le code squelette. C'est ici que vous pouvez ajouter des fonctionnalités à votre plugin.</li>
          <li>Ligne 48: enregistre votre plugin avec video.js.</li>
          <li>Ligne 51: ajoute un paramètre de version à votre plugin. Lorsque vous exécutez le <strong>version npm</strong> script, il mettra à jour cette variable avec la version sur laquelle vous vous trouvez.</li>
        </ul>
        <pre class="line-numbers">
<code class="language-javascript" translate="No">import videojs from 'video.js';
import {version as VERSION} from '../package.json';

// Default options for the plugin.
const defaults = {};

// Cross-compatibility for Video.js 5 and 6.
const registerPlugin = videojs.registerPlugin || videojs.plugin;
// const dom = videojs.dom || videojs;

/**
 * Function to invoke when the player is ready.
 *
 * This is a great place for your plugin to initialize itself. When this
 * function is called, the player will have its DOM and child components
 * in place.
 *
 * @function onPlayerReady
 * @param    {Player} player
 *           A Video.js player object.
 *
 * @param    {Object} [options={}]
 *           A plain object containing options for the plugin.
 */
const onPlayerReady = (player, options) =&gt; {
  player.addClass('vjs-demo');
};

/**
 * A video.js plugin.
 *
 * In the plugin function, the value of `this` is a video.js `Player`
 * instance. You cannot rely on the player being in a "ready" state here,
 * depending on how the plugin is invoked. This may or may not be important
 * to you; if not, remove the wait for "ready"!
 *
 * @function demo
 * @param    {Object} [options={}]
 *           An object of options left to the plugin author to define.
 */
const demo = function(options) {
  this.ready(() =&gt; {
    onPlayerReady(this, videojs.mergeOptions(defaults, options));
  });
};

// Register the plugin with video.js.
registerPlugin('demo', demo);

// Include the version number.
demo.VERSION = VERSION;

export default demo;</code></pre>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Test_your_plugin">Testez votre plugin</h2>
    <p>Le générateur de plugins facilite le développement et le test de votre plugin à l'aide d'un environnement de test local. Suivez ces étapes pour tester votre plugin:</p>
    <ol class="bcls-tasklist">
      <li>
        <p>Dans le terminal, entrez la commande suivante pour démarrer le serveur de développement:</p>
        <pre>
<code class="language-javascript" translate="No">$ npm start</code></pre>
      </li>
      <li>Dans un navigateur, saisissez ce qui suit pour ouvrir le serveur de développement:
        <pre>
<code class="language-javascript" translate="No">http://localhost:9999/</code></pre>
        <p>Vous devriez voir le lecteur avec une vidéo de test. Le générateur vous donne un lecteur de démonstration qui s'exécute dans la page. Dans les outils de développement du navigateur, ouvrez le <strong>Éléments</strong> onglet pour voir le code HTML du lecteur.</p>
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Browser testing" src="/assets/images/coding-topics/sbs-videojs-browser-test.png" />
          <figcaption class="bcls-caption--image">Test du navigateur</figcaption>
        </figure>
      </li>
      <li>Inspectez les éléments de cette page Web. Vous devriez voir que le <code translate="No">vjs-demo</code> la classe a été ajoutée au lecteur. N'oubliez pas que nous avons ajouté cette classe au lecteur dans le code du plugin.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="vjs-demo class" src="/assets/images/coding-topics/sbs-videojs-vjs-demo-class.png" />
          <figcaption class="bcls-caption--image">classe vjs-demo</figcaption>
        </figure>
      </li>
      <li>Maintenant, essayons d'ajouter du code au plugin pour démarrer automatiquement la lecture de la vidéo lorsque le lecteur se charge. Revenir au <strong>src&gt; plugin.js</strong> fichier dans votre éditeur.
      </li>
      <li>dans le <code translate="No">onPlayerReady()</code> méthode, ajoutez du code pour démarrer la lecture de la vidéo.
        <pre class="line-numbers">
<code class="language-javascript" translate="No">const onPlayerReady = (player, options) =&gt; {
  player.addClass('vjs-demo');
  <span class="bcls-highlight">player.play();</span>
};</code></pre>
      </li>
      <li>Sauver la <strong>plugin.js</strong> fichier dans votre éditeur. Lorsque vous actualisez votre navigateur, vous devriez voir que la lecture de la vidéo commence dans l'environnement de test.
        <p>Lorsque vous développez votre plugin dans le <strong>plugin.js</strong> fichier et enregistrer les modifications, l'outil reconstruit et recharge automatiquement le lecteur dans le navigateur. Cela facilite le développement et le test de votre plugin.</p>
      </li>
      <li>
        <p>Supprimez la ligne de code pour commencer la lecture de la vidéo.</p>
        <pre>
<code class="language-javascript" translate="No">player.play();</code></pre>
        <aside class="bcls-aside bcls-aside--tip">Dans le terminal, appuyez sur CTRL-C pour arrêter le serveur de développement.</aside>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Edit_the_JavaScript_file">Modifier le fichier JavaScript</h2>
    <p>Dans cette section, vous allez ajouter du code au fichier source JavaScript pour ajouter un élément de paragraphe avec du texte personnalisé au lecteur.</p>
    <ol class="bcls-tasklist">
      <li>Dans votre éditeur, retournez au <strong>src&gt; plugin.js</strong> déposer.</li>
      <li>dans le <code translate="No">onPlayerReady()</code> fonction, ajoutez du code pour ajouter un <code translate="No">&lt;p&gt;</code> élément avec un texte personnalisé au joueur.
        <pre class="line-numbers">
<code class="language-javascript" translate="No">const onPlayerReady = (player, options) =&gt; {
  player.addClass('vjs-demo');
<span class="bcls-highlight">  var textDisplay = document.createElement('p');
  textDisplay.className = 'vjs-text';
  textDisplay.innerHTML = "Becoming a plugin developer";
  player.el().appendChild(textDisplay);</span>
};</code></pre>
      </li>
      <li>Enregistrez le fichier. N'oubliez pas que vos modifications seront automatiquement mises à jour dans le navigateur de test.</li>
      <li>Revenez dans le navigateur de test. Vous verrez que rien n'a changé dans le lecteur. Le problème est que le texte est là, mais il n'est pas visible. Nous réglerons cela ensuite.
        <p>Pour vérifier que l'élément de texte a été ajouté au lecteur, utilisez les outils de développement dans le navigateur. dans le <strong>Éléments</strong> section, développez le lecteur <code translate="No">&lt;div&gt;</code> élément. Vous devriez voir la balise de paragraphe nouvellement ajoutée.</p>
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Added paragraph tag" src="/assets/images/coding-topics/sbs-videojs-p-element.png" />
          <figcaption class="bcls-caption--image">Balise de paragraphe ajoutée</figcaption>
        </figure>
        <p>Nous rendrons le texte visible dans la section suivante en utilisant CSS.</p>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Edit_the_CSS_file">Editez le fichier CSS</h2>
    <p>Dans cette section, vous ajouterez du code au fichier source CSS pour afficher du texte sur le lecteur.</p>
    <ol class="bcls-tasklist">
      <li>Dans votre éditeur, revenez à la <strong>src&gt; plugin.css</strong> fichier.</li>
      <li>Ajouter le <code translate="No">.vjs-text</code> sélecteur avec des styles pour afficher le texte personnalisé dans le lecteur.
        <pre class="line-numbers">
<code class="language-css" translate="No">/* Note: all vars must be defined here, there are no "local" vars */
  :root {
    --main-color: red;
    --base-font-size: 9;
    --font-size: 7;
  }

<span class="bcls-highlight">  .vjs-text {
    background-color: #333333;
    color: white;
    position: absolute;
    font-size: 2em;
    text-align: center;
    width: 100%;
    margin-top: 10%;
  }</span></code></pre>
      </li>
      <li>Enregistrez le fichier. N'oubliez pas que vos modifications seront automatiquement mises à jour dans le navigateur de test.</li>
      <li>Retournez au navigateur de test. Vous devriez maintenant voir le texte personnalisé affiché sur le lecteur.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Text displayed over the player" src="/assets/images/coding-topics/sbs-videojs-text-display.png" />
          <figcaption class="bcls-caption--image">Texte affiché sur le lecteur</figcaption>
        </figure>
      </li>
      <li>Arrêtez le serveur de développement en appuyant sur <strong>CTRL-C</strong> dans l'application Terminal.</p>
        <p>Vous êtes maintenant prêt à préparer votre plugin pour la distribution. Nous ferons cela ensuite.</p>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Build_your_plugin">Construisez votre plugin</h2>
    <p>Dans cette section, vous construirez votre plugin. Cela prend votre code source et crée des fichiers CSS et JavaScript distribuables.</p>
    <ol class="bcls-tasklist">
      <li>
        <p>Dans le Terminal, exécutez la commande suivante :</p>
        <pre>
<code class="language-javascript" translate="No">$ npm run build</code></pre>
        <p>La construction prend votre code source ES6 et le convertit en code JavaScript ES5.</p>
      </li>
      <li>
        <p>Dans votre dossier de projet, développez le <strong>dist</strong> dossier. C'est ici que vous trouverez une version distribuable de votre plugin. Ici, vous devriez trouver les fichiers suivants (en supposant que vous ayez sélectionné <strong>Oui</strong> pour l'outillage CSS):</p>
        <ul>
          <li>videojs-demo.css<strong></strong></li>
          <li>videojs-demo.js<strong></strong></li>
          <li>videojs-demo.min.js<strong></strong></li>
        </ul>
        &nbsp;
        <p>Vous trouverez également ces fichiers moins couramment utilisés:</p>
        <ul>
          <li>videojs-demo.cjs.js<strong></strong>
            <ul>
              <li>C'est un <a href="http://www.commonjs.org/">CommonJS</a> module à utiliser lorsque votre projet est requis dans Node, ou si vous utilisez Browserify pour regrouper JavaScript.</li>
            </ul>
          </li>
          <li>videojs-demo.es.js<strong></strong>
            <ul>
              <li>C'est un <a href="http://es6-features.org/#Constants">ES6</a> module pour les projets modernes qui utilisent WebPack ou Rollup pour regrouper leurs dépendances.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>dans le <strong>dist</strong> dossier, ouvrez le <strong>videojs-demo.js</strong> fichier.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Distribution files" src="/assets/images/coding-topics/sbs-videojs-dist-js.png" />
          <figcaption class="bcls-caption--image">Fichiers de distribution</figcaption>
        </figure>
        <p>Quelques points à noter à propos de ce fichier de distribution:</p>
        <ul>
          <li>Une bannière de licence a été ajoutée en haut du fichier.</li>
          <li>Votre plugin a été enveloppé dans un <a href="http://browserify.org/">browserify</a> espace de noms. Cela signifie qu'il n'y a pas de variables globales qui pourraient entrer en conflit avec votre code de page.</li>
          <li>Le plugin s'enregistre en interne avec videojs. Cela signifie que vous pouvez créer plusieurs plugins, chacun fonctionnant indépendamment, pour un joueur.</li>
        </ul>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Pass_data_to_your_plugin">Transmettez des données à votre plugin</h2>
    <p>Cette section est facultative. Vous pouvez ignorer cette section à moins que vous ne souhaitiez apprendre à transmettre des données à votre plugin.</p>
    <ol class="bcls-tasklist">
      <li>
        <p>Nous utiliserons le <code translate="No">options</code> propriété pour transmettre les données de notre page HTML au plugin. Pour plus d'informations sur l'utilisation de cette propriété, consultez le <a href="/coding-topics/pass-data-plugin.html">Passer des données au plug-in</a> document.</p>
      </li>
      <li>
        <p>Dans votre éditeur, revenez au fichier <strong>src &gt; plugin.js</strong> .</p>
      </li>
      <li>
        <p>dans le <code translate="No">onPlayerReady()</code> fonction, ajoutez du code pour utiliser la valeur de texte dans le <code translate="No">options</code> propriété si elle existe, sinon utilisez une valeur de texte par défaut.</p>
        <ul>
          <li>Ligne 4: crée un élément de paragraphe</li>
          <li>Ligne 5: attribue le type de classe de texte</li>
          <li>Ligne 6: vérifie si le <code translate="No">displayText</code> l'objet existe dans le <code translate="No">options</code> propriété</li>
          <li>Ligne 7: utilise le <code translate="No">displayText</code> valeur pour remplir l'affichage du texte</li>
          <li>Ligne 9: utilise la valeur d'affichage du texte par défaut</li>
          <li>Ligne 13: ajoute l'élément de texte d'affichage au DOM</li>
        </ul>
        <pre class="line-numbers">
<code class="language-javascript" translate="No">const onPlayerReady = (player, options) =&gt; {
  player.addClass('vjs-demo');

<span class="bcls-highlight">  var textDisplay = document.createElement('p');
  textDisplay.className = 'vjs-text';

  if ('displayText' in options) {
    textDisplay.innerHTML = options.displayText;
  } else {
    textDisplay.innerHTML = "Becoming a plugin developer";
  }

  player.el().appendChild(textDisplay);</span>
};</code></pre>
      </li>
      <li>Enregistrez le fichier et revenez au navigateur de test. Vous ne devriez voir aucun changement dans l'affichage du texte.</li>
      <li>Si vous ne l'avez pas déjà fait, ajoutez le css pour le <code translate="No">.vjs-text</code> sélecteur du <a href="#Edit_the_CSS_file">Editez le fichier CSS</a> section.</li>
      <li>Construisez votre plugin. Nous utiliserons les fichiers dans le <strong>dist</strong> dossier dans une page Web de test.</li>
      <li>Dans votre serveur de test local, comme MAMP, créez un dossier nommé <strong>plugin-générateur</strong>.</li>
      <li>Dans ce dossier, copiez le <strong>videojs-demo.css</strong> et <strong>videojs-demo.js</strong> fichiers du <strong>dist</strong> dossier et collez-les dans votre dossier de serveur de test, <strong>plugin-générateur</strong>.</li>
      <li>Ensuite, dans ce dossier, créez un fichier HTML avec un lecteur qui appelle notre <code translate="No">demo</code> plugin et transmet une valeur pour le texte d'affichage. Nous nommerons ce fichier <strong>testing.html</strong>.
        <ul>
          <li>Ligne 8: inclut nos styles de plugins.</li>
          <li>Lignes 13-22: ajoutez un Brightcove Player à notre page Web.</li>
          <li>Ligne 24: inclut notre fichier JavaScript du plugin.</li>
          <li>Lignes 26-32: exécutez un script de page personnalisé.</li>
          <li>Ligne 27: attend que le joueur soit prêt.</li>
          <li>Ligne 28: obtient une référence au joueur.</li>
          <li>Ligne 29: définit le <code translate="No">options</code> objet.</li>
          <li>Ligne 30: appelle notre <code translate="No">demo</code> plugin et passe dans le <code translate="No">options</code> objet. Notez que le nom du plugin est <code translate="No">demo</code> , tandis que les noms des fichiers du plugin sont <code translate="No">videojs-demo</code>.</li>
        </ul>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Passing data to the plugin&lt;/title&gt;

  &lt;link href="videojs-demo.css" rel="stylesheet"&gt;
&lt;/head&gt;

&lt;body&gt;

  &lt;video-js id="myPlayerID"
    data-video-id="5977793284001"
    data-account="1752604059001"
    data-player="default"
    data-embed="default"
    data-application-id
    class="video-js"
    width="640px" height="360px"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="//players.brightcove.net/1752604059001/default_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="videojs-demo.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      options = {"displayText": "This data supplied at initialization"};
      myPlayer.demo(options);
  });
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
      </li>
      <li>Dans un navigateur, exécutez le <strong>testing.html</strong> fichier. Vous devriez voir que la valeur du texte d'affichage provient du code de la page au lieu du plugin.
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Data passed to the plugin" src="/assets/images/coding-topics/sbs-videojs-passed-data.png" />
          <figcaption class="bcls-caption--image">Données transmises au plugin</figcaption>
        </figure>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Recommendations">Recommandations</h2>
    <p>Il est recommandé d'utiliser ce générateur pour tous vos plugins, même les plus simples. De cette façon, vous aurez toujours la même configuration pour tous vos plugins. Cela vous libère également de la tâche de créer des scripts pour exécuter certaines fonctions, comme le peluchage ou la réduction.</p>
    <p>Avec ce générateur, vous pouvez vous concentrer sur le développement et le test de votre plugin sans avoir à vous soucier des outils sous-jacents.</p>
    <p>Vous pouvez garder votre plugin local ou le mettre sur votre dépôt GitHub privé. La création d'un plugin videojs signifie qu'il fonctionnera avec le Brightcove Player.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Resources">Ressources</h2>
    <p>Voici un résumé des ressources que vous utiliserez tout au long de ce démarrage rapide. Ces liens sont également fournis dans les étapes ci-dessous:</p>
    <ul>
      <li>Télécharger et installer: <a href="https://nodejs.org/en/">Node.js (cela inclut npm)</a>
        <p>Utilisez la version «Recommandé pour la plupart des utilisateurs».</p>
      </li>
      <li><a href="https://github.com/videojs/generator-videojs-plugin">Le générateur video.js</a></li>
      <li><a href="https://github.com/videojs/generator-videojs-plugin/blob/master/docs/standards.md">Les conventions du plugin video.js</a></li>
      <li><a href="https://docs.npmjs.com/">Premiers pas avec npm</a></li>
      <li><a href="http://yeoman.io/">L'outil d'échafaudage Yeoman</a></li>
    </ul>
  </section>
</article>