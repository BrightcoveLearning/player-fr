---
title: Création d'un manifeste DASH DRM pour le Brightcove Player

parent: 'DRM &amp; Content Protection'
description: In this topic, you will learn how to create an MPEG-DASH manifest (.MPD file) with DRM protection for Brightcove Player.
---

<article class="bcls-article">
  <h1>Création d'un manifeste DASH DRM pour le lecteur Brightcove</h1>
  <summary>{{ page.description }} </summary>
  <section class="bcls-section">
    <h2 id="Overview">Présentation</h2>
    <p>Le manifeste MPEG-DASH (fichier .MPD) décrit une vidéo avec des rendus MPEG-DASH cryptés à l'aide du cryptage commun (CENC) et est compatible avec les modules de décryptage de contenu (CDM) Playready, Widevine et Marlin. Seuls Playready et Widevine sont pris en charge par le lecteur Web de Brightcove, selon le navigateur utilisé.</p>
    <h3>Prise en charge du navigateur</h3>
    <p>La lecture ne fonctionne que sur les navigateurs Macintosh et Windows de bureau pris en charge.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Types de navigateurs</th>
          <th>Technologie de lecture</th>
          <th>Type de DRM</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Chrome 34+</td>
          <td>Lecture MSE/EME native à l'aide de Shaka-Player<sup>*</sup></td>
          <td>Widevine</td>
        </tr>
        <tr>
          <td>MS Edge sur Windows 10</td>
          <td>Lecture MSE/EME native à l'aide de Shaka-Player<sup>*</sup></td>
          <td>PlayReady</td>
        </tr>
        <tr>
          <td>Tous les autres navigateurs, y compris Safari, IE et Firefox</td>
          <td>Plugin Silverlight</td>
          <td>PlayReady</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--information"><sup>*</sup>Shaka-Player fournit un support DASH. Avant la version 4 du plug-in Brightcove Player DRM, la technologie de lecture utilisée pour la prise en charge de DASH était basée sur Dash.js.</aside>
  </section>
  <section class="bcls-section player-only" id="perform_External_DRM_content">
    <h2>Contenu DRM externe</h2>
    <h3>Conditions requises pour le contenu DRM créé en dehors de Brightcove Video Cloud</h3>
    <p>Afin de lire du contenu vidéo avec la protection DRM appliquée à l'aide du Brightcove Player, votre vidéo doit être encodée en suivant ces directives.</p>
    <ol>
      <li>Doit être un profil MPEG-DASH Live (pas "à la demande", ni "hbbtv")</li>
      <li>Tous les rendus doivent avoir le même intervalle d'images clés et la même fréquence d'images (pour la compatibilité avec notre plugin Silverlight)</li>
      <li>Doit être chiffré à l'aide du chiffrement commun (CENC) et avoir la prise en charge de Playready et Widevine activée</li>
      <li>Les URL des serveurs de licences Playready et Widevine doivent être fournies. L'URL du serveur de licences Playready doit être incluse dans le fichier manifeste (.mpd). L'URL du serveur de licences Widevine peut être fournie dans le manifeste ou en tant que paramètre en Javascript</li>
      <li>Le vecteur d'initialisation Playready doit être de 8 octets.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_manifest">Exemple de manifeste</h2>
    <p>Voici un exemple de manifeste MPEG-DASH (fichier .MPD) généré par Video Cloud.</p>
    <pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0" ?&gt;
&lt;MPD mediaPresentationDuration="PT1M28S" minBufferTime="PT2.00S" profiles="urn:mpeg:dash:profile:isoff-live:2011" type="static" xmlns="urn:mpeg:dash:schema:mpd:2011" xmlns:mspr="urn:microsoft:playready" xmlns:mas="urn:marlin:mas:1-0:services:schemas:mpd"&gt;
   &lt;Period&gt;
      &lt;AdaptationSet mimeType="audio/mp4" segmentAlignment="true" startWithSAP="1"&gt;
         &lt;ContentProtection schemeIdUri="urn:mpeg:dash:mp4protection:2011" value="cenc" cenc:default_KID="5d97af80-2442-4fe9-b1aafc24ecb6fa28" xmlns:cenc="urn:mpeg:cenc:2013"/&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4"&gt;
            &lt;mas:MarlinContentIds&gt;
               &lt;mas:MarlinContentId&gt;urn:marlin:kid:5d97af8024424fe9b1aafc24ecb6fa28&lt;/mas:MarlinContentId&gt;
            &lt;/mas:MarlinContentIds&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95"&gt;
            &lt;mspr:pro&gt;jAIAAAEAAQCCAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AZwBLACsAWABYAFUASQBrADYAVQArAHgAcQB2AHcAawA3AEwAYgA2AEsAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBVAGQAawBLAGIASQBBAHgAbgBOAGcAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABMAEEAXwBVAFIATAA+AGgAdAB0AHAAcwA6AC8ALwBwAHIAbABpAGMALgBiAHIAaQBnAGgAdABjAG8AdgBlAC4AYwBvAG0ALwBsAGkAYwBlAG4AcwBlAC8AMwA3ADIAMwA0ADkANgAyADcANwAwADAAMQA8AC8ATABBAF8AVQBSAEwAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AA==&lt;/mspr:pro&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;
         &lt;SegmentTemplate duration="2000" initialization="$RepresentationID$/init.mp4" media="$RepresentationID$/seg-$Number$.m4f" startNumber="0" timescale="1000"/&gt;
         &lt;Representation bandwidth="43241" id="4324360320001/audio/und" codecs="mp4a.40.5" audioSamplingRate="22050"&gt;
            &lt;AudioChannelConfiguration schemeIdUri="urn:mpeg:dash:23003:3:audio_channel_configuration:2011" value="2"/&gt;
         &lt;/Representation&gt;
      &lt;/AdaptationSet&gt;
      &lt;AdaptationSet mimeType="video/mp4" segmentAlignment="true" startWithSAP="1" scanType="progressive"&gt;
         &lt;ContentProtection schemeIdUri="urn:mpeg:dash:mp4protection:2011" value="cenc" cenc:default_KID="5d97af80-2442-4fe9-b1aafc24ecb6fa28" xmlns:cenc="urn:mpeg:cenc:2013"/&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4"&gt;
            &lt;mas:MarlinContentIds&gt;
               &lt;mas:MarlinContentId&gt;urn:marlin:kid:5d97af8024424fe9b1aafc24ecb6fa28&lt;/mas:MarlinContentId&gt;
            &lt;/mas:MarlinContentIds&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95"&gt;
            &lt;mspr:pro&gt;jAIAAAEAAQCCAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AZwBLACsAWABYAFUASQBrADYAVQArAHgAcQB2AHcAawA3AEwAYgA2AEsAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBVAGQAawBLAGIASQBBAHgAbgBOAGcAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABMAEEAXwBVAFIATAA+AGgAdAB0AHAAcwA6AC8ALwBwAHIAbABpAGMALgBiAHIAaQBnAGgAdABjAG8AdgBlAC4AYwBvAG0ALwBsAGkAYwBlAG4AcwBlAC8AMwA3ADIAMwA0ADkANgAyADcANwAwADAAMQA8AC8ATABBAF8AVQBSAEwAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AA==&lt;/mspr:pro&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;
         &lt;SegmentTemplate duration="2000" initialization="$RepresentationID$/init.mp4" media="$RepresentationID$/seg-$Number$.m4f" startNumber="0" timescale="1000"/&gt;
         &lt;Representation bandwidth="237182" id="4324360320001/video/1" codecs="avc1.42c015" frameRate="30" width="400" height="300"/&gt;
         &lt;Representation bandwidth="601518" id="4324360321001/video/1" codecs="avc1.42c015" frameRate="30" width="400" height="300"/&gt;
         &lt;Representation bandwidth="981387" id="4324360323001/video/1" codecs="avc1.42c016" frameRate="30" width="480" height="360"/&gt;
         &lt;Representation bandwidth="1507704" id="4324360324001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
         &lt;Representation bandwidth="2102387" id="4324360325001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
         &lt;Representation bandwidth="2991373" id="4324360326001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
      &lt;/AdaptationSet&gt;
   &lt;/Period&gt;
&lt;/MPD&gt;
</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="License_information">Informations sur la licence</h2>
    <p>Afin de créer votre propre flux DASH-DRM compatible avec Brightcove Player, votre système d'encodage doit créer un manifeste (MPD) similaire à celui fourni ci-dessus qui comprend des informations sur la licence DRM. Votre MPD peut omettre les sections Marlin qui ne sont pas utilisées par le Brightcove Player aujourd'hui.</p>
    <h3>Spécification de la clé de licence PlayReady</h3>
    <p>Brightcove Player nécessite que les informations de licence PlayReady soient intégrées dans le MPD sous la forme d'une chaîne codée en base 64. Vous pouvez voir la valeur dans cet exemple dans le <code translate="No">&lt;mspr:pro&gt;</code> balise ci-dessus. Les informations de clé codées sont affichées décodées ci-dessous. Des informations sur le format de l'en-tête PlayReady peuvent être trouvées ici: <a href="http://www.microsoft.com/playready/documents/">http://www.microsoft.com/playready/documents/</a>.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"&gt;&lt;DATA&gt;&lt;PROTECTINFO&gt;&lt;KEYLEN&gt;16&lt;/KEYLEN&gt;&lt;ALGID&gt;AESCTR&lt;/ALGID&gt;&lt;/PROTECTINFO&gt;&lt;KID&gt;gK+XXUIk6U+xqvwk7Lb6KA==&lt;/KID&gt;&lt;CHECKSUM&gt;UdkKbIAxnNg=&lt;/CHECKSUM&gt;&lt;LA_URL&gt;https://prlic.brightcove.com/license/3723496277001&lt;/LA_URL&gt;&lt;/DATA&gt;&lt;/WRMHEADER&gt;</code></pre>
    <h3>Spécification de l'URL de la licence Widevine</h3>
    <p>Notez ici que l'URL du serveur de licences Widevine est fournie dans le MPD dans cette ligne:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;</code></pre>
    <p>Vous pouvez également fournir l'URL du serveur de licences Widevine en tant que paramètre au lecteur en JavaScript dans la page où il est intégré. Voici un exemple de la façon d'appeler le Brightcove Player en spécifiant un serveur de licences avec l'URL source:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.src({
  "src": sourceUrl,
  "type": "application/dash+xml",
  "keySystemOptions": [{
    "name": "com.widevine.alpha",
    "options": {"licenseUrl": licenseServerUrl}
  }]
});</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Preloading">Préchargement</h2>
    <p>Il existe un certain nombre de paramètres à partir desquels vous pouvez choisir de contrôler le préchargement des données vidéo. Voir le <a href="/general/player-configuration-guide.html#preload">Guide de configuration du lecteur, <strong>précharge</strong> section</a> pour plus de détails. Le comportement par défaut est que Brightcove Player préchargera les métadonnées vidéo (par exemple le titre et la durée), ainsi que plusieurs secondes de données vidéo. Si vous souhaitez modifier le comportement de préchargement, vous pouvez spécifier l'option suivante dans la configuration de votre lecteur:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">"preload": "none"</code></pre>
    <p>Voici un exemple de configuration de lecteur avec ce paramètre:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "account_id": "3723496277001",
  "autoadvance": 0,
  "embed_id": "default",
  "player": {
    "template": {
      "name": "single-video-template",
      "version": "1.14.26"
    }
  },
  "player_id": "82f443bc-82f5-4074-bf9c-de2920c89b24",
  "player_name": "DRM Demo",
  <span class="bcls-highlight">"preload": "none"</span>,
  "scripts": [
    "https://players.brightcove.net/videojs-dash/videojs-dash.min.js"
  ],
  "stylesheets": [
    "https://players.brightcove.net/videojs-dash/videojs-dash.css"
  ],
  "video_cloud": {
    "policy_key": "BCpkADawqM2ENcgyE-9inavnwhb7UdI2lOWO-at96gPIdABCVZPuXWJkv6ddgIUTCbe3iyoKKI5hyVkjKkhRve9eOhJ7e5G6433DkB5DS2ilfROKA8hN07KKYt6k6MqCbqvL5N-KGYcYDEFGSP8b5dC",
    "video": null
  }
}</code></pre>
  </section>
</article>