---
title: Configuration de la diffusion en direct
parent: General Information
description: In this topic, you will learn how live stream configuration affects the bandwidth available for media playback. The goal of the document is to make you aware how incorrect configuration can impact the user experience for a live stream, rendering it nearly unplayable.
---

<article class="bcls-article">
  <h1>Configuration du flux en direct</h1>
  <summary>{{ page.description }}</summary>
        <section class="bcls-section">
    <aside class="bcls-aside bcls-aside--information">La configuration du flux en direct se fait en conjonction avec votre CDN et/ou encodeur. Brightcove Player ne peut lire que ce qui est envoyé et aucun réglage de Brightcove Player ne peut compenser une configuration incorrecte de la diffusion en direct.</aside>
  </section>
  <section id="Live_stream_configuration_terminology" class="bcls-section">
    <h2>Terminologie de configuration du flux en direct</h2>
    <p>La calculatrice au bas de ce document fournit une estimation approximative de la bande passante en fonction de la configuration du flux en direct. Pour s'assurer qu'il existe une connaissance de base de la diffusion en direct et de l'information nécessaire à la calculatrice, certains termes sont définis ici :</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 25%">Terme</th>
          <th>Définition</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Diffusion en continu HTTP (HLS)</td>
          <td>Envoie audio et vidéo sous la forme d'une série de petits fichiers appelés fichiers de segment multimédia.</td>
        </tr>
        <tr>
          <td>Durée de la cible</td>
          <td>Paramètre de la liste de lecture multimédia qui spécifie une durée maximale pour l'un des segments de médias.</td>
        </tr>
        <tr>
          <td>Fichier de liste de lecture multimédia</td>
          <td>Fichier d'index qui fournit une liste ordonnée des URL des fichiers de segment de média. Parfois également appelé fichier manifeste.</td>
        </tr>
        <tr>
          <td>URL de la playlist principale</td>
          <td>Emplacement du fichier de liste de lecture à utiliser dans les calculs.</td>
        </tr>
        <tr>
          <td>URL relatives</td>
          <td>Les chemins d'accès du fichier de lecture peuvent utiliser des URL par rapport à la liste de lecture, ce qui permet d'économiser un espace important dans le fichier - généralement supérieur à 50 %.</td>
        </tr>
        <tr>
          <td>Fenêtre dynamique</td>
          <td>Durée pendant laquelle un spectateur peut revenir en arrière dans le temps dans le flux en direct pour visionner la vidéo. Sous le capot, cela se traduit par le nombre de segments qui doivent être conservés dans le fichier de liste de lecture. Ainsi, plus la fenêtre en direct est longue, plus le fichier de playlist est grand.</td>
        </tr>
        <tr>
          <td>Durée du segment</td>
          <td>Durée de chaque segment. Comme la taille du segment diminue la taille manifeste augmente. Les principaux inconvénients d'une taille de segment plus grande sont la moins adaptabilité aux changements de bande passante et une latence en direct plus longue.</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="How_HLS_Live_works" class="bcls-section">
    <h2>Fonctionnement de HLS Live</h2>
    <p>Dans un flux en direct, le lecteur télécharge la liste de lecture multimédia à plusieurs reprises à un intervalle défini. Cet intervalle est une durée égale à la <strong>Durée cible</strong> de la liste de lecture multimédia.</p>
    <p>Par exemple, compte tenu d'un manifeste de 100 Ko avec une durée cible de 10 secondes, le calcul suivant détermine la bande passante utilisée uniquement pour télécharger la liste de lecture multimédia :</p>
    <ul>
      <li>100 Ko / 10 secondes * 8 bits par octet = <strong>80 kbit / s</strong> de bande passante téléchargeant la liste de lecture multimédia pour continuer la lecture vidéo</li>
    </ul>
    <p>Réalisez que cette bande passante compte comme une surcharge qui enlève la bande passante disponible pour le média réel.</p>
  </section>
  <section id="Calculator" class="bcls-section">
    <h2>Calculatrice</h2>
    <p>À l'aide de la calculatrice ci-dessous, vous pouvez manipuler certaines valeurs de configuration de flux en direct et voir les résultats de ces modifications sur <strong>Nombre de segments</strong> , <strong>Taille estimée du manifeste</strong> et <strong>Surcharge estimée de la bande passante</strong>. Il est difficile de fournir des numéros de bonnes pratiques pour ces résultats, car vous seul connaissez la bande passante disponible pour vos clients cibles. Mais réalisez que cela n'a aucun sens de fournir un rendu minimum qui est de 300kbps et d'avoir un manifeste qui est si grand qu'il faut 1 mbps pour récupérer. Les conséquences d'une trop grande bande passante peuvent être que la vidéo puisse être lue, mais ensuite se bloque, ou le lecteur peut tomber hors de la fenêtre en direct s'il ne peut pas suivre les mises à jour du manifeste. Fondamentalement, toute la bande passante disponible sera utilisée pour télécharger les mises à jour du manifeste et aucun segment vidéo réel ne sera en mesure de télécharger.</p>
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <td>URI Master Playlist</td>
          <td><input type="text" id="manifestUri" value="https://examplethingy-i.akamaihd.net/hls/live/999999/exampleustestthingy/master.m3u8" size="100" /></td>
        </tr>
        <tr>
          <td>Utilise les URI relatifs</td>
          <td><input type="checkbox" id="relativeUri" /></td>
        </tr>
        <tr>
          <td>Taille de la fenêtre dynamique</td>
          <td><input style="display:inline-block;margin-right:10px;max-width:10%" type="number" id="liveWindowSize" value="5" />
            <select style="display:inline-block;max-width:20%" name="scale" id="liveWindowScale">
              <option value="1">Secondes</option>
              <option value="3600">Heures</option>
              <option value="86400" selected="selected">Jours</option>
              <option value="31557600">Années</option>
            </select></td>
        </tr>
        <tr>
          <td>Durée moyenne du segment<br />
            (en secondes)</td>
          <td><input style="max-width: 10%" type="number" id="segmentDuration" value="9" /></td>
        </tr>
      </tbody>
    </table>
    <div>Nombre de segments :</div>
    <div>Taille estimée du manifeste :</div>
    <div>Bande passante estimée :</div>
  </section>
  <script>
          laisser bande passanteScaleTable = [ 'bps', 'kbps', 'mbps', 'gbps', 'tbps', 'pbps', 'ebps'  ; let sizeScaleTable = [ 'B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB'  ; laissez AbsoluteUriOverhead = 54; laissez relativeUriOverhead = 55; laissez hlsHeaderOverhead = 120; // Les balises EXT-X-* au début d'une liste de lecture multimédia let hlsSegmentOverhead = 10; // La fonction de balise EXT-INF foo() { let manifestUri = document.querySelector('#manifestUri').value; let rootManifest = manifestUri.split('/').slice(0, -1).join('/'); let relativeUri = document.querySelector('#relativeUri').checked; let liveWindowSize = parseFloat(document.querySelector('#liveWindowSize').value); let liveWindowScale = parseFloat(document.querySelector('#liveWindowScale').value); let segmentDuration = parseFloat(document.querySelector('#segmentDuration').value); let liveWindowDuration = liveWindowSize * liveWindowScale; let baseUriLength = relativeUri ? relativeUriOverhead : absoluteUriOverhead + rootManifest.length; let segmentCount = Math.ceil(liveWindowDuration / segmentDuration); let estimate = hlsHeaderOverhead + (baseUriLength + hlsSegmentOverhead) * segmentCount; let bandwidthEstimate = estimate / segmentDuration * 8; //in bits per second let estimateScale = 0; while (estimate &gt; 1024) { estimate /= 1024; estimateScale++; } laissez bande passanteScale = 0; while (bandwidthEstimate &gt; 1024) { bandwidthEstimate /= 1024; bandwidthScale++; } document.querySelector('#manifestSize').innerHTML = estimate.toFixed(2) + sizeScaleTable[estimateScale] ; document.querySelector('#manifestBandwidth').innerHTML = bandwidthEstimate.toFixed(2) + bandwidthScale[bandwidthScale] ; document.querySelector('#segmentCount').innerHTML = segmentCount; } let elements = document.querySelectorAll('input, select'); for (let i = 0; i &lt; elements.length; i++) elements[i].addEventListener('change', foo); foo();
        </script></article>