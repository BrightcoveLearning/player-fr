---
title: Considérations sur la lecture automatique
parent: Playback
description: In this topic, you will learn about issues surrounding autoplaying a video on page load.
---

<article class="bcls-article">
  <h1>Considérations sur la lecture automatique</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Overview">Présentation</h2>
    <p>L'utilisation de Brightcove Player pour lire automatiquement une vidéo lorsqu'une page se charge n'est pas un problème simple. Cela découle du fait que les fournisseurs de navigateurs répondent aux souhaits des utilisateurs de NE PAS avoir de lecture automatique de vidéos. Ce document décrit en détail l'état actuel de la lecture automatique des vidéos dans divers navigateurs et configurations Brightcove Player qui affectent la lecture automatique.</p>
    <p>Nous avons un ensemble de <a href="http://solutions.brightcove.com/poneill/experiments/autoplay/" rel="nofollow">cas de test disponibles</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="tldr">Ligne de fond</h2>
    <p>Si vous voulez juste nos meilleurs conseils, sans les détails :</p>
    <dl>
      <dt>
        <h3>Lecture automatique sans publicités côté client</h3>
      </dt>
      <dd>
        <p>Ces étapes offriront la meilleure chance de réussir la lecture automatique chez les joueurs sans publicités côté client ou avec SSAI :</p>
        <ul>
          <li>Ensemble <code translate="No">autoplay</code> à <code translate="No">"any"</code></li>
          <li>Définissez <code translate="No">playsinline</code> sur <code translate="No">true</code>(pour iPhone)</li>
        </ul>
      </dd>
      <dt>
        <h3>Lecture automatique avec les annonces côté client</h3>
      </dt>
      <dd>
        <p>Ces étapes offriront la meilleure chance de réussir la lecture automatique chez les joueurs disposant d'annonces côté client (IMA3 ou FreeWheel) :</p>
        <ul>
          <li>Ensemble <code translate="No">autoplay</code> à <code translate="No">true</code></li>
          <li>Définissez <code translate="No">playsinline</code> sur <code translate="No">true</code>(pour iPhone)</li>
          <li>Configurer le plugin publicitaire via la configuration JSON du player, <em>pas</em> par chargement latéral ou groupage personnalisé</li>
        </ul>
      </dd>
    </dl>
  </section>
  <section class="bcls-section">
    <h2 id="Configuring_Autoplay">Configuration de la lecture automatique</h2>
    <p>Le lecteur Brightcove prend en charge cinq valeurs possibles pour la lecture automatique. Dans la spécification HTML5, la lecture automatique est un attribut booléen - il identifie soit sur (<code translate="No">true</code> ) ou désactivé (<code translate="No">false</code>). Dans le Brightcove Player, nous avons trois valeurs spéciales disponibles :</p>
    <ul>
      <li><code translate="No">play</code>: Cela entraînera l'appel du Brightcove Player <code translate="No">play()</code> lorsqu'une source est définie.</li>
      <li><code translate="No">muted</code>: Cela amènera le Brightcove Player à couper le son du lecteur et à appeler <code translate="No">play()</code>.</li>
      <li><code translate="No">any</code>: Cela entraînera l'appel du Brightcove Player <code translate="No">play()</code>. Si cela échoue, le joueur coupe le son et appelle <code translate="No">play()</code> encore.</li>
    </ul>
    <p><em>Ces trois valeurs ne sont pas prises en charge dans les attributs de balise!</em></p>
    <h3>Priorité</h3>
    <p>La liste suivante décrit toutes les façons dont la lecture automatique peut être configurée et comment elles sont classées par ordre de priorité dans le processus d'initialisation de Brightcove Player.</p>
    <ol>
      <li>
        <p><strong>Attribut d'élément vidéo</strong></p>
        <p>Suivant la norme HTML5, cela peut être soit <code translate="No">true</code> (l'attribut existe) ou <code translate="No">false</code> (l'attribut n'existe pas).</p>
        <p>Contrairement aux autres propriétés où les valeurs de param de requête (iframes uniquement dans d'autres cas) gagnent, l'attribut gagne ici car il gagne dans Video.js.</p>
<pre class="line-numbers"><code class="language-html" translate="No">&lt;video-js autoplay controls&gt;&lt;/video-js&gt;</code></pre>
      </li>
      <li><strong>Hash d'URL ou chaîne de requête</strong>
        <p>Contrairement à la plupart des cas, le paramètre de chaîne de requête de lecture automatique ou le paramètre de hachage URL est respecté pour TOUS les types d'embeds pour des raisons de compatibilité ascendante.</p>
        <p><em>Cela devrait être supprimé pour les incorporations dans la page dans une future version majeure.</em></p>
        <p>L'existence du paramètre équivaut à <code translate="No">true</code> , c'est à dire <code translate="No">?autoplay&amp;foo=bar</code> , mais les valeurs de chaîne sont prises en charge, par exemple <code translate="No">?autoplay=muted&amp;foo=bar</code></p>
        <p><em>Vous ne pouvez pas définir la lecture automatique sur <code translate="No">false</code> via requête / paramètre de hachage!</em></p>
      </li>
      <li>
        <p><strong><code translate="No">videojs()</code>/<code translate="No">bc()</code> Options</strong></p>
        <p>L'option de lecture automatique peut être transmise au <code translate="No">bc()</code> fonction.</p>
      </li>
      <li>
        <p><strong>Configuration JSON</strong></p>
        <p>Si la lecture automatique n'est pas disponible dans les options, utilisez n'importe quelle valeur transmise à partir de la configuration JSON du lecteur.</p>
      </li>
      <li>
        <p><strong>Défaut</strong></p>
        <p>Enfin, si aucune des conditions ci-dessus ne s'applique, nous utilisons par défaut <code translate="No">false</code>.</p>
      </li>
    </ol>
    </section>
    <section class="bcls-section">
      <h2 id="Browser_Settings_and_Policies">Paramètres et stratégies du navigateur</h2>
      <p>Les navigateurs sont devenus plus cohérents ces dernières années, mais les sections suivantes résument les paramètres et/ou politiques disponibles de chaque navigateur majeur.</p>
      <h3>Safari (macOS)</h3>
      <p>Safari sur macOS a les paramètres suivants :</p>
      <ul>
        <li>Autoriser tous les jeux automatiques</li>
        <li>Arrêter les médias avec le son <em>(valeur par défaut)</em></li>
        <li>Ne jamais jouer automatiquement</li>
      </ul>
      <p>En outre, ces paramètres peuvent être modifiés sur une base par site.</p>
      <h3>Safari (iOS et iPadOS)</h3>
      <p>Safari sur iOS et iPadOS n'a pas de paramètres de lecture automatique face à l'utilisateur, mais implémente les stratégies suivantes :</p>
      <ul>
        <li>La lecture automatique en sourdine fonctionnera toujours</li>
        <li>La lecture automatique avec son nécessite un geste de l'utilisateur</li>
        <li>Sur iPhone, le <code translate="No">playsinline</code> l'attribut est obligatoire dans tous les cas.</li>
      </ul>
      <p>Lis <a href="https://webkit.org/blog/6784/new-video-policies-for-ios/" rel="nofollow">cet article de blog WebKit</a> pour plus de détails.</p>
      <h3>Chrome</h3>
      <p>Chrome ne dispose pas de paramètres de lecture automatique orientés vers l'utilisateur, mais implémente les stratégies suivantes :</p>
      <ul>
        <li>La lecture automatique en sourdine devrait toujours fonctionner - mais c'est <strong>toujours</strong> jusqu'au navigateur ; nous avons rencontré quelques cas limites où ce n'est pas le cas, mais nous n'avons aucun contrôle sur eux.</li>
        <li>La lecture automatique avec son nécessite un geste de l'utilisateur ou un MEI suffisamment élevé (sur le bureau).</li>
      </ul>
      <p>Lis <a href="https://developers.google.com/web/updates/2017/09/autoplay-policy-changes" rel="nofollow">cet article de blog Chrome</a> pour plus de détails.</p>
      <h3>Firefox</h3>
      <p>Firefox a ces paramètres à la fois globalement et par site Web :</p>
      <ul>
        <li>Autoriser l'audio et la vidéo</li>
        <li>Bloquer le son <em>(valeur par défaut)</em></li>
        <li>Bloquer l'audio et la vidéo</li>
      </ul>
      <h3>Edge</h3>
      <p>Par défaut, Edge dispose des paramètres suivants :</p>
      <ul>
        <li>Autoriser <em>(valeur par défaut)</em></li>
        <li>Limite</li>
      </ul>
      <p>Cependant, en allant à <code class="language-http" translate="No">edge://flags/#edge-autoplay-user-setting-block-option</code> , l'option Bloquer la lecture automatique qui était disponible dans Edge (hérité) peut être restaurée.</p>
      <h3>Edge (hérité)</h3>
      <p>Edge (Legacy) avait les paramètres suivants :</p>
      <ul>
        <li>Autoriser</li>
        <li>Limite</li>
        <li>Bloc</li>
      </ul>
      <p>L'option Limiter est similaire aux autres navigateurs en ce sens qu'elle nécessite une lecture automatique sourde ou un geste de l'utilisateur.</p>
    </section>
    <section class="bcls-section">
      <h2 id="Known_issues">Problèmes connus</h2>
      <h3>Sources en page et lecture automatique programmatique</h3>
      <p>Il existe un problème connu lors de l'utilisation de sources sur la page (par exemple via un <code translate="No">&lt;source&gt;</code> élément) et appelant <code translate="No">play()</code> ou en utilisant des valeurs de lecture automatique basées sur des chaînes - <code translate="No">"play"</code> , <code translate="No">"muted"</code> , et <code translate="No">"any"</code>.</p>
      <p>Cela a été vu dans Firefox, mais il peut être présent dans d'autres navigateurs.</p>
      <p><em>Ce n'est pas un cas d'utilisation courant pour les clients Brightcove. Étant donné que les sources Video Cloud sont chargées après la création du lecteur, ce problème ne se produit pas.</em></p>
      <p>Au lieu de cela, vous devez attendre le <code translate="No">canplay</code> événement à déclencher avant d'appeler <code translate="No">play()</code>. Vous pouvez également configurer <code translate="No">autoplay: true</code> fonctionnera comme prévu, selon les paramètres / préférences de l'utilisateur.</p>
      <h3>IMA3/Roue libre</h3>
      <h4>Valeurs de chaîne de lecture automatique</h4>
      <p>Les valeurs spéciales de lecture automatique basées sur des chaînes - <code translate="No">"play"</code> , <code translate="No">"muted"</code> , et <code translate="No">"any"</code> - sont <strong>pas actuellement pris en charge</strong> en conjonction avec les plugins IMA3 et FreeWheel.</p>
      <p>Cependant, ces plugins ont leur propre gestion de la lecture automatique en place et, lorsque <code translate="No">autoplay: true</code> est configuré, ils se comporteront comme si <code translate="No">autoplay: "any"</code> ont été configurés.</p>
      <h4>Prérols manquants ou défectueux</h4>
      <p>Si vous essayez d'appeler <code translate="No">play()</code> avec ces plugins, il y a des cas où la lecture automatique échoue et, lorsque le bouton de lecture est cliqué, aucun preroll ne sera lu.</p>
      <p>Avec FreeWheel, il y a également eu des rapports de lecture de prerolls <em>derrière</em> le gros bouton de lecture.</p>
      <h4>Recommandation</h4>
      <p>Lors de l'utilisation de ces plugins, la méthode recommandée pour activer la lecture automatique est la suivante :</p>
      <ul>
        <li>Regroupez le plugin dans votre lecteur (par exemple via Studio). <em>Le chargement latéral (en page) n'est pas recommandé</em>.</li>
        <li>N'essayez pas d'utiliser les valeurs de lecture automatique spéciales. Définir la lecture automatique sur <code translate="No">true</code> et autorisez le plugin publicitaire à tenter la lecture comme il le peut.</li>
      </ul>
    </section>
  <!-- <section class="bcls-section">
    <h2 id="Configure_autoplay">Configure autoplay</h2>
    <p>When you want Brightcove Player to try to autoplay a video you need to set that in the player's configuration. You can do this either with Studio or the <a href="https://apis.support.brightcove.com/player-management/">Player Management API</a>.</p>
    
    <p>In Studio, edit the desired player then in the <strong>Playback</strong> section set the value:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Set autoplay in Studio" src="//learning-services-media.brightcove.com/doc-assets/player-development/playback/autoplay/studio-setting.png" /></figure>
    <p>The meaning of each setting is as follows:</p>
    <ol>
      <li>Do Not Auto-Play: Will not try to autoplay</li>
      <li>Auto-Play: Will try to autoplay, but video won't play at all if browser denies it because of audio</li>
      <li>Auto-Play Muted: Will mute audio unconditionally so video will play</li>
      <li>Auto-Play, muted if blocked: Will try to autoplay with audio, but if blocked will autoplay muted</li>
    </ol>
    <p>Note that if you have the <strong>Play Muted</strong> checkbox checked (resides just below the dropdown), then then 2, 3 and 4 all effectively behave as 3.</p>
    <aside class="bcls-aside bcls-aside--warning">Warning: Using the <code translate="No">autoplay </code> attribute in the <code translate="No">&lt;video&gt; </code> tag or the query parameter in the iframe is NOT the same as configuring the player to use autoplay. Consistent behavior cannot be guaranteed if the attribute/query parameter is used.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Programmatic_autoplay_using_the_play()_method">Programmatic autoplay using the <span translate="No">play()</span> method</h2>
    <p>For whatever reason, you may not be able to configure the player to use autoplay as discussed in the previous section of this document. In this case you can use the <code translate="No">play()</code> method to start the video on page load. Be aware, this approach is still governed by all the browser/platform rules mentioned earlier.</p>
    <p>Remember that you must wait for the media to be loaded into the player before using the <code translate="No">play() </code> method. Waiting for the <code translate="No">loadedmetadata </code> event will do the trick:</p>
    <pre class="line-numbers">
  <code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
    var myPlayer = videojs.getPlayer('myPlayerId');
    myPlayer.on('loadedmetadata',function() {
      myPlayer.play();
    });
  &lt;/script&gt;
  </code>
  </pre>
    <p>Using the <code translate="No">play() </code> method does NOT override browser/OS restrictions on autoplay.</p>
    <p>For a sample which will always autoplay a video, but displays a large unmute button over the player if needed, see the <a href="/code-samples/brightcove-player-sample-autoplay-unmute-button.html">Brightcove Player Sample: Autoplay with Unmute Button for iOS/Safari/Chrome</a> document.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Programmatic_autoplay_detection">Programmatic autoplay detection</h2>
    <p>You can programmatically detect if autoplay succeeded by listening for a JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> returned by the player's <code translate="No">play() </code> method. Brightcove Player's <code translate="No">play() </code> method returns a Promise object that indicates whether autoplay succeeded. Following are two console screenshots showing the Promise object when autoplay succeeded (Promise resolved) or autoplay failed (Promise rejected).</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="promise resolved" src="//learning-services-media.brightcove.com/doc-assets/player-development/playback/autoplay/promise-resolved.png" />
      <figcaption class="bcls-caption--image">Autoplay succeeded</figcaption>
    </figure>
    <figure class="bcls-figure"><img class="bcls-image" alt="promise rejected" src="//learning-services-media.brightcove.com/doc-assets/player-development/playback/autoplay/promise-rejected.png" />
      <figcaption class="bcls-caption--image">Autoplay failed</figcaption>
    </figure>
    <p>As per standard JavaScript handling of a Promise, here is a code snippet using the <code translate="No">play()</code>'s Promise. See the next section in this document for a specific use case that plays with audio of the video autoplays, or plays without audio if the video does not autoplay.</p>
    <pre class="line-numbers">
  <code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer('myPlayerID');
  myPlayer.on('loadedmetadata',function() {
    var promise = myPlayer.play();
    if (promise !== undefined) {
      promise.then(function() {
        // Autoplay started!
      }).catch(function(error) {
        // Autoplay was prevented.
      });
    }
  });
  </code>
  </pre>
    <p>You can use this snippet to implement your use case rules.</p>
    <aside class="bcls-aside bcls-aside--warning">Note that with live content the <code translate="No">loadedmetadata </code> event is fired after the <code translate="No">play </code> event, except in Safari where the behavior is as shown above. When using live content with Chrome, for example, you would need to listen for the <code translate="No">durationchange </code> instead of <code translate="No">loadedmetadata </code>. The following code can be used for either VOD or live:
      <pre class="line-numbers">
    <code class="language-javascript" translate="No">var autoPlayEvents = ['loadedmetadata', 'durationchange'];
    myPlayer.on(autoPlayEvents, autoplayableListener);
  
    function autoplayableListener(event) {
      console.log(event.type);
      // for live videos we want to listen for durationchange
      if (event.type === 'durationchange' &amp;&amp; myPlayer.duration() === Infinity) {
        attemptAutoplay();
        myPlayer.off(autoPlayEvents, autoplayableListener);
      }
      if (event.type === 'loadedmetadata') {
        attemptAutoplay();
        myPlayer.off(autoPlayEvents, autoplayableListener);
      }
    }
  
    function attemptAutoplay() {
      var promise = myPlayer.play();
      if (promise !== undefined) {
        promise.then(function () {
          // Autoplay started!
        }).
        catch (function (error) {
          // Autoplay was prevented.
        });
      }
    }</code></pre>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="Specific_use_case">Specific use case</h2>
    <p>In the section above, the skeleton code was explained on how to programmatically detect autoplay. In this section more detailed code will be used for a common use case. That use case is:</p>
    <ul>
      <li>If the video autoplays, set the volume level then play the video.</li>
      <li>If the video does not play, mute the player (so it can play), then play the video.</li>
    </ul>
    <p>The following code implements the specific use case described:</p>
    <pre class="line-numbers">
  <code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer("myPlayerID"),
    volumeLevel = 0.7;
  
  //  Wait for loadedmetadata then try to play video
  myPlayer.on("loadedmetadata", function() {
    // Play video which returns a promise
    var promise = myPlayer.play();
  
    //  Use promise to see if video is playing or not
    if (promise !== undefined) {
      promise
        .then(function() {
          // Autoplay started!
          // If video playing unmute and set the volume
          myPlayer.muted(false);
          myPlayer.volume(volumeLevel);
        })
        .catch(function(error) {
          // Autoplay was prevented.
          // If autoplay prevented mute the video, play video and display unmute button
          myPlayer.muted(true);
          myPlayer.play();
        });
    }
  });</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Known_issues">Known issues</h2>
    <ul>
      <li>When using Chrome on Android, and using <a href="https://support.google.com/chrome/answer/2392284?co=GENIE.Platform%3DAndroid&amp;hl=en-GB">Chrome’s Data Saver</a>, autoplay will not function correctly.</li>
    </ul>
  </section> -->
</article>