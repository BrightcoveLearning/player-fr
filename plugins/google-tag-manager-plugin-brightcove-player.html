---
title: 'Plugin Google Tag Manager pour Brightcove Player'
description: "Dans cette rubrique, vous apprendrez à utiliser le plug-in Google Tag Manager (GTM) pour Brightcove Player."
parent: Plugins
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">Présentation</h2>

    <p>
      Le plugin Google Tag Manager (GTM) vous permet d'intégrer la fonctionnalité GTM avec Brightcove Player.
    </p>

    <p>
      Les gestionnaires de balises vous permettent d'ajouter et de publier des balises sans avoir à utiliser de code. Parce qu'il s'agit d'une solution côté client, les gestionnaires de balises vous permettent de collecter des données sur différentes technologies marketing. Cela permet aux spécialistes du marketing en leur donnant la possibilité de collecter des données utilisateur et joueur sur un ensemble diversifié de points de collecte.
    </p>

    <p>
      Si vous utilisez déjà Google Analytics, Adwords et DoubleClick, vous pouvez également utiliser Google Tag Manager, car il s'intègre bien à ces outils. GTM propose un grand nombre d'options de variables et de déclencheurs.
    </p>
    <p>
      Le plug-in Google Tag Manager vous permet de suivre les événements Brightcove Player à l'aide du tableau de bord Google Analytics. Les événements de joueur suivants peuvent être suivis : 
    </p>
    <ul>
      <li>
        Chargement du lecteur
      </li>
      <li>
        Affichages de la vidéo
      </li>
      <li>
        Vue vidéo
      </li>
      <li>
        Engagement vidéo
      </li>
      <li>
        Demande de lecture
      </li>
      <li>
        Vidéo terminée
      </li>
      <li>
        Événements de lecteur avancés tels que le début de la publicité, la fin de la publicité
      </li>
      <li>
        Erreurs qui perturbent l'expérience de lecture
      </li>
    </ul>

    <aside class="bcls-aside bcls-aside--tip"> Le plug-in Google Tag Manager est pris en charge avec la version 6.36.5+ de Brightcove Player. </aside>
  </section>

  <section class="bcls-section">
    <h2 id="Tag_management_terminology">Terminologie de gestion des balises</h2>

    <p>
      Voici quelques-uns des termes courants que vous rencontrerez lors de l'utilisation de Google Tag Manager (GTM).
    </p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:15%">Terme</th>
          <th style="width:85%">Description</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><strong>Conteneur</strong></td>
          <td>
            Votre compte de système de gestion des balises peut comporter plusieurs conteneurs (profils), avec ses propres balises et variables. Chaque conteneur peut avoir plusieurs environnements, généralement configurés pour le développement, la préparation et la production.
          </td>
        </tr>
        <tr>
          <td><strong>Couche de données</strong></td>
          <td>
            La couche de données fait référence à la collecte de données qui vivent dans le code de votre page Web. Cet objet JavaScript est utilisé pour transmettre des informations de votre site Web vers votre conteneur de gestionnaire de balises. Vous pouvez ensuite utiliser ces informations pour renseigner des variables et activer des déclencheurs dans vos configurations de balises.
          </td>
        </tr>
        <tr>
          <td><strong>Événement</strong></td>
          <td>
            Les événements sont des points de données utilisés pour envoyer des données à votre outil de création de rapports. Celles-ci sont liées au chargement et à la lecture vidéo.
          </td>
        </tr>
        <tr>
          <td><strong>Tag</strong></td>
          <td>
            Les balises sont des extraits de code placés sur votre page Web pour collecter les données d'interaction des utilisateurs. Les systèmes de gestion des balises simplifient le processus d'ajout de balises à votre site, ce qui nécessite que vous ne fournissiez que l'identifiant de balise et le type d'événement de balise.
          </td>
        </tr>
        <tr>
          <td><strong>Marketplace Tag</strong></td>
          <td>
            Les modèles Marketplace de balises fournissent des extraits de code pour le déploiement d'une balise. Bien que cela réduit la quantité de connaissances nécessaires au code, une certaine familiarité avec JavaScript et HTML est nécessaire pour une mise en œuvre réussie.
          </td>
        </tr>
        <tr>
          <td><strong>Tracker</strong></td>
          <td>
            Les trackers sont des objets qui collectent, stockent des données et envoient ces données à Google Tag Manager.
          </td>
        </tr>
        <tr>
          <td><strong>Déclencheur</strong></td>
          <td>
            Les déclencheurs indiquent quand le code de balise doit être ajouté à une page. Il s'agit de conditions définies par l'utilisateur.
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="Getting_started">Premiers pas</h2>
    <p>
      Pour configurer Google Tag Manager, procédez comme suit:
    </p>
    <!-- <ul>
      <li>Define tag configurations for Google Analytics</li>
      <li>Define triggers to fire beacons</li>
      <li>
        <p>Create variables for events and custom dimensions</p>

        <aside class="bcls-aside bcls-aside--information">
          Make sure that each dimension's name and index number from Google Tag
          Manager matches the player's plugin JSON file.
        </aside>
      </li>
    </ul> -->

    <h3>Étapes</h3>
    <ol class="bcls-tasklist">
      <li>
        Consultez la documentation de Google pour <a href="https://support.google.com/tagmanager/answer/6103696?hl=en">Configurer et installer Tag Manager</a>.
      </li>
      <li>
        <p>
         Dans <a href="https://tagmanager.google.com/#/home">Gestionnaire de balises</a> , créez un compte ou utilisez un compte existant. Pour créer un nouveau compte, sélectionnez le <strong>Créer un compte</strong> bouton.
        </p>
        <p>
          Par défaut, un nouveau conteneur est créé pour un nouveau compte. Vous pouvez créer des conteneurs supplémentaires dans chaque compte.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Create account"
            src="/assets/images/plugins/google-tag-manager/create-account.png"
          />
          <figcaption class="bcls-caption--image">Créer un compte</figcaption>
        </figure>
      </li>
      <li>
        <p>
         Entrez les valeurs de la page de votre nouveau compte, y compris le nom du compte et le nom du conteneur. Sélectionnez une plateforme cible.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="New account information"
            src="/assets/images/plugins/google-tag-manager/new-account.png"
          />
          <figcaption class="bcls-caption--image">Informations sur le nouveau compte</figcaption>
        </figure>
      </li>
      <li>
        Cliquez sur le bouton <strong>Créer</strong> .
      </li>
      <!-- <li>
        Copy your Google Analytics account id for later use.
      </li>
      <li>
        Copy your Google Tag Manager tracking id for later use. This should be formatted as <code translate="No">GTM-XXXXXX</code>.
      </li> -->
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Reviewing_events_to_track">Examen des événements à suivre</h2>

    <p>Consultez le tableau ci-dessous et déterminez les événements que vous souhaitez suivre.</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:15%">Type</th>
          <th style="width:20%">Événement</th>
          <th style="width:65%">Description</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Chargement du lecteur</td>
          <td><code translate="No">bcvideo_player_load</code></td>
          <td>
            Le lecteur a été chargé et est prêt pour la lecture
          </td>
        </tr>
        <tr>
          <td>Video Impression</td>
          <td><code translate="No">bcvideo_video_impression</code></td>
          <td>
            La vidéo a été chargée dans un lecteur et est prête pour la lecture
          </td>
        </tr>
        <tr>
          <td>Vue vidéo</td>
          <td><code translate="No">bcvideo_video_view</code></td>
          <td>
            La lecture de la vidéo a commencé via la lecture automatique ou en raison de l'interaction de l'utilisateur
          </td>
        </tr>
        <tr>
          <td>Engagement vidéo</td>
          <td><code translate="No">bcvideo_video_engagement</code></td>
          <td>
            Un utilisateur a regardé une plage de secondes de la chronologie d'une vidéo. Cet événement est un battement de cœur pour le suivi de l'engagement vidéo et sera probablement envoyé plusieurs fois pendant la lecture, en fonction de l'interaction de l'utilisateur et de la durée de la vidéo.
          </td>
        </tr>
        <tr>
          <td>Demande de lecture</td>
          <td><code translate="No">bcvideo_play_request</code></td>
          <td>
            La lecture est lancée soit par l'utilisateur cliquant expressément sur le bouton de lecture, soit automatiquement lorsque la plate-forme déclenche la lecture dans un scénario de lecture automatique
          </td>
        </tr>
        <tr>
          <td>Début publicitaire</td>
          <td><code translate="No">bcvideo_ad_start</code></td>
          <td>
            Le contrôle est transféré à un agent publicitaire par la plateforme de lecture
          </td>
        </tr>
        <tr>
          <td>Fin d'annonce</td>
          <td><code translate="No">bcvideo_ad_end</code></td>
          <td>
            Le contrôle est transféré de l'agent publicitaire à la plate-forme de lecture
          </td>
        </tr>
        <tr>
          <td>Erreur</td>
          <td><code translate="No">bcvideo_error</code></td>
          <td>
            Une erreur fatale s'est produite qui perturbe l'expérience de lecture
          </td>
        </tr>
        <tr>
          <td>Vidéo terminée</td>
          <td><code translate="No">bcvideo_video_complete</code></td>
          <td>
            La lecture vidéo se termine
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="Creating_variables_tags_&_triggers">Création de variables, balises et déclencheurs</h2>
    <p>Chaque événement Brightcove que vous souhaitez suivre doit être créé en tant que balise d'événement dans Google Tag Manager (GTM). Les identifiants d'événement de GTM seront ensuite utilisés dans le module Joueurs. Cela permet aux données d'événements Brightcove d'être transmises aux événements GTM.</p>
    <p>Pour chaque balise d'événement, vous devez créer un déclencheur GTM pour envoyer l'événement à Google Analytics. Puis, dans le GTM <strong>Variables</strong> onglet, vous créerez les paramètres personnalisés associés à chaque événement.</p>
    
    <!-- <p>You can create Variables, Tags and Triggers in Google Tag Manager, as shown below, or you can <a href="#Importing_a_container_file_in_GTM">import a Container file in GTM</a>. </p> -->
    
    <h3>Ajout de variables à GTM</h3>
    <p>Les paramètres Brightcove transportent des données supplémentaires et sont transmis avec les événements. Chaque paramètre Brightcove qui sera enregistré doit être créé en tant que variable dans Google Tag Manager. Le nom du paramètre sera utilisé dans le lecteur, permettant aux paramètres Brightcove d'être transmis aux variables Google Tag Manager.</p>

    <p>
      Pour créer des variables dans Google Tag Manager, procédez comme suit
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
         Connectez-vous à votre compte Google Tag Manager
        </p>
      </li>
      <li>
        Sélectionner <strong>Variables</strong> dans la navigation de gauche. 
      </li>
      <li>
        <p>Dans le <strong>Variables définies par l'utilisateur</strong> section, sélectionnez la <strong>Nouveau</strong> bouton.</p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Data Layer Variable"
            src="/assets/images/plugins/google-tag-manager/new-variable.png"
          />
          <figcaption class="bcls-caption--image">Variable de couche de données</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Pour <strong>type de variable</strong> , sélectionnez <strong>Variable de couche de données</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Data Layer Variable"
            src="/assets/images/plugins/google-tag-manager/variable-type.png"
          />
          <figcaption class="bcls-caption--image">Variable de couche de données</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Entrez les détails:
        </p>
        <ul>
          <li>
            <strong>Nom de la variable de la couche de données</strong> - Nom de la variable
          </li>
          <li>
            <strong>Version de la couche de données</strong> - Version 2
          </li>
        </ul>   
      </li>
      <li>
        <p>
          Sélectionnez <strong>Enregistrer</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Save variable"
            src="/assets/images/plugins/google-tag-manager/save-variable.png"
          />
          <figcaption class="bcls-caption--image">Enregistrer la variable</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Paramètres Brightcove que vous pouvez créer en tant que variables GTM:
        </p>
        <ul>
          <li>
            <strong>Compte</strong> - Nom du compte Brightcove
          </li>
          <li>
            <strong>Joueur</strong> - ID du joueur
          </li>
          <li>
            <strong>Nom de joueur</strong> - Nom de joueur
          </li>
          <li>
            <strong>Version de la plateforme</strong> - Numéro de version de la plate-forme
          </li>
          <li>
            <strong>Session</strong> - Identifiant de session
          </li>
          <li>
            <strong>Vidéo</strong> - ID vidéo
          </li>
          <li>
            <strong>Nom de la vidéo</strong> - Nom de la vidéo
          </li>
          <li>
            <strong>Intervalle</strong> - La plage de secondes affichée au format StartSecond..EndSecond
          </li>
          <li>
            <strong>Secondes vidéo visionnées</strong> - Nombre de secondes regardées
          </li>
          <li>
            <strong>Durée de la vidéo</strong> - La durée de la vidéo en secondes
          </li>
          <li>
            <strong>Pourcentage de la vidéo visionnée</strong> - Pourcentage de vidéo regardée
          </li>
          <li>
            <strong>Code d'erreur</strong> - Code d'erreur spécifique à la plateforme associé à l'événement
          </li>
          <li>
            <strong>Jalon vidéo</strong> - Jalon (25%, 50%, 75%, 100%) complété par la vidéo
          </li>
          <li>
            <strong>Tête de lecture vidéo</strong> - L'heure de la vidéo à laquelle l'événement est déclenché
          </li>
          <li>
            <strong>Pays</strong> - Code pays ISO-3166 (alpha 2), par exemple : États-Unis
          </li>
          <li>
            <strong>Nom du pays</strong> - Nom de pays lisible par l'homme, par exemple : États-Unis
          </li>
          <li>
            <strong>Région</strong> - Code de région ISO-3166 (alpha 2)
          </li>
          <li>
            <strong>Nom de la région</strong> - Nom de région lisible par l'homme
          </li>
          <li>
            <strong>Ville</strong> - Nom de Ville
          </li>
          <li>
            <strong>Navigateur</strong> - Nom complet et version du navigateur utilisé
          </li>
          <li>
            <strong>Type de navigateur</strong> - Nom commun du navigateur utilisé (c'est-à-dire Chrome, Edge, Firefox)
          </li>
          <li>
            <strong>Destination</strong> - URI à l'origine de l'événement
          </li>
          <li>
            <strong>La source</strong> - URI qui a envoyé l'utilisateur final à destination
          </li>
          <li>
            <strong>Type d'appareil</strong> - Remplacer pour spécifier le système d'exploitation de l'appareil à l'origine de l'événement dans les cas où l'agent utilisateur n'est pas fiable
          </li>
          <li>
            <strong>Système d'exploitation de l'appareil</strong> - Le nom du système d'exploitation utilisé par l'appareil
          </li>
          <li>
            <strong>Version du système d'exploitation de l'appareil</strong> - La version du système d'exploitation utilisée par l'appareil
          </li>
        </ul>   
      </li>
      <li>
        <p>
          Vos variables définies par l'utilisateur doivent ressembler à ceci dans GTM:
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="User-defined variables"
            src="/assets/images/plugins/google-tag-manager/user-defined-vars.png"
          />
          <figcaption class="bcls-caption--image">Variables définies par l'utilisateur</figcaption>
        </figure>
      </li>
    </ol>

    <h3>Ajout de balises à GTM</h3>
    <p>Une fois que vous avez déterminé les événements que vous souhaitez suivre, les balises doivent être créées dans Google Tag Manager.</p>

    <p>
      Pour créer des balises dans Google Tag Manager, procédez comme suit
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
         Connectez-vous à votre compte Google Tag Manager
        </p>
      </li>
      <li>
        Sélectionner <strong>Mots clés</strong> dans la navigation de gauche et sélectionnez le <strong>Nouveau</strong> bouton. 
      </li>
      <li>
        <p>
          Sélectionnez le <strong>Type d'étiquette</strong> comme <strong>Google Analytics: Analyse universelle</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Tag configuration"
            src="/assets/images/plugins/google-tag-manager/tag-configuration.png"
          />
          <figcaption class="bcls-caption--image">Configuration des balises</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Entrez les détails de la balise:
        </p>
        <ul>
          <li>
            <strong>Type de piste</strong> - Mis à <strong>un événement</strong>
          </li>
          <li>
            <strong>Catégorie</strong> - Variable de catégorie d'événement
          </li>
          <li>
            <strong>action</strong> - Variable d'action d'événement
          </li>
          <li>
            <strong>Étiquette</strong> - Variable d'étiquette d'événement
          </li>
          <li>
            <strong>Valeur</strong> - Néant
          </li>
          <li>
            <strong>Aucun hit d'interaction</strong> - Mis à <strong>Vrai</strong>
          </li>
          <li>
            <strong>Paramètres Google Analytics</strong> - Paramètres par défaut
          </li>
          <li>
            <strong>ID de suivi</strong> - ID de suivi du tableau de bord GA. Sélectionnez Variable d'ID de suivi.
          </li>
        </ul>   
      </li>
      <li>
        <p>
          Accédez aux paramètres avancés et définissez les indices de dimension personnalisée et les valeurs de dimension associés. Ces indices doivent correspondre à ceux de Google Analytics.
        </p>
      </li>
      <li>
        <p>
          Vos balises doivent ressembler à ceci dans GTM:
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Tags in GTM"
            src="/assets/images/plugins/google-tag-manager/tags-in-gtm.png"
          />
          <figcaption class="bcls-caption--image">Tags dans GTM</figcaption>
        </figure>
      </li>
    </ol>

    <h3>Ajout de déclencheurs à GTM</h3>
    <p>Pour chaque événement que vous souhaitez suivre, vous avez également besoin d'un déclencheur dans Google Tag Manager.</p>

    <p>
      Pour créer des déclencheurs dans Google Tag Manager, procédez comme suit
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
         Connectez-vous à votre compte Google Tag Manager
        </p>
      </li>
      <li>
        Sélectionner <strong>Déclencheurs</strong> dans la navigation de gauche et sélectionnez le <strong>Nouveau</strong> bouton. 
      </li>
      <li>
        <p>
          Sélectionnez le <strong>Type de déclencheur</strong> comme <strong>Événement personnalisé</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Trigger configuration"
            src="/assets/images/plugins/google-tag-manager/trigger-configuration.png"
          />
          <figcaption class="bcls-caption--image">Configuration du déclencheur</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Entrez le nom de l'événement.
        </p>
      </li>
      <li>
        <p>
          Créez un déclencheur pour chaque événement que vous souhaitez suivre.
        </p>
      </li>
      <li>
        <p>
          Vos déclencheurs devraient ressembler à ceci dans GTM:
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Triggers in GTM"
            src="/assets/images/plugins/google-tag-manager/triggers-in-gtm.png"
          />
          <figcaption class="bcls-caption--image">Déclencheurs dans GTM</figcaption>
        </figure>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Integrating_with_Brightcove">Intégration avec Brightcove</h2>
    <p>
      Pour intégrer GTM à Brightcove Player, ajoutez le plugin Google Tag Manager à votre lecteur.
    </p>

    <h3>Utilisation de Studio</h3>

    <p>
      Les étapes suivantes détaillent l'utilisation de Video Cloud Studio pour charger le plugin.
    </p>

    <ol class="bcls-tasklist-restart">
      <li>
        Dans Video Cloud Studio, ouvrez le module <strong>PLAYERS</strong> et créez un nouveau lecteur ou localisez le lecteur auquel vous souhaitez ajouter le plugin.
      </li>
      <li>Sélectionnez le lien pour que le joueur ouvre ses propriétés.</li>
      <li>Sélectionnez <strong>Plugins</strong> dans le menu de navigation de gauche.</li>
      <li>
        <p>
          Ensuite, sélectionnez le <strong>Ajouter un plugin</strong> bouton, puis sélectionnez <strong>Plugin Brightcove</strong>.
        </p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Add a Plugin button"
            src="/assets/images/plugins/google-tag-manager/add-a-plugin.png"
          />
          <figcaption class="bcls-caption--image">
            Ajouter un bouton Plugin
          </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Élargir le <strong>Plug-in Brightcove</strong> déroulant et sélectionnez <strong>Google Tag Manager</strong>.
        </p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Google Tag Manager plugin"
            src="/assets/images/plugins/google-tag-manager/gtm-plugin.png"
          />
          <figcaption class="bcls-caption--image">
            Plug-in Google Tag Manager
          </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Pour indiquer au lecteur quels événements et dimensions personnalisées vous souhaitez suivre, créez un objet JSON à coller dans le <strong>Options (JSON)</strong> zone de texte.
        </p>
        <p>
          Descriptions des champs :
        </p>

        <ul>
          <li><code translate="No">tracker</code>- Votre identifiant de suivi Google Tag Manager (GTM-XXXXXXX)</li>
          <li><code translate="No">eventsToTrack</code>- Les événements que vous souhaitez suivre</li>
          <li>
            <code translate="No">paramsToTrack</code>- Dimensions personnalisées que vous souhaitez suivre
          </li>
        </ul>
        <p>Voici un exemple :</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "tracker":"<span class="bcls-input">your Google Tag Manager id</span>",
	"paramsToTrack": {
    "bcvideo_video_seconds_viewed":"video_seconds_viewed",
    "bcvideo_video_playhead":"video_playhead",
    "bcvideo_account":"account",
    "bcvideo_player":"player",
    "bcvideo_player_name":"player_name",
    "bcvideo_video":"video",
    "bcvideo_video_name":"video_name",
	"bcvideo_session":"session",
    "bcvideo_platform_version":"platform_version",
	"bcvideo_range":"range",
    "bcvideo_video_duration":"video_duration",
    "bcvideo_video_percent_viewed":"video_percent_viewed",
    "bcvideo_error_code":"error_code",
    "bcvideo_video_milestone":"video_milestone",
    "bcvideo_destination":"destination"
  },
  "eventsToTrack": {
    "video_impression": "Video Impression",
	"video_view": "Video View",
	"video_complete": "Video Complete",
    "play_request": "Play Request",
    "video_engagement": "Video Engagement",
    "ad_start": "Ad Start",
    "ad_end": "Ad End",
    "player_load": "Player Load",
    "error": "Error"
  }
}</code></pre>

        <aside class="bcls-aside bcls-aside--tip"> Assurez-vous que vos dimensions personnalisées dans l'objet JSON correspondent au nom et à l'index dans Google Analytics. </aside>
      </li>
      <li>
        <p>
          Sélectionnez le <strong>sauvegarder</strong> bouton. Vous allez maintenant voir le <strong>Google Tag Manager</strong> plugin ajouté à la liste des plugins pour votre lecteur.
        </p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Save button"
            src="/assets/images/plugins/google-tag-manager/gtm-save.png"
          />
          <figcaption class="bcls-caption--image">Bouton Enregistrer</figcaption>
        </figure>
      </li>
      <li>
        Pour publier le lecteur, sélectionnez <strong>Publier et intégrer &gt; Publier les modifications</strong>.
      </li>
      <li>Pour fermer la boîte de dialogue, sélectionnez <strong>Fermer</strong>.</li>
      <li>
        <p>
          Revenir au <strong>MÉDIAS</strong> et publiez votre vidéo ou playlist à l'aide du lecteur que vous venez de mettre à jour pour Google Tag Manager.
        </p>

        <p>
          Lorsque votre joueur se charge et que l'utilisateur interagit avec le joueur, les événements et paramètres spécifiés sont suivis.
        </p>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Creating_custom_dimensions">
      Créer des dimensions personnalisées
    </h2>
    <p>
      Les dimensions personnalisées sont des statistiques que vous créez vous-même dans Google Analytics. Pour plus de détails, voir Google <a href="https://support.google.com/analytics/answer/2709828?hl=en">Dimensions et statistiques personnalisées</a> document.
    </p>
    <p>
      À l'aide de Google Scripts, vous pouvez automatiser le processus d'ajout de dimensions personnalisées dans Google Analytics.
    </p>

    <h3>Étapes</h3>
    <p>Suivez ces étapes pour utiliser un script d'application Google pour créer des dimensions personnalisées:</p>
    <ol class="bcls-tasklist-restart">
      <!-- <li>
    Open the <a href="https://drive.google.com/file/d/1Boxem7n4UNy7IbofMTTw2bmsdviSIvbZ/view">custom app script</a>.
  </li> -->
    <li>
      Connectez-vous à Google.
    </li>
    <li>
      <p>
        Accédez au <a href="https://script.google.com/home/start">Hub des développeurs G Suite</a> et sélectionnez le nouveau projet vierge Apps Script.
      </p>

      <figure class="bcls-figure">
        <img
          class="bcls-image--no-border"
          alt="Apps Script project"
          src="/assets/images/plugins/google-tag-manager/apps-script-project.png"
        />
        <figcaption class="bcls-caption--image">
          Projet Apps Script
        </figcaption>
      </figure>
    </li>
    <li>
      <p>
        Sélectionner <strong>Projet sans titre</strong> et donnez un nom à votre projet.
      </p>

      <figure class="bcls-figure">
        <img
          class="bcls-image--no-border"
          alt="Script editor"
          src="/assets/images/plugins/google-tag-manager/script-editor.png"
        />
        <figcaption class="bcls-caption--image">
          Éditeur de script
        </figcaption>
      </figure>
    </li>
    <li>
      <p>Copiez le code de script d'application personnalisé suivant dans un éditeur et mettez à jour les valeurs suivantes:</p>
      <ul>
        <li>
          <code translate="No">accountId</code>- Votre identifiant de compte Google Analytics
        </li>
        <li>
          <code translate="No">webPropertyId</code>- Votre identifiant de suivi de compte Google
        </li>
        <li>
          <code translate="No">dimensions</code>- Les dimensions personnalisées à ajouter. La liste actuelle contient toutes les dimensions personnalisées. Notez que les dimensions sont préfixées par <code translate="No">bcvideo_</code>. Ceci permet de garantir qu'il n'y a pas de conflits de dénomination avec ces variables.
        </li>
      </ul>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">//Set values for GA Account ID and web property ID to which you have to set custom dimensions.
var accountId='<span class="bcls-input">your account id</span>';
var webPropertyId='<span class="bcls-input">your tracking code</span>';
//Add required custom dimensions to be created to this list
var dimensions=<span class="bcls-highlight">['bcvideo_video_seconds_viewed','bcvideo_video_playhead','bcvideo_account','bcvideo_player','bcvideo_player_name','bcvideo_video','bcvideo_video_name','bcvideo_session','bcvideo_platform_version','bcvideo_range','bcvideo_video_duration',
'bcvideo_video_percent_viewed','bcvideo_error_code','bcvideo_milestone','bcvideo_destination'];</span>


//Function to create custom dimensions in GA
function createGACustomDimensions() {

  //This loop iterates through the custom dimensions in order to set the custom dimension scope, active values into our GA property
  for(var index=0;index&lt;dimensions.length;index++){
  var customDimensions ={
    'name': dimensions[index],
    'scope':'HIT',
    'active':true,
  }

  //This create a request to the new custom dimension
  Analytics.Management.CustomDimensions.insert(customDimensions,accountId,webPropertyId);

  // Pause for 1 second between adding each custom dimension, this ensure that the GA property has time
  // to process the request fully before moving to the next custom dimension.
  Utilities.sleep(1000)
  }
}</code></pre>

        <aside class="bcls-aside bcls-aside--tip"> Dans cet exemple, nous mettons les dimensions dans un objet nommé <code translate="No">customDimensions</code>. Pour les ajouter en tant que variables de couche de données, vous devez référencer chaque nom de variable comme <code translate="No">customDimensions.{dimension}</code> </aside>

        <!-- <aside class="bcls-aside bcls-aside--tip">The script should be configured to access the <a href="https://developers.google.com/analytics/devguides/reporting/core/v4">Google Analytics API</a> from the resource menu.</aside> -->
      </li>
      <li>
        <p>
          Remplace le <code translate="No">function myFunction(){}</code> bloc de code, comme indiqué ci-dessous, avec votre script d'application personnalisé.
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">function myFunction() {

}</code></pre>
      </li>
      <li>
        Enregistrez le projet. Vous devez enregistrer le projet pour pouvoir utiliser l'API Google Analytics.
      </li>
      <li>
        <p>
          Pour activer l'API Google Analytics, dans l'éditeur de script, sélectionnez <strong>Ressources</strong> &gt; <strong>Services Google avancés</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Advanced Google Services"
            src="/assets/images/plugins/google-tag-manager/advanced-services.png"
          />
          <figcaption class="bcls-caption--image">
            Services Google avancés
          </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Ensuite, trouvez <strong>Services Google avancés</strong> et tournez-le <strong>sur</strong>. Sélectionner <strong>D'accord</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Google Analytics API"
            src="/assets/images/plugins/google-tag-manager/enable-gtm2.png"
          />
          <figcaption class="bcls-caption--image">
            API Google Analytics
          </figcaption>
        </figure>
      </li>
      <li>
        <p>Pour exécuter le script de votre application, sélectionnez <strong>Courir</strong> &gt; <strong>Fonction Run</strong> , et choisissez votre script.</p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Run script"
            src="/assets/images/plugins/google-tag-manager/run-script.png"
          />
          <figcaption class="bcls-caption--image">Script de lancement</figcaption>
        </figure>
      </li>
      <li>
        <p>Dans la boîte de dialogue d'autorisation, sélectionnez <strong>Examiner les autorisations</strong>.</p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Authorization dialog"
            src="/assets/images/plugins/google-tag-manager/authorization-dialog.png"
          />
          <figcaption class="bcls-caption--image">Boîte de dialogue d'autorisation</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Sélectionnez le <strong>Autoriser</strong> bouton.
        </p>
         <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Allow permissions"
            src="/assets/images/plugins/google-tag-manager/allow-permissions.png"
          />
          <figcaption class="bcls-caption--image">Autoriser les autorisations</figcaption>
        </figure>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Viewing_custom_dimensions">
      Affichage des dimensions personnalisées
    </h2>
    <p>
      Pour afficher les dimensions personnalisées dans Google Analytics, procédez comme suit:
    </p>

    <ol class="bcls-tasklist-restart">
    <li>
      Connectez-vous à Google Analytics .
    </li>
    <li>
      <p>
       Sélectionner <strong>Administrateur</strong>
      </p>
      <figure class="bcls-figure">
        <img
          class="bcls-image--no-border"
          alt="Analytics admin"
          src="/assets/images/plugins/google-tag-manager/analytics-admin.png"
        />
        <figcaption class="bcls-caption--image">
          Administrateur Analytics
        </figcaption>
      </figure>
    </li>
    <li>
      <p>
       Cliquer sur <strong>Définitions personnalisées</strong> pour le développer, puis sélectionnez <strong>Dimensions personnalisées</strong>.
      </p>
      <figure class="bcls-figure">
        <img
          class="bcls-image--no-border"
          alt="Custom dimensions"
          src="/assets/images/plugins/google-tag-manager/custom-dimensions.png"
        />
        <figcaption class="bcls-caption--image">
          Dimensions personnalisées
        </figcaption>
      </figure>
    </li>
    <li>
      <p>
       Vous devriez voir les dimensions personnalisées avec leurs index associés.
      </p>
      <figure class="bcls-figure">
        <img
          class="bcls-image--no-border"
          alt="Dimensions and indices"
          src="/assets/images/plugins/google-tag-manager/dimensions-indices.png"
        />
        <figcaption class="bcls-caption--image">
          Dimensions et indices
        </figcaption>
      </figure>
    </li>
    
    </ol>
  </section>

  <!-- <section class="bcls-section">
    <h2 id="Importing_a_container_file_in_GTM">Importing a container file</h2>

    <p>
     One way to add Variables, Tags and Triggers to Google Tag Manager is to import a JSON-formatted Container file. For details, see Google's <a href="https://support.google.com/tagmanager/answer/6106997?hl=en">Container export and import</a> document.
    </p>
    <h3>Steps</h3>
    <p>
      Follow these steps to import a Container file:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
         In your JSON-formatted Container file, set the following values:
        </p>
        <ul>
          <li>
            <code translate="No">publicID</code> - Your GTM tracker ID (GTM-XXXXXX)
          </li>
          <li>
             <code translate="No">value</code> - Your GA tracker ID (UA-111111111-1)
          </li>
        </ul>
        <p>
          Snippet1 from an example Container file:
        </p>
        <pre class="line-numbers">
<code class="language-json" translate="No">...
&quot;container&quot;: {
   &quot;path&quot;: &quot;accounts/470123456/containers/13171830&quot;,
    &quot;accountId&quot;: &quot;470123456&quot;,
    &quot;containerId&quot;: &quot;13171830&quot;,
    &quot;name&quot;: &quot;solutions.brightcove.com&quot;,
    &quot;publicId&quot;: &quot;<span class="bcls-input">your GTM tracker ID</span>&quot;,
    &quot;usageContext&quot;: [
        &quot;WEB&quot;
    ],
    &quot;fingerprint&quot;: &quot;1571234567890&quot;,
    ...
</code></pre>
  <p>
      Snippet2 from an example Container file:
    </p>
    <pre class="line-numbers">
<code class="language-json" translate="No">...
{
    &quot;accountId&quot;: &quot;470123456&quot;,
    &quot;containerId&quot;: &quot;13171830&quot;,
    &quot;variableId&quot;: &quot;2&quot;,
    &quot;name&quot;: &quot;Google Analytics Settings&quot;,
    &quot;type&quot;: &quot;gas&quot;,
    &quot;parameter&quot;: [
        {
            &quot;type&quot;: &quot;TEMPLATE&quot;,
            &quot;key&quot;: &quot;trackingId&quot;,
            &quot;value&quot;: &quot;<span class="bcls-input">your GA tracker ID</span>&quot;
        }
    ],
    &quot;fingerprint&quot;: &quot;1573675830590&quot;
}
 ...
</code></pre>
      </li>
      <li>
        Log in to your GTM account.
      </li>
      <li>
        Select the <strong>Admin</strong> tab. 
      </li>
      <li>
        Select <strong>Import Container</strong>
      </li>
      <li>
        <p>
         Select <strong>Choose container file</strong>.
        </p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Import container file"
            src="/assets/images/plugins/google-tag-manager/import-container.png"
          />
          <figcaption class="bcls-caption--image">Import container file</figcaption>
        </figure>
      </li>
      <li>
        Select <strong>Existing</strong> workspace.
      </li>
      <li>
        Preview the file and publish it. This will create the necessary Variables, Tags and Triggers in GTM.
      </li>
    </ol>
  </section> -->

  <section class="bcls-section">
    <h2 id="Events_and_parameters">Événements et paramètres</h2>

    <p>
      Les événements et paramètres suivants peuvent être envoyés à Google Tag Manager.
    </p>

    <h3>Événements</h3>

    <p>Ces événements proviennent de votre joueur.</p>

    <ul>
      <li><code translate="No">player_load</code></li>
      <li><code translate="No">video_impression</code></li>
      <li><code translate="No">play_request</code></li>
      <li><code translate="No">video_view</code></li>
      <li>
        <code translate="No">video_engagement</code>
        <ul>
          <li><code translate="No">video_engagement</code>- 25% de jalon</li>
          <li><code translate="No">video_engagement</code>- 50% de jalon</li>
          <li><code translate="No">video_engagement</code>- 75% de jalon</li>
        </ul>
      </li>
      <li><code translate="No">ad_start</code></li>
      <li><code translate="No">ad_end</code></li>
      <li><code translate="No">error</code></li>
      <li><code translate="No">video_complete</code>- 100% jalon</li>
    </ul>

    <p>
      Le pourcentage de visionnage de la vidéo (<code translate="No">video_engagement</code> ) peut être calculé comme suit (similaire à l'événement video_engagement dans Google et Adobe Analytics):
    </p>

    <pre>
<code class="language-json" translate="No">Video watched percentage = duration the user actually watched / total video duration</code></pre>

    <p>
      Par exemple, dans une vidéo de 20 secondes, le jalon de 25 % peut être atteint dans les deux cas ci-dessous
    </p>

    <ul>
      <li>Montres utilisateur de 0 à 5 secondes</li>
      <li>
        L'utilisateur regarde de 0 à la 1ère seconde et saute à la 11e seconde et regarde jusqu'à la 15e seconde
      </li>
    </ul>

    <p>
      Dans les deux cas ci-dessus, l'utilisateur a regardé 5 secondes, de sorte que le jalon sera signalé à 25 %.
    </p>

    <h3>Paramètres</h3>

    <p>Ces paramètres proviennent de votre lecteur.</p>

    <ul>
      <li><code translate="No">account</code></li>
      <li><code translate="No">player</code></li>
      <li><code translate="No">player_name</code></li>
      <li><code translate="No">video</code></li>
      <li><code translate="No">video_name</code></li>
      <li><code translate="No">video_duration</code></li>
      <li><code translate="No">range</code></li>
      <li><code translate="No">video_seconds_viewed</code></li>
      <li><code translate="No">session</code></li>
      <li><code translate="No">platform_version</code></li>
      <li><code translate="No">video_percent_viewed</code></li>
      <li><code translate="No">video_playhead</code></li>
    </ul>

    <h3>Paramètres automatiques</h3>

    <p>
      Ces paramètres sont automatiquement envoyés à Google Tag Manager, vous n'avez donc pas à les spécifier dans le code JSON.
    </p>

    <ul>
      <li><code translate="No">country</code></li>
      <li><code translate="No">country_name</code></li>
      <li><code translate="No">region</code></li>
      <li><code translate="No">region_name</code></li>
      <li><code translate="No">city</code></li>
      <li><code translate="No">browser</code></li>
      <li><code translate="No">browser_type</code></li>
      <li><code translate="No">destination</code></li>
      <li><code translate="No">source</code></li>
      <li><code translate="No">device_type</code></li>
      <li><code translate="No">device_os</code></li>
      <li><code translate="No">device_os_version</code></li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Changelog">Journal des changements</h2>

    <p>
      Voir le <a href="http://players.brightcove.net/release-notes/brightcove-player-google-tag-manager/index.html">Notes de version du plug-in Google Tag Manager</a>.
    </p>
    <p>Pour les notes de version historiques, voir le <a href="/plugins/changelog/google-tag-manager-plugin-changelog.html">changelog ici</a>.</p>
  </section>
</article>