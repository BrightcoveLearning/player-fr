---
title: Catalogue de joueurs
parent: References
---

<article class="bcls-article">
  <h1>Catalogue des joueurs</h1>
  <summary>Dans cette rubrique, vous apprendrez à utiliser Brightcove Player <strong>catalogue</strong> bibliothèque de méthodes pour envoyer des requêtes au catalogue Video Cloud. La bibliothèque du catalogue permet d'obtenir facilement des informations sur les médias Video Cloud et de les charger dans un lecteur.
    </p>
    <aside class="bcls-aside bcls-aside--information">Le contenu de ce document s'applique uniquement à Video Cloud.</aside>
  </summary>
  <section class="bcls-section">
    <h2 id="Basic_syntax">Syntaxe de base</h2>
    <p>La syntaxe de base pour utiliser le <code translate="No">catalog</code> est comme suit:</p>
    <ul>
      <li>Méthodes: <code translate="No">playerName.catalog.methodName()</code></li>
    </ul>
    <p>Plusieurs des <code translate="No">catalog</code> Les méthodes passeront un objet de paramètres qui définissent la demande. Les <a href="#Catalog_parameters_object"><span translate="No">catalogue</span> objet paramètres</a> est défini dans la section suivante, et sera référencé dans les méthodes' descriptions, le cas échéant.</p>
    <aside class="bcls-aside bcls-aside--information">Remarque : Dans tout le contenu de cette page, lorsqu'un paramètre est entouré de crochets (<strong translate="No"> [ ]</strong> ) cela indique que le paramètre est facultatif.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Catalog_parameters_object"><span translate="No">catalogue</span> objet paramètres</h2>
    <p>Le tableau suivant décrit les propriétés du <code translate="No">CatalogParams</code> objet. Ce véritable objet (pas un constructeur) définit le format des paramètres à utiliser avec de nombreuses demandes de catalogue.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Prénom</th>
          <th>Type</th>
          <th>La description</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">type</code></td>
          <td><code translate="No">string</code></td>
          <td><p>Le type de demande à faire. Doit être l'un des <strong>vidéo</strong> , <strong>playlist</strong> , ou <strong>chercher</strong>.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">policyKey</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p>Clé de stratégie de ce compte. Ce sera par défaut la clé de politique du lecteur.<strong translate="No">**</strong> Notez que si vous transmettez un ID de compte différent en tant que paramètre, vous devez également transmettre la clé de stratégie correspondante pour ce compte.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">deliveryConfigId</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p>L'identifiant des règles de livraison. Voir <a href="https://apis.support.brightcove.com/delivery-rules/getting-started/overview-delivery-rules.html">Aperçu: Règles de livraison</a>.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[id]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p>Un ID de vidéo ou de liste de lecture ou un ID de référence préfixé par « ref : ». <strong translate="No">Obligatoire</strong> pour les demandes de vidéo et de playlist. <strong translate="No">DÉCONSEILLÉ :</strong> Pour la compatibilité descendante, ceci est pris en charge en tant que requête de recherche au lieu de <code translate="No">q</code>. Cela peut être fourni en tant que sous-objet, qui est également un <code translate="No">CatalogParams</code> objet, qui peut être utilisé pour fournir des paramètres.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[q]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p>Une requête de recherche. <strong translate="No">Obligatoire</strong> pour les demandes de recherche, ignoré pour les autres.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[adConfigId]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p>Une vidéo pourrait ID de configuration de l'annonce SSAI.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[tveToken]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p>Un jeton TVE facultatif à envoyer en tant que paramètre de chaîne de requête.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[limit]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p><em>Prise en charge uniquement pour les <strong translate="No">listes de lecture</strong> et <strong translate="No">les</strong> types de recherche.</em> Limitez le nombre de vidéos renvoyées.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[offset]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p><em>Prise en charge uniquement pour les <strong translate="No">listes de lecture</strong> et <strong translate="No">les</strong> types de recherche.</em> Le nombre de vidéos à ignorer.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[sort]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td><p><em>Pris en charge pour <strong translate="No">chercher</strong> tapez seulement.</em> Comment les vidéos doivent être triées pour les recherches.</p></td>
        </tr>
        <tr>
          <td style="white-space: nowrap;"><code translate="No">[bcovAuthToken]</code></td>
          <td style="white-space: nowrap;"><code translate="No">string</code></td>
          <td>À utiliser avec Brightcove Playback Authorization Service (PAS).</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--warning">
      <p>**Remarque: Par défaut, la clé de stratégie générée avec un lecteur n'est PAS activée pour la recherche. Cela signifie que vous devez soit (en choisir un):</p>
      <ul>
        <li>
          <p >Utilisez le <code translate="No">policyKey</code> paramètre pour transmettre une clé de stratégie activée pour la recherche.</p>
        </li>
        <li>
          <p>Utilisez le <a href="https://apis.support.brightcove.com/player-management/">API de gestion des joueurs</a> pour écraser la clé de stratégie par défaut du joueur. Pour ce faire, vous pouvez utiliser une instruction curl similaire à la suivante:</p>
          <pre class="line-numbers">
<code class="language-bash" translate="No">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request PATCH \
  --data '{
    "video_cloud": {
      "policy_key": "YOUR SEARCH ENABLED POLICY KEY"
    }
  }' \
https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players/$PLAYER_ID/configuration</code></pre>
          <p>Veillez à prendre en compte tous les problèmes de sécurité lors de l'association d'une clé de stratégie activée pour la recherche au lecteur.</p>
          <p>Pour plus d'informations sur la création d'une clé de stratégie activée pour la recherche, consultez le <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html#Search_videos">Aperçu: API Policy - Rechercher des vidéos</a> section.</p>
        </li>
      </ul>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="getVideo"><code translate="No">getVideo( )</code> méthode</h2>
    <p >le <code translate="No">getVideo(params | videoID,callback,[adConfigId]) =&gt; XMLHttpRequest</code> méthode fait un <code translate="No">catalog</code> demande la vidéo avec l'ID spécifié et appelle un rappel lorsque la demande se termine.</p>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p><strong translate="No">paramètres | ID vidéo</strong>: Un objet de type <a href="#Catalog_parameters_object"><span translate="No">catalogue</span> paramètres</a> OU une chaîne contenant l'ID de la vidéo ou un ID de référence préfixé par <strong translate="No">réf :</strong>.</p>
      </li>
      <li>
        <p><strong translate="No">rappel</strong>: Fonction qui sera appelée à la fin de la requête, qu'elle soit réussie ou non. Il est invoqué avec deux arguments :</p>
        <ul>
          <li>
            <p>Le premier argument contiendra un objet error, si une erreur se produit. Cet objet contient des détails sur l'erreur. Si aucune erreur ne se produit, cet objet est <strong translate="No">nul</strong>.</p>
          </li>
          <li>
            <p>Si aucune erreur ne se produit, le deuxième argument est l'objet vidéo demandé. Si une erreur se produit, cette valeur contient la chaîne vide.</p>
          </li>
        </ul>
      </li>
      <li>
        <p><strong translate="No">[AdConfigID]</strong>: OBSOLÈTE ID de configuration de la publicité Video Cloud qui sera transmis à l'API Playback. Au lieu de cela, transmettez l'AdConfigID dans l'objet params initial.</p>
      </li>
    </ul>
    <h3>Valeur renvoyée</h3>
    <p>L' <code translate="No">catalog</code> appel lui-même renvoie un objet de type <strong translate="No">XMLHttpRequest</strong>. Un exemple de cet objet suit:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="request object" src="/assets/images/references/player-catalog/request-object.png" /></figure>
    <p>Bien que l'appel renvoie un <strong translate="No">XMLHttpRequête</strong> objet, vous ne traiterez probablement jamais avec cet objet. La raison en est que dans la fonction de rappel, la réponse JSON est automatiquement analysée et un objet utilisable est ce qui est passé à la fonction de rappel, dans ce cas un objet vidéo.</p>
    <h3>Exemple : ID vidéo sous forme de chaîne</h3>
    <p>L'exemple suivant montre une utilisation du <code translate="No">getVideo()</code> méthode:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-account="1507807800001"
  data-player="3bc25a34-086a-4060-8745-dd87af3d53b4"
  data-embed="default"
  data-video-id=""
  class="video-js" controls&gt;&lt;/video-js&gt;
&lt;script src="https://brightcove.net/1507807800001/3bc25a34-086a-4060-8745-dd87af3d53b4_default/index.min.js"&gt;&lt;/script&gt;


&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    <span class="bcls-highlight">myPlayer.catalog.getVideo('2114345471001', function(error, video){</span>
    //deal with error
    myPlayer.catalog.load(video);
  });
});
&lt;/script&gt;</code></pre>
    <h3>Exemple : Utilisation de catalogParams</h3>
    <p>L'équivalent du code juste au-dessus, mais en utilisant l'objet CatalogParams apparaît comme suit:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      catalogParams = {};
    catalogParams.type = 'video';
    catalogParams.id = '2114345471001';
    myPlayer.catalog.getVideo(catalogParams, function(error, video){
    //deal with error
    myPlayer.catalog.load(video);
  });
});
&lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="getPlaylist"><code translate="No">getPlaylist( )</code> méthode</h2>
    <p>le <code translate="No">getPlaylist(params | playlistID,callback,[adConfigId]) =&gt; XMLHttpRequest</code> méthode fait un <code translate="No">catalog</code> demande la liste de lecture avec l'ID spécifié et appelle un rappel lorsque la demande se termine.</p>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p><strong translate="No">paramètres | ID de la liste de lecture</strong>: Un objet de type <a href="#Catalog_parameters_object"><span translate="No">catalogue</span> paramètres</a> OU une chaîne contenant l'identifiant de la playlist ou un identifiant de référence préfixé par <strong translate="No">réf :</strong>.</p>
      </li>
      <li>
        <p><strong translate="No">rappel</strong>: Fonction qui sera appelée à la fin de la requête, qu'elle soit réussie ou non. Il est invoqué avec deux arguments :</p>
        <ul>
          <li>
            <p>Le premier argument contiendra un objet error, si une erreur se produit. Cet objet contient des détails sur l'erreur. Si aucune erreur ne se produit, cet objet est <strong translate="No">nul</strong>.</p>
          </li>
          <li>
            <p>Si aucune erreur ne se produit, le deuxième argument est l'objet vidéo demandé. Si une erreur se produit, cette valeur contient la chaîne vide.</p>
          </li>
        </ul>
      </li>
      <li>
        <p><strong translate="No">[AdConfigID]</strong>: OBSOLÈTE ID de configuration de la publicité Video Cloud qui sera transmis à l'API Playback. Au lieu de cela, transmettez l'AdConfigID dans l'objet params initial.</p>
      </li>
    </ul>
    <h3>Valeur renvoyée</h3>
    <p>Les <code translate="No">catalog</code> l'appel lui-même renvoie un <strong translate="No">XMLHttpRequête</strong>. Bien que l'appel renvoie un <strong translate="No">XMLHttpRequête</strong> objet, vous ne traiterez probablement jamais avec cet objet. La raison en est que dans la fonction de rappel, la réponse JSON est automatiquement analysée et un objet utilisable est ce qui est passé à la fonction de rappel, dans ce cas un objet de playlist.</p>
    <h3>Exemple</h3>
    <p>L'exemple suivant montre une utilisation du <code translate="No">getPlaylist()</code> la méthode suit:</p>
    <pre class="line-numbers" data-start="26">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-account="1752604059001"
  data-player="f50a2d3c-af51-4d8c-84e3-0c7cdec0edbe"
  data-embed="default"
  class="video-js" controls&gt;&lt;/video-js&gt;

&lt;script src="https://players.brightcove.net/1752604059001/f50a2d3c-af51-4d8c-84e3-0c7cdec0edbe_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    <span class="bcls-highlight">myPlayer.catalog.getPlaylist('1754200320001', function(error, playlist){</span>
      //deal with error
      myPlayer.catalog.load(playlist);
    })
  });
&lt;/script&gt;</code></pre>
    <aside class="bcls-aside bcls-aside--tip">Si vous souhaitez charger la liste de lecture, mais que la première vidéo de la liste de lecture n'est PAS placée dans le lecteur, dans la <code translate="No">playlist()</code> méthode, vous pouvez définir un deuxième paramètre sur <code translate="No">-1</code>. Par exemple, le code suivant récupère une liste de lecture, la place dans le lecteur, mais ne charge pas la première vidéo dans le lecteur :
      <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.catalog.getPlaylist(playlistID, function(error, myPlaylist) {
  // deal with error
  // +++ Place playlist in player, but -1 parameter does not load playlist video in player +++
  myPlayer.playlist(myPlaylist, -1);
});</code></pre>
      Bien sûr, il faut ensuite charger la vidéo manuellement. Voir l'exemple de lecteur <a href="/code-samples/brightcove-player-sample-play-video-playlist.html">Brightcove : Lire la vidéo avant la liste</a> de lecture pour un exemple de cette technique.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="load">méthode load ()</h2>
    <p>le <code translate="No">load(mediaobject)</code> La méthode charge un objet vidéo ou playlist dans le lecteur. Cette méthode mettra à jour le lecteur <code translate="No">mediainfo</code> propriété et mettez à jour la source vidéo et l'affiche. Dans la plupart des cas, vous appelleriez cette méthode avec le résultat d'un appel à <code translate="No">getVideo()</code> ou <code translate="No">getPlaylist()</code>. Si vous souhaitez être averti quand <code translate="No">mediainfo</code> a été mis à jour, écoutez le <code translate="No">loadstart</code> un événement.</p>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p><strong translate="No">objet média</strong>: Un objet vidéo ou playlist à charger. Cet objet doit avoir le même format que l'objet de réponse d'un appel à <code translate="No">getVideo()</code> ou <code translate="No">getPlaylist()</code>méthode.</p>
      </li>
    </ul>
    <h3>Exemple</h3>
    <p>L'exemple suivant récupère une vidéo et la charge dans le lecteur.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-account="1507807800001"
  data-player="3bc25a34-086a-4060-8745-dd87af3d53b4"
  data-embed="default"
  data-video-id=""
  class="video-js" controls&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1507807800001/3bc25a34-086a-4060-8745-dd87af3d53b4_default/index.min.js"&gt;&lt;/script&gt;


&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    myPlayer.catalog.getVideo('2114345471001', function(error, video) {
      //deal with error
      <span class="bcls-highlight">myPlayer.catalog.load(video);</span>
    });
  });
&lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="get_method">méthode get ()</h2>
    <p>le <code translate="No">get(params, [callback]) ⇒ Promise | XMLHttpRequest</code> méthode permet de rechercher <code translate="No">catalog</code> en utilisant <a href="https://apis.support.brightcove.com/cms/searching/cms-and-playback-apis-video-search-v2.html">CMS / API de lecture: </a> Syntaxe de recherche de vidéos. Sous le capot, cette méthode utilise l'API Playback.</p>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p><strong translate="No">paramètres</strong>: Un objet de type <a href="#Catalog_parameters_object"><span translate="No">catalogue</span> paramètres</a>.</p>
      </li>
      <li>
        <p><strong translate="No">rappel</strong>: Fonction qui sera appelée à la fin de la requête, qu'elle soit réussie ou non. Il est invoqué avec deux arguments :</p>
        <ul>
          <li>
            <p>Le premier argument contiendra un objet error, si une erreur se produit. Cet objet contient des détails sur l'erreur. Si aucune erreur ne se produit, cet objet est <strong translate="No">nul</strong>.</p>
          </li>
          <li>
            <p>Si aucune erreur ne se produit, le deuxième argument est l'objet vidéo demandé. Si une erreur se produit, cette valeur contient la chaîne vide.</p>
          </li>
        </ul>
      </li>
    </ul>
    <h3>Valeur renvoyée</h3>
    <p>La méthode renvoie un <strong translate="No">Promesse</strong> ou un objet de type <strong translate="No">XMLHttpRequête</strong>. Si vous utilisez une fonction de rappel, la réponse JSON est automatiquement analysée et un objet utilisable est ce qui est passé à la fonction de rappel. La structure exacte des données renvoyées dans le rappel varie en fonction de ce qui a été recherché.</p>
    <h3>Exemple de rappel</h3>
    <p>L'exemple suivant illustre les actions suivantes :</p>
    <ol>
      <li>
        <p>Construit un objet catalogParams qui sera passé en argument avec la fonction. La recherche interrogera les vidéos avec la chaîne <strong translate="No">désert</strong> dans la vidéo <strong translate="No">Nom</strong>.</p>
      </li>
      <li>
        <p>Effectue la recherche à l'aide du <code translate="No">get()</code> méthode. Notez que la fonction de rappel utilisera les paramètres nommés <code translate="No">errorObj</code> et <code translate="No">videosReturned</code>.</p>
      </li>
      <li>
        <p>Utilisez <code translate="No">playlist()</code> cette méthode pour attribuer les vidéos renvoyées au lecteur Brightcove.</p>
      </li>
    </ol>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      catalogParams = {};
    catalogParams.type = 'search';
    catalogParams.policyKey = 'BCpkADawqM3dv_...Cv8-nlTX';
    catalogParams.q = 'name:Desert';
    console.log('catalogParams',catalogParams);
    myPlayer.catalog.get(catalogParams,function(errorObj,videosReturned){
      console.log('videosReturned',videosReturned);
      myPlayer.playlist(videosReturned);
    });
  });
&lt;/script&gt;</code></pre>
    <p>La capture d'écran suivante montre les deux <code translate="No">console.log()</code> résultats dans le code ci-dessus. le <code translate="No">catalogParams</code> affiche les paramètres de la recherche et le <code translate="No">videosReturned</code> tableau montre les trois vidéos renvoyées par la recherche.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Objects in console from get method call" src="/assets/images/references/player-catalog/get-search-callback.png" /></figure>
    <h3>Exemple de promesse</h3>
    <p>Dans ce code, la même recherche est effectuée en utilisant <code translate="No">get()</code> comme indiqué ci-dessus, mais le résultat est traité comme une promesse.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      catalogParams = {};
    catalogParams.type = 'search';
    catalogParams.policyKey = 'BCpkADawqM3dv_...Cv8-nlTX';
    catalogParams.q = 'name:Desert';
    myPlayer.catalog.get(catalogParams).then(function(videosReturned){
      console.log('videosReturned',videosReturned);
      myPlayer.playlist(videosReturned);
    }).catch(function(errorObj){
      console.log('errorObj',errorObj);
    })
  });
&lt;/script&gt;</code></pre>
    <p>Pour plus d'informations sur les promesses, consultez <a href="https://general.support.brightcove.com/developer/concepts-using-javascript-promises.html">Utilisation des promesses JavaScript</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="getSearch_method">méthode getSearch ()</h2>
    <p>le <code translate="No">getSearch(params, [callback], [adConfigId]) ⇒ XMLHttpRequest</code> La méthode permet de rechercher dans le catalogue en utilisant <a href="https://apis.support.brightcove.com/cms/searching/cms-and-playback-apis-video-search-v2.html">CMS / API de lecture: Vidéos Recherche</a> syntaxe. Sous le capot, cette méthode utilise l'API Playback.</p>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p><strong translate="No">paramètres</strong>: Un objet de type <a href="#Catalog_parameters_object"><span translate="No">catalogue</span> paramètres</a>.</p>
      </li>
      <li>
        <p><strong translate="No">rappel</strong>: Fonction qui sera appelée à la fin de la requête, qu'elle soit réussie ou non. Il est invoqué avec deux arguments :</p>
        <ul>
          <li>
            <p>Le premier argument contiendra un objet error, si une erreur se produit. Cet objet contient des détails sur l'erreur. Si aucune erreur ne se produit, cet objet est <strong translate="No">nul</strong>.</p>
          </li>
          <li>
            <p>Si aucune erreur ne se produit, le deuxième argument est l'objet vidéo demandé. Si une erreur se produit, cette valeur contient la chaîne vide.</p>
          </li>
        </ul>
      </li>
      <li><strong translate="No">[AdConfigID]</strong>: OBSOLÈTE ID de configuration de la publicité Video Cloud qui sera transmis à l'API Playback. Au lieu de cela, transmettez l'AdConfigID dans l'objet params initial.</li>
    </ul>
    <h3>Valeur renvoyée</h3>
    <p>L' <code translate="No">catalog</code> appel lui-même renvoie un objet de type <strong translate="No">XMLHttpRequest</strong>. Bien que l'appel renvoie un <strong translate="No">XMLHttpRequête</strong> objet, vous ne traiterez probablement jamais avec cet objet. La raison en est que dans la fonction de rappel, la réponse JSON est automatiquement analysée et qu'un objet utilisable est ce qui est transmis à la fonction de rappel. La structure exacte des données renvoyées dans le rappel varie en fonction de ce qui a été recherché.</p>
    <h3>Exemple</h3>
    <p>L'exemple suivant effectue les opérations suivantes :</p>
    <ol>
      <li>
        <p>Construit un <a href="#Catalog_parameters_object">CatalogueParams</a> objet qui sera passé en argument avec la fonction. La clé de stratégie activée pour la recherche est transmise. La recherche interrogera les vidéos avec la chaîne <strong translate="No">désert</strong> dans la vidéo <strong translate="No">Nom</strong>.</p>
      </li>
      <li>
        <p>Effectue la recherche à l'aide du <code translate="No">getSearch()</code> méthode. Notez que la fonction de rappel utilisera les paramètres nommés <code translate="No">errorObj</code> et <code translate="No">videosReturned</code>.</p>
      </li>
      <li>
        <p>Utilisez la <code translate="No">playlist()</code> méthode pour attribuer les vidéos retournées au lecteur Brightcove.</p>
      </li>
    </ol>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      catalogParams = {};
    catalogParams.type = 'search';
    catalogParams.policyKey = 'BCpkADawqM3dv_...-rSSaDpwCVfj0vsWCv8-nlTX';
    catalogParams.q = 'name:Desert';
    console.log('catalogParams',catalogParams);
    myPlayer.catalog.getSearch(catalogParams,function(errorObj,videosReturned){
      console.log('videosReturned',videosReturned);
      myPlayer.playlist(videosReturned);
    });
  });
&lt;/script&gt;</code></pre>
    <p>La capture d'écran suivante montre les deux <code translate="No">console.log()</code> résultats dans le code ci-dessus. le <code translate="No">catalogParams</code> affiche les paramètres requis pour la recherche et le <code translate="No">videosReturned</code> tableau montre les trois vidéos renvoyées par la recherche.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Objects in console from getSearch method call" src="/assets/images/references/player-catalog/getsearch-console.png" /></figure>
  </section>
  <section class="bcls-section">
    <h2 id="getSequence_method">méthode getSequence ()</h2>
    <p>le <code translate="No">getSequence(sequences, callback, [adConfigId]) ⇒ Array.&lt;XMLHttpRequest&gt;</code> méthode permet de passer plusieurs <code translate="No">catalog</code> opérations et récupère tous les objets vidéo de ces multiples <code translate="No">catalog</code> opérations. Vous pouvez avoir trois types d'opérations, à savoir:</p>
    <ol>
      <li>recherche</li>
      <li>vidéo</li>
      <li>liste de lecture</li>
    </ol>
    <p>Concrètement, cela signifie que vous pouvez récupérer les combinaisons suivantes et que les données renvoyées sont un tableau d'objets vidéo:</p>
    <ul>
      <li>Plusieurs listes de lecture</li>
      <li>Une playlist et plusieurs vidéos individuelles supplémentaires</li>
      <li>En utilisant la recherche, toutes les vidéos avec une certaine chaîne dans le nom, la description ou le tag.</li>
    </ul>
    <p>Bien entendu, les séquences qui viennent d'être énumérées ne sont que quelques-unes d'un nombre presque infini de combinaisons.</p>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p><strong translate="No">séquences</strong>: Un objet de type <a href="#Catalog_parameters_object"><span translate="No">catalogue</span> paramètres</a> OU un tableau d'objets représentant une séquence de <code translate="No">catalog</code> opérations.</p>
      </li>
      <li>
        <p><strong translate="No">rappel</strong>: Fonction qui sera appelée à la fin de la requête, qu'elle soit réussie ou non. Il est invoqué avec deux arguments :</p>
        <ul>
          <li>
            <p>Le premier argument contiendra un objet error, si une erreur se produit. Cet objet contient des détails sur l'erreur. Si aucune erreur ne se produit, cet objet est <strong translate="No">nul</strong>.</p>
          </li>
          <li>
            <p>Si aucune erreur ne se produit, le deuxième argument est l'objet vidéo demandé. Si une erreur se produit, cette valeur contient la chaîne vide.</p>
          </li>
        </ul>
      </li>
      <li>
        <p><strong translate="No">[AdConfigID]</strong>: Un ID de configuration d'annonce qui sera transmis avec chaque demande.</p>
      </li>
    </ul>
    <p>Notez que si une vidéo spécifique est renvoyée dans plus d'une des opérations, elle figurera plusieurs fois dans le résultat.</p>
    <h3>Valeur renvoyée</h3>
    <p>L' <code translate="No">catalog</code> appel lui-même renvoie un objet de type <strong translate="No">XMLHttpRequest</strong>. Bien que l'appel renvoie un <strong translate="No">XMLHttpRequête</strong> objet, vous ne traiterez probablement jamais avec cet objet. La raison en est que dans la fonction de rappel, la réponse JSON est automatiquement analysée et qu'un objet utilisable est ce qui est transmis à la fonction de rappel. La structure exacte des données renvoyées dans le rappel varie en fonction de ce qui a été recherché.</p>
    <h3>Exemple</h3>
    <p>L'exemple suivant utilise une séquence de trois <code translate="No">catalog</code> opérations. Le premier est une recherche des 10 vidéos les plus anciennes du <code translate="No">catalog</code> , la seconde, une vidéo individuelle est ajoutée, et enfin les vidéos d'une playlist sont ajoutées au résultat.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      // Declare object for catalog search
      catalogParams = {};
    // Declare mySequences array which will hold
    // three different types of catalog operations
    mySequences = [];

    // Declare 3 objects for different catalog operations
    mySequences[0]={};
    mySequences[1]={};
    mySequences[2]={};

    // Define the object for catalog search
    // Search will retrieve 10 oldest videos in catalog
    catalogParams.policyKey = 'BCpkADawqM3dv_-rSSaDpwCVfj0vsWCv8-nlTX';
    catalogParams.q = 'type:*';
    catalogParams.sort = 'created_at';
    catalogParams.limit = 10;
    catalogParams.type = 'search';
    mySequences[0] = catalogParams;

    // Create a video retrieval catalog operation
    catalogParams = {};
    catalogParams.type = 'video';
    catalogParams.id = '5755775186001';
    mySequences[1] = catalogParams;

    // Create a playlist retrieval catalog operation
    catalogParams = {};
    catalogParams.type = 'playlist';
    catalogParams.id = '5531423971001';
    mySequences[2] = catalogParams;

    // Display mySequences array
    console.log('mySequences',mySequences);

    // Perform sequence of catalog operations
    myPlayer.catalog.getSequence(mySequences,function(errorObj,videosReturned){
      // Display video objects returned
      console.log('videosReturned',videosReturned);
      // Assign video objects as a playlist
      myPlayer.playlist(videosReturned);
    });
  });
&lt;/script&gt;</code></pre>
    <p>La capture d'écran suivante montre la structure du <code translate="No">mySequences</code> array, suivi du tableau d'objets vidéo renvoyés:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="The myStructures data structure" src="/assets/images/references/player-catalog/getSequences-mySequences.png" /></figure>
  </section>
  <section class="bcls-section">
    <h2 id="getLazySequence_method">Méthode getLazySequence ()</h2>
    <p>le <code translate="No">getLazySequence(sequences, callback, [adConfigId]) ⇒ XMLHttpRequest</code> La méthode se comporte de la même manière que la <a href="#getSequence_method">méthode getSequence ()</a> , sauf que le chargement paresseux des vidéos est utilisé. Cela signifie que lorsque les vidéos d'une opération de séquence sont récupérées, les vidéos de l'opération de séquence suivante ne seront pas récupérées tant que la dernière vidéo de l'opération précédente ne sera pas atteinte. Un cas particulier existe si une séquence ne renvoie qu'une seule vidéo, auquel cas l'opération de séquence suivante est effectuée et plus de vidéos sont récupérées.</p>
  </section>
  <section class="bcls-section">
    <h2 id="autoFindAndLoadMedia_method">méthode autoFindAndLoadMedia ()</h2>
    <p>le <code translate="No">autoFindAndLoadMedia([opts]) ⇒ Object | undefined</code> La méthode recherche le dernier ID de vidéo ou de playlist défini, le demande à l'API et le charge dans le lecteur. Cette méthode définit le comportement par défaut du Brightcove Player.</p>
    <h3>Paramètres</h3>
    <ul>
      <li><code translate="No">options</code>: Toutes les options suivantes sont reconnues:
        <ul>
          <li>
            <p><code translate="No">adConfigId</code>(nombre): Valeur numérique d'une configuration d'annonce qui sera transmise à l'API de lecture. Sera appelé ad_config_id à la fin.</p>
          </li>
          <li>
            <p><code translate="No">embedHasPoster</code>(booléen): Si l'intégration d'origine avait ou non une affiche.</p>
          </li>
          <li>
            <p><code translate="No">embedHasSources</code>(booléen): Si l'intégration d'origine avait ou non des sources.</p>
          </li>
          <li>
            <p><code translate="No">embedHasTracks</code>(booléen): Si l'intégration d'origine avait ou non des pistes.</p>
          </li>
          <li>
            <p><code translate="No">playlistId</code>(chaîne): Un identifiant de playlist fourni dans la configuration du lecteur.</p>
          </li>
          <li>
            <p><code translate="No">search</code>(chaîne | Objet): Une chaîne de recherche/objet qui a été fournie dans la configuration ou l'intégration du joueur. Voir <code translate="No">get()</code> méthode pour plus d'informations sur les paramètres pris en charge.</p>
          </li>
          <li>
            <p><code translate="No">sequence</code>(Objet | Array.Object): Une chaîne de recherche/objet qui a été fournie dans la configuration ou l'intégration du joueur. Voir <code translate="No">get()</code> méthode pour plus d'informations sur les paramètres pris en charge.</p>
          </li>
          <li>
            <p><code translate="No">videoId</code>(chaîne): Un ID vidéo fourni dans la configuration du lecteur.</p>
          </li>
        </ul>
      </li>
    </ul>
    <p>L'exemple suivant obtient l'objet vidéo en fonction de la <code translate="No">videoId</code> et le charge dans le lecteur:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
		options = {};
    options.videoId = '5141730843001';
    myPlayer.catalog.autoFindAndLoadMedia(options);
  });
&lt;/script&gt;</code></pre>
    <aside class="bcls-aside bcls-aside--tip">Vous pouvez également charger une vidéo par identifiant de référence en utilisant <code translate="No">options.videoId = 'ref:yourrefid';</code></aside>
    <p>L'exemple suivant récupère l'objet playlist basé sur <code translate="No">playlistId</code> et le charge dans le lecteur. Il obtient également l'objet vidéo basé sur <code translate="No">playlistVideoId</code> et le charge comme première vidéo à lire dans la playlist:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
        options = {};
    options.playlistId = '4845949311001';
    options.playlistVideoId = '4845831078001'
    myPlayer.catalog.autoFindAndLoadMedia(options);
  });
&lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="transformVideoResponse_method">méthode transformVideoResponse ()</h2>
    <p>le <code translate="No">transformVideoResponse(data)</code> convertit un objet vidéo brut de l'un ou l'autre <a href="https://apis.support.brightcove.com/cms/references/reference.html">API CMS</a> ou la <a href="https://apis.support.brightcove.com/playback/references/reference_v1.html">API de lecture</a> dans un format compatible avec le lecteur et les navigateurs. Cela inclut les durées et la compatibilité des images https. Il réorganise également les sources pour garantir que les sources censées offrir une expérience de visionnage de la plus haute qualité sur cette plate-forme sont essayées en premier.</p>
    <aside class="bcls-aside bcls-aside--tip">Lors de l'utilisation du <code translate="No">catalog.getVideo()</code> ou <code translate="No">catalog.getPlaylist()</code> méthodes, le <code translate="No">transformVideoResponse()</code> est appelé automatiquement, afin que vos données renvoyées soient au format approprié.</aside>
    <h3>Paramètres</h3>
    <ul>
      <li>
        <p>:<code translate="No">data</code> Un objet vidéo brut analysé à partir d'un <code translate="No">catalog</code> Réponse de l'API.</p>
      </li>
    </ul>
    <p>Voici un exemple d'utilisation de la méthode:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No"> for (var i=0; i&lt;limitValue; i++) {
  	mediaData.videos[i] = myPlayer.catalog.transformVideoResponse (mediaData.videos[i], myPlayer);
  }</code></pre>
    <p>Pour consulter l'exemple de code complet, consultez le <a href="/code-samples/brightcove-player-sample-playback-api-paging.html">Pagination de l'API de lecture</a> document.</p>
    <h3>Valeur retournée</h3>
    <p>Un objet plus cohérent avec l'environnement du lecteur et du navigateur.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Catalog_events"><span translate="No">catalogue</span> événements</h2>
    <p>Il existe trois événements de catalogues que vous pouvez écouter. Il s'agit de :</p>
    <ul>
      <li>
        <p>:<code translate="No">catalog_request</code> Un événement distribué lorsqu'une demande au <code translate="No">catalog</code> est fait.</p>
      </li>
      <li>
        <p>:<code translate="No">catalog_response</code> Un événement distribué lorsqu'une réponse du <code translate="No">catalog</code> est reçu. La réponse au format JSON contient les données brutes <span translate="No">catalogue</span> API renvoyée. Voir le <a href="#Response_information">Informations de réponse</a> contenu plus loin dans cette section pour plus de détails.</p>
      </li>
      <li>
        <p>:<code translate="No">catalog_request_error</code> Un événement distribué lorsqu'il y a une erreur lors de l'interaction avec le <code translate="No">catalog</code>.</p>
      </li>
    </ul>
    <p>Le tableau suivant montre le journal de la console des événements d'une demande et d'une réponse de <code translate="No">catalog</code>:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Request and response event objects" src="/assets/images/references/player-catalog/events.png" /></figure>
    <p>Vous voyez de nombreuses propriétés standard d'un objet événement. D'un intérêt particulier pour <code translate="No">catalog</code> les événements sont <strong translate="No">taper</strong> et <strong translate="No">URL</strong>.</p>
    <p>Ce qui suit montre un journal de console d'un <code translate="No">catalog</code> objet d'erreur de demande:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Error event object" src="/assets/images/references/player-catalog/error-event-object.png" /></figure>
    <h3 id="Response_information">Informations de réponse</h3>
    <p>Les <code translate="No">catalog_response</code> l'objet événement contient un JSON formaté <code translate="No">response</code> propriété qui contient les données brutes du <span translate="No">catalogue</span> Réponse de l'API. Ce qui suit montre le journal de la console de la propriété de réponse:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Response event objects" src="/assets/images/references/player-catalog/parsed-response.png" /></figure>
    <p>Pour utiliser réellement les données de la propriété de réponse, vous devez analyser la chaîne au format JSON brute en un objet. Ce qui suit montre l'accès au <code translate="No">name</code> propriété:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.on('catalog_response',function(evt){
  var api_response = JSON.parse(evt.response.response);
  console.log('api_response.name',api_response.name);
});</code></pre>
    <p>Voici le JSON d'un exemple <code translate="No">response</code> propriété:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "description": null,
  "poster_sources": [{
    "src": "http://brightcove.vo.llnwd.net/e1/pd/1507807800001/1507807800001_4784518686001_4784463159001-vs.jpg?pubId=1507807800001&amp;videoId=4784463159001"
  }, {
    "src": "https://brightcove.hs.llnwd.net/e1/pd/1507807800001/1507807800001_4784518686001_4784463159001-vs.jpg?pubId=1507807800001&amp;videoId=4784463159001"
  }],
  "tags": [],
  "cue_points": [{
    "id": "4784326156001",
    "name": "First cue point",
    "type": "CODE",
    "time": 3.0,
    "metadata": "5;This is the first CTA;http://www.brightcove.com",
    "force_stop": false
  }, {
    "id": "4784326155001",
    "name": "Second cue point",
    "type": "CODE",
    "time": 13.0,
    "metadata": "3;This is the second CTA;http://docs.brightcove.com/",
    "force_stop": false
  }],
  "custom_fields": {},
  "account_id": "1507807800001",
  "sources": [{
    "avg_bitrate": 513000,
    "width": 480,
    "duration": 21098,
    "size": 1357587,
    "stream_name": "mp4:1507807800001/1507807800001_4784519206001_4784463159001.mp4&amp;1483545600000&amp;c190f37500f15373c964858e54b4e2a1",
    "codec": "H264",
    "asset_id": "4784519206001",
    "container": "MP4",
    "height": 270,
    "app_name": "rtmp://brightcove.fcod.llnwd.net/a500/e1/uds/rtmp/ondemand"
  }, {
    "avg_bitrate": 513000,
    "width": 480,
    "src": "http://brightcove.vo.llnwd.net/e1/uds/pd/1507807800001/1507807800001_4784519206001_4784463159001.mp4?pubId=1507807800001&amp;videoId=4784463159001",
    "size": 1357587,
    "height": 270,
    "duration": 21098,
    "container": "MP4",
    "codec": "H264",
    "asset_id": "4784519206001"
  }, {
    "avg_bitrate": 1804000,
    "width": 960,
    "src": "https://brightcove.hs.llnwd.net/e1/uds/pd/1507807800001/1507807800001_4784519221001_4784463159001.mp4?pubId=1507807800001&amp;videoId=4784463159001",
    "size": 4752091,
    "height": 540,
    "duration": 21098,
    "container": "MP4",
    "codec": "H264",
    "asset_id": "4784519221001"
  }, {
    "type": "application/x-mpegURL",
    "src": "http://c.brightcove.com/services/mobile/streaming/index/master.m3u8?videoId=4784463159001&amp;pubId=1507807800001",
    "container": "M2TS",
    "codec": "H264"
  }, {
    "type": "application/x-mpegURL",
    "src": "https://secure.brightcove.com/services/mobile/streaming/index/master.m3u8?videoId=4784463159001&amp;pubId=1507807800001&amp;secure=true",
    "container": "M2TS",
    "codec": "H264"
  }],
  "name": "small-waterfall.mp4",
  "reference_id": null,
  "long_description": null,
  "duration": 21098,
  "economics": "AD_SUPPORTED",
  "published_at": "2016-03-03T14:56:42.982Z",
  "text_tracks": [],
  "updated_at": "2016-05-03T18:53:43.573Z",
  "thumbnail": "http://brightcove.vo.llnwd.net/e1/pd/1507807800001/1507807800001_4784518327001_4784463159001-th.jpg?pubId=1507807800001&amp;videoId=4784463159001",
  "poster": "http://brightcove.vo.llnwd.net/e1/pd/1507807800001/1507807800001_4784518686001_4784463159001-vs.jpg?pubId=1507807800001&amp;videoId=4784463159001",
  "link": null,
  "id": "4784463159001",
  "ad_keys": "key1%3Dvalue1%26key2%3Dvalue2",
  "thumbnail_sources": [{
    "src": "http://brightcove.vo.llnwd.net/e1/pd/1507807800001/1507807800001_4784518327001_4784463159001-th.jpg?pubId=1507807800001&amp;videoId=4784463159001"
  }, {
    "src": "https://brightcove.hs.llnwd.net/e1/pd/1507807800001/1507807800001_4784518327001_4784463159001-th.jpg?pubId=1507807800001&amp;videoId=4784463159001"
  }],
  "created_at": "2016-03-03T14:56:42.982Z"
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="catalogerrors"><span translate="No">catalogue</span> les erreurs</h2>
    <p>le <code translate="No">catalog</code> génère des erreurs en cas de problèmes de récupération ou de lecture initiale de la vidéo ou de la liste de lecture. Les erreurs sont détaillées ci-dessous.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th><span translate="No">catalogue</span> Erreur</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">Video ID as string</code></td>
          <td>Le lecteur a été configuré avec un ID de compte Video Cloud non valide.</td>
        </tr>
        <tr>
          <td><code translate="No">VIDEO_CLOUD_ERR_RESOURCE_NOT_FOUND</code></td>
          <td>L'ID de la liste de lecture par défaut n'est pas valide.</td>
        </tr>
        <tr>
          <td><code translate="No">VIDEO_CLOUD_ERR_VIDEO_NOT_FOUND</code></td>
          <td>La vidéo par défaut n'est pas valide.</td>
        </tr>
        <tr>
          <td><code translate="No">VIDEO_CLOUD_ERR_NOT_PLAYABLE</code></td>
          <td>La vidéo Video Cloud n'est pas lisible.&nbsp;Les causes fréquentes de cette erreur incluent lorsqu'un ID vidéo est désactivé ou lorsque la disponibilité programmée a expiré.</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="catalog-error">Manipuler <code translate="No">bc-catalog-error</code></h2>
    <p>Il est possible que la gestion des erreurs dans la <code translate="No">ready()</code> section normale du <code translate="No">script</code> bloc puisse causer des problèmes. Par exemple, il peut arriver que l' <code translate="No">bc-catalog-error</code> événement puisse être distribué avant que le joueur soit prêt, et si vous écoutez l'erreur dans la <code translate="No">ready()</code> section, vous ne serez pas en mesure de gérer l'erreur. Ce problème peut se produire lors de l'utilisation du géo-filtrage, une vidéo n'est pas publiée, une vidéo est hors plage de planification ou dans un autre compte. Vous constaterez peut-être qu'il n'y a pas de problème dans votre code, mais le problème peut dépendre du navigateur, alors testez-le soigneusement.</p>
    <p>Si c'est une possibilité dans votre implémentation, votre code de gestion des erreurs doit utiliser le <code translate="No">one()</code> méthode de gestion des événements pour écouter le <code translate="No">bc-catalog-error</code> dans un bloc de code séparé plutôt que dans le <code translate="No">ready()</code> section.</p>
    <p>Dans l'exemple de code ci-dessous, vous voyez un bloc de code gérer le <code translate="No">bc-catalog-error</code> (ligne 62), ainsi qu'un bloc de code pour <code translate="No">ready</code> (ligne 71).</p>
    <pre class="line-numbers" data-start="50">
<code class="language-html" translate="No">  &lt;video-js id="myPlayerID"
    data-account="1486906377"
    data-player="77a8e8b7-e8d1-4a3c-8a1b-292ba8233006"
    data-embed="default"
    data-video-id="4040394419001"
    class="video-js" controls&gt;&lt;/video-js&gt;

  &lt;p id="textTarget"&gt;&lt;/p&gt;

  &lt;script src="https://players.brightcove.net/1486906377/77a8e8b7-e8d1-4a3c-8a1b-292ba8233006_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    <span class="bcls-highlight">videojs.getPlayer('myPlayerID').one('bc-catalog-error', function(){</span>
      var myPlayer = this,
        specificError;
      if (myPlayer.catalog.error !== undefined) {
        specificError = myPlayer.catalog.error.data[0];
        console.log('bc-catalog-error:', specificError);
      };
    });

    <span class="bcls-highlight">videojs.getPlayer('myPlayerID').ready(function() {</span>
      var myPlayer = this;
      console.log('in ready');
    });
  &lt;/script&gt;  </code></pre>
    <h3>Utilisation d'une erreur personnalisée</h3>
    <p>La meilleure solution pour gérer un <strong translate="No">bc-catalog-error</strong> peut-être en utilisant une erreur personnalisée. Le code suivant montre un plugin qui utilise une erreur personnalisée pour informer un spectateur d'une vidéo inactive pourquoi la vidéo ne sera pas lue:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('inactiveErrorCheck', function(options) {
  var myPlayer = this;
  myPlayer.one('bc-catalog-error', function(){
    var specificError;
    myPlayer.errors({
      'errors': {
        'inactive-error': {
          'headline': options.inactiveMessage,
          'dismiss': false
        }
      }
    });
    if (typeof(myPlayer.catalog.error) !== 'undefined') {
      specificError = myPlayer.catalog.error.data[0];
      if (specificError !== 'undefined' &amp; specificError.error_code == "VIDEO_NOT_PLAYABLE") {
        myPlayer.error({code:'inactive-error'});
      };
    };
  });
});</code></pre>
    <p>Le code pour utiliser le plugin, utilisant une implémentation de lecteur intégré dans la page, suit:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID" data-video-id="5350958927001"
  data-account="1507807800001"
  data-player="default"
  data-embed="default"
  data-application-id
  class="video-js"
  controls&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1507807800001/default_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="inactive-error-check.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
    options =[];
    options.inactiveMessage = "This is the message to display for inactive videos.";
    myPlayer.inactiveErrorCheck(options);
});&lt;/script&gt;</code></pre>
    <p>Si vous ajoutez le plugin via le <strong translate="No">PLUGINS</strong> section dans Studio, vous devez fournir l'URL correcte où vous avez stocké votre code JavaScript, puis dans le <strong translate="No">Nom, option (JSON)</strong> alimentation d'entrée:</p>
    <ul>
      <li>
        <p>Nom: <strong translate="No">inactiveErrorCheck</strong></p>
      </li>
      <li>
        <p>Options: <strong translate="No">{ "inactiveMessage": "This is the message to display for inactive videos." }</strong></p>
      </li>
    </ul>
    <h3 id="Handle_geo-filtering_error">Gérer l'erreur de filtrage géographique</h3>
    <p>Comme mentionné précédemment, le filtrage géographique peut provoquer des erreurs de catalogue. Vous pouvez les gérer de manière très similaire à ce qui vient d'être montré. Un code s'affichera et mettra un message sous le lecteur "en erreur", comme indiqué ici:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="geo error" src="/assets/images/references/player-catalog/geo-error.png" /></figure>
    <p>Le code suivant détecte l'erreur de catalogue, puis vérifie s'il s'agit d'un problème de filtrage géographique. Si tel est le cas, un message approprié s'affiche dans la page HTML, juste en dessous du lecteur, comme indiqué sur la capture d'écran.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="4040394419001"
  data-account="1486906377"
  data-player="XJhO7JGxY"
  data-embed="default"
  data-application-id
  class="video-js"
  controls
  width="640"
  height="360"&gt;&lt;/video-js&gt;
&lt;script src="//players.brightcove.net/1486906377/XJhO7JGxY_default/index.min.js"&gt;&lt;/script&gt;
&lt;br&gt;
&lt;div id="textTarget"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('bc-catalog-error', function() {
    var myPlayer = this,
      specificError;
    if (myPlayer.catalog.error !== undefined) {
      specificError = myPlayer.catalog.error.data[0];
      console.log('myPlayer.catalog.error', myPlayer.catalog.error);
      if (specificError !== undefined &amp; <span class="bcls-highlight">specificError.error_subcode == 'CLIENT_GEO'</span>) {
        document.getElementById('textTarget').innerHTML = '&lt;strong&gt;The video you are trying to watch cannot be viewed from your current country or location.&lt;/strong&gt;';
      };
    };
  });

  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    console.log('in ready');
  });
&lt;/script&gt;</code></pre>
    <h3 id="Handle_IP_restriction_error">Gérer l'erreur de restriction IP</h3>
    <p>Le code suivant est analogue à ce qui vient d'être montré ci-dessus pour le filtrage géographique, à l'exception des restrictions IP:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="5981021521001"
  data-account="5977711152001"
  data-player="iYNDnCGt9"
  data-embed="default"
  data-application-id
  class="video-js"
  controls
  width="640"
  height="360"&gt;&lt;/video-js&gt;
&lt;script src="//players.brightcove.net/5977711152001/iYNDnCGt9_default/index.min.js"&gt;&lt;/script&gt;
&lt;br&gt;
&lt;div id="textTarget"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').one('bc-catalog-error', function() {
    var myPlayer = this,
      specificError;
    if (myPlayer.catalog.error !== undefined) {
      specificError = myPlayer.catalog.error.data[0];
      console.log('myPlayer.catalog.error', myPlayer.catalog.error);
      if (specificError !== undefined &amp; <span class="bcls-highlight">specificError.error_subcode == 'CLIENT_IP'</span>) {
        document.getElementById('textTarget').innerHTML = '&lt;strong&gt;The video you are trying to watch cannot be viewed from your current IP address.&lt;/strong&gt;';
      };
    };
  });

  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    console.log('in ready');
  });
&lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="requestlimit">Limite de demande</h2>
    <p>Étant donné que les réponses de l'API sont mises en cache, il n'y a pas de limite de débit sur <code translate="No">catalog</code> demandes.</p>
  </section>
</article>